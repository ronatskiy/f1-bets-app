(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{147:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1),a=r(10),c=r(8),i=r(9),o=function(e){function t(e){var r,i=e.season,o=e.raceName,s=e.raceUrl,u=e.circuit,l=e.roundSchedule;return Object(n.a)(this,t),(r=Object(a.a)(this,Object(c.a)(t).call(this,{season:i,raceName:o}))).raceUrl=s,r.circuit=u,r.roundSchedule=l,r}return Object(i.a)(t,e),t}(r(148).a)},148:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(1),a=r(149),c=r.n(a),i=function e(t){var r=t.season,a=t.raceName;Object(n.a)(this,e),this.season=r,this.raceName=a,this.roundId=c()("".concat(this.raceName," ").concat(this.season))}},151:function(e,t,r){"use strict";var n=r(1),a=r(5),c=r(116),i=r(10),o=r(8),s=r(9),u=r(31),l=r(37),p=function(){function e(t){Object(n.a)(this,e),this._date=t}return Object(a.a)(e,[{key:"title",get:function(){return"\u0413\u043e\u043d\u043a\u0430"}},{key:"day",get:function(){return Object(u.b)(this._date)}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(u.c)(this._date)):""}}]),e}(),f=function(e){function t(e,r){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,r)))._practiceNumber=e,a}return Object(s.a)(t,e),Object(a.a)(t,[{key:"title",get:function(){return"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 ".concat(this._practiceNumber)}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(u.c)(this._date)," - ").concat(Object(u.c)(Object(l.a)(this._date,3===this._practiceNumber?1:1.5,"hour"))):""}}]),t}(p),d=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"title",get:function(){return"\u041a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(u.c)(this._date)," - ").concat(Object(u.c)(Object(l.a)(this._date,1,"hour"))):""}}]),t}(p);r.d(t,"a",function(){return h});var h=function(){function e(t){Object(n.a)(this,e),this._roundInfo=t,this.racerStandings=[]}return Object(a.a)(e,[{key:"addRacerStandings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.racerStandings=e,this}},{key:"_firstPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[0]||""}},{key:"_secondPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[1]||""}},{key:"_thirdPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[2]||""}},{key:"_qualificationStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.qualification:""}},{key:"raceStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.race:""}},{key:"countryName",get:function(){return this._roundInfo.circuit.countryName}},{key:"circuitUrl",get:function(){return this._roundInfo.circuit.url}},{key:"raceUrl",get:function(){return this._roundInfo.raceUrl}},{key:"flagUrl",get:function(){return Object(c.findFlagUrlByCountryName)(this.countryName)}},{key:"raceTitle",get:function(){return"Formula 1 ".concat(this._roundInfo.raceName," ").concat(this._roundInfo.season)}},{key:"practices",get:function(){return[new f(1,this._firstPracticeStartTime),new f(2,this._secondPracticeStartTime),new f(3,this._thirdPracticeStartTime)]}},{key:"qualification",get:function(){return new d(this._qualificationStartTime)}},{key:"race",get:function(){return new p(this.raceStartTime)}},{key:"weekendInterval",get:function(){return"".concat(Object(u.f)(this._firstPracticeStartTime)," - ").concat(Object(u.f)(this.raceStartTime))}}]),e}()},201:function(e,t,r){"use strict";var n=r(1),a=r(5),c=r(10),i=r(8),o=r(9),s=function(){function e(){Object(n.a)(this,e),this._score=[]}return Object(a.a)(e,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._score.push(e)}},{key:"getPointsAt",value:function(e){return this._score[e]}},{key:"value",get:function(){return this._score.reduce(function(e,t){return e+t},0)}},{key:"tooltip",get:function(){return this._score.join("-")}}]),e}();function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new s;return t?function(e,t){var r=new s,n=t.slice(0,10);return e.forEach(function(e,a){if(e){var c=t.findIndex(function(t){return t===e}),i=Math.abs(c-a),o=n.some(function(t){return t===e}),s=i<5?10-2*i:o?2:0;r.add(s)}else r.add(0)}),r}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Array(t).fill(null).map(function(t,r){return e[r+1]?e[r+1]:""})}(e),Object.values(t)):r}var l=r(76);r.d(t,"a",function(){return p});var p="official-results",f=function(e){function t(e){var r,a=e.userName,o=e.userId,s=e.userBetsMap,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(n.a)(this,t),(r=Object(c.a)(this,Object(i.a)(t).call(this,{name:a,id:o}))).userPoll=s,r.userScore=u(s,l),r}return Object(o.a)(t,e),Object(a.a)(t,null,[{key:"createOfficialResults",value:function(e){return new t({userName:"Formula 1 (Official)",userId:p,userBetsMap:e})}}]),t}(l.a);t.b=f},202:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(1),a=r(5),c=r(10),i=r(8),o=r(9),s=r(22),u=r(116),l=function(e){function t(e){var r=e.firstName,a=e.lastName,o=e.number,s=e.abbreviation,u=e.points,l=e.nationality;return Object(n.a)(this,t),Object(c.a)(this,Object(i.a)(t).call(this,r,a,o,s,u,l))}return Object(o.a)(t,e),Object(a.a)(t,[{key:"flagUrl",get:function(){return Object(u.findFlagUrlByNationality)(this.nationality)}}]),t}(s.a)},205:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1),a=function e(t){var r=t.raceName,a=t.raceTime,c=t.qualTime,i=t.practice1Time,o=t.practice2Time,s=t.practice3Time,u=t.id;Object(n.a)(this,e),this.raceName=r,this.raceTime=a,this.qualTime=c,this.practice1Time=i,this.practice2Time=o,this.practice3Time=s,this.raceId=u}},206:function(e,t,r){"use strict";var n=r(1),a=r(40);t.a=function e(t){var r=t.userInfo,c=t.betsMap;Object(n.a)(this,e),this.userInfo=r,this.betsMap=function(e){if(e instanceof Map){var t={},r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value,u=Object(a.a)(s,2),l=u[0],p=u[1];p&&(t[l]=p)}}catch(f){n=!0,c=f}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return t}return e}(c)}},207:function(e,t,r){"use strict";var n=r(1);t.a=function e(t){var r=t.racerId,a=t.racerFullName,c=t.racerPoints,i=t.racerUrl,o=t.racerNumber,s=t.racerNationality,u=t.constructorName,l=t.constructorUrl;Object(n.a)(this,e),this.racerId=r,this.racerFullName=a,this.racerUrl=i,this.racerPoints=c,this.racerNumber=o,this.racerNationality=s,this.constructorUrl=l,this.constructorName=u}},208:function(e,t,r){"use strict";var n=r(1);t.a=function e(t){var r=t.pos,a=t.name,c=t.id,i=t.points,o=t.url,s=t.nationality;Object(n.a)(this,e),this.pos=r,this.name=a,this.id=c,this.points=i,this.url=o,this.nationality=s}},22:function(e,t,r){"use strict";var n=r(1),a=r(5),c=function(){function e(t,r,a,c){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";Object(n.a)(this,e),this.firstName=t,this.lastName=r,this.number=a,this.abbreviation=c,this.points=i,this.nationality=o,this.dateOfBirth=s}return Object(a.a)(e,[{key:"name",get:function(){return"".concat(this.firstName," ").concat(this.lastName)}},{key:"shortName",get:function(){return"".concat(this.firstName[0],". ").concat(this.lastName)}},{key:"code",get:function(){return this.abbreviation}}],[{key:"create",value:function(t){var r=t.firstName,n=t.lastName,a=t.number,c=t.abbreviation,i=t.points;return new e(r,n,a,c,void 0===i?0:i,t.nationality,t.dateOfBirth)}}]),e}();t.a=c},3:function(e,t,r){"use strict";r(408),r(410);var n=r(26),a=r.n(n),c=r(154),i=r.n(c),o=r(211),s=r.n(o),u=r(212),l=r.n(u),p=r(213),f=r.n(p),d=r(215),h=r.n(d),m=r(216),b=r.n(m),v=r(217),O=r.n(v),g=r(218),y=r.n(g),j=r(219),w=r.n(j),_=r(220),k=r.n(_),T=r(228),S=r.n(T),E=r(229),M=r.n(E),R=r(233),N=r.n(R),x=r(232),Z=r.n(x),A=r(230),U=r.n(A),P=r(231),I=r.n(P),B=r(225),D=r.n(B),C=r(226),q=r.n(C),W=r(210),F=r.n(W),L=r(234),z=r.n(L),V=r(235),H=r.n(V),G=r(227),Y=r.n(G),J=r(236),K=r.n(J),$=r(237),Q=r.n($),X=r(238),ee=r.n(X),te=r(239),re=r.n(te),ne=r(240),ae=r.n(ne),ce=r(2),ie=r.n(ce),oe=r(6),se=r(111),ue=r.n(se),le={get:function(){var e=Object(oe.a)(ie.a.mark(function e(t){return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.get(t);case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),put:function(){var e=Object(oe.a)(ie.a.mark(function e(t,r){return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",ue.a.put(t,r));case 4:e.prev=4,e.t0=e.catch(0),console.error(e.t0.message);case 7:case"end":return e.stop()}},e,this,[[0,4]])}));return function(t,r){return e.apply(this,arguments)}}()};r.d(t,"a",function(){return F.a}),r.d(t,"b",function(){return i.a}),r.d(t,"e",function(){return s.a}),r.d(t,"w",function(){return l.a}),r.d(t,"c",function(){return f.a}),r.d(t,"i",function(){return h.a}),r.d(t,"k",function(){return b.a}),r.d(t,"m",function(){return O.a}),r.d(t,"n",function(){return y.a}),r.d(t,"z",function(){return w.a}),r.d(t,"d",function(){return k.a}),r.d(t,"r",function(){return D.a}),r.d(t,"s",function(){return q.a}),r.d(t,"t",function(){return Y.a}),r.d(t,"u",function(){return S.a}),r.d(t,"v",function(){return M.a}),r.d(t,"g",function(){return U.a}),r.d(t,"f",function(){return I.a}),r.d(t,"h",function(){return Z.a}),r.d(t,"A",function(){return N.a}),r.d(t,"x",function(){return z.a}),r.d(t,"y",function(){return H.a}),r.d(t,"l",function(){return K.a}),r.d(t,"j",function(){return Q.a}),r.d(t,"o",function(){return ee.a}),r.d(t,"q",function(){return re.a}),r.d(t,"p",function(){return ae.a}),r.d(t,"B",function(){return le}),a.a.locale("ru")},31:function(e,t,r){"use strict";r.d(t,"d",function(){return c}),r.d(t,"e",function(){return i}),r.d(t,"g",function(){return o}),r.d(t,"a",function(){return s}),r.d(t,"b",function(){return u}),r.d(t,"c",function(){return l}),r.d(t,"f",function(){return p});var n=r(26),a=r.n(n);function c(e){return a()(e).format("D MMMM YYYY, HH:mm")}function i(e){return a()(e).format("D MMMM YYYY, HH:mm:ss")}function o(e){return a()(e).utc().format()}function s(e){return a()(e).format("DD MMMM")}function u(e){return a()(e).format("ddd")}function l(e){return a()(e).format("HH:mm")}function p(e){return a()(e).format("D MMM YYYY")}},32:function(e,t,r){"use strict";var n=r(0),a=r.n(n),c=r(42),i=r(1),o=r(5),s=r(10),u=r(8),l=r(9),p=r(18),f=r(796),d=r(112),h=r.n(d),m=(r(93),r(3)),b=(r(151),r(452),r(91)),v=(r(454),function(e){var t=e.className,r=e.children,n=Object(b.a)(e,["className","children"]);return a.a.createElement("a",Object.assign({className:h()("text-link",t)},n),r)}),O=(r(456),function(e){var t=e.className,r=void 0===t?"":t,n=e.countryName,c=e.flagUrl,i=e.countryUrl;return a.a.createElement("div",{className:"country-info ".concat(r)},a.a.createElement("div",{className:"country-info__flag"},a.a.createElement("img",{className:"country-info__flag-image",src:c,alt:n})),a.a.createElement(v,{href:i,target:"_blank",className:"country-info__country-name"},n))}),g=(r(458),r(202),r(460),function(e){var t=e.className,r=void 0===t?"":t,n=e.flagUrl,c=void 0===n?"":n,i=e.name,o=void 0===i?"":i,s=e.code;return a.a.createElement("div",{className:"racer-view ".concat(r),title:o},c&&a.a.createElement("img",{className:"racer-view__image",src:c,alt:o}),a.a.createElement("span",null,s))}),y=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.racers,r=e.rowSize;return Array(t.length/r).fill(0).map(function(e,n){return t.slice(n*r,n*r+r)}).map(function(e,t){return a.a.createElement("div",{key:t,className:"racer-standings-widget__row"},e.map(function(e,n){return a.a.createElement("div",{className:"racer-standings-widget__racer",key:e.code},a.a.createElement("div",{className:"racer-standings-widget__racer-pos-number"},n+(t*r+1)),a.a.createElement(g,{className:"racer-standings-widget__racer-name",code:e.code,name:e.name}))}))})}}]),t}(a.a.Component);y.defaultProps={rowSize:20};var j=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.raceInfo,r=e.infoText,n=e.commandButton,c=t.flagUrl,i=t.countryName,o=t.raceTitle,s=t.weekendInterval,u=t.practices,l=t.qualification,p=t.race,f=t.circuitUrl,d=t.raceUrl,h=t.racerStandings;return a.a.createElement(m.e,{className:"race-info-panel"},a.a.createElement(m.w,null,a.a.createElement(m.c,{xs:12},a.a.createElement(O,{className:"race-info-panel__country-info",countryName:i,flagUrl:c,countryUrl:f}),a.a.createElement(v,{target:"_blank",href:d,className:"race-info-panel__grand-prix-title"},o))),a.a.createElement(m.w,null,a.a.createElement(m.c,{className:"race-info-panel__weekend-interval"},s)),a.a.createElement(m.w,{className:"justify-content-around section race-info-panel__weekend-schedule"},a.a.createElement(m.c,{className:"race-info-panel__practice-list",md:5},u.map(function(e){var t=e.title,r=e.day,n=e.timeInterval;return a.a.createElement(m.w,{className:"race-info-panel__stage-info",key:t.split(" ").join("_")},a.a.createElement(m.c,{xs:5},t),a.a.createElement(m.c,{xs:2},r.toUpperCase()),a.a.createElement(m.c,null,n))})),a.a.createElement(m.c,{className:"race-info-panel__race-description",md:5},a.a.createElement(m.w,{className:"race-info-panel__stage-info"},a.a.createElement(m.c,{xs:5},l.title),a.a.createElement(m.c,{xs:2},l.day.toUpperCase()),a.a.createElement(m.c,null,l.timeInterval)),a.a.createElement(m.w,{className:"race-info-panel__stage-info"},a.a.createElement(m.c,{xs:5},p.title),a.a.createElement(m.c,{xs:2},p.day.toUpperCase()),a.a.createElement(m.c,null,p.timeInterval)))),h.length>0&&a.a.createElement(y,{racers:h}),a.a.createElement(m.w,null,a.a.createElement(m.c,null,a.a.createElement(n,null))),a.a.createElement("hr",{className:"race-info-panel__underscore"}),r&&a.a.createElement(m.w,null,a.a.createElement(m.c,null,a.a.createElement(m.l,{color:"muted"},r))))}}]),t}(a.a.Component);j.defaultProps={infoText:""};var w,_,k,T,S,E=j,M=r(77),R=r(92),N=(w=Object(p.b)(function(e){return{isBetsAllowed:e.homePageStore.isBetsAllowed,isUserAlreadyBet:e.homePageStore.isUserAlreadyBet,isAuthenticated:e.homePageStore.isAuthenticated}}),Object(f.a)(_=w(_=Object(p.c)(_=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleBetButtonClick=function(){r.props.isBetsAllowed?r.props.history.push(J.BETS):r.props.history.push(J.RESULTS)},r}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isBetsAllowed,r=e.isUserAlreadyBet,n=e.isAuthenticated,c="\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432";return c=t?n?r?R.a:R.b:"\u0412\u043e\u0439\u0442\u0438 \u0434\u043b\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f":"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432",a.a.createElement(M.a,{onClick:this.handleBetButtonClick},c)}}]),t}(a.a.Component))||_)||_)||_),x="\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f. \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0412\u0430\u0448\u0435 \u0443\u0447\u0430\u0441\u0442\u0438\u0435.",Z=Object(p.b)("homePageStore")(k=Object(f.a)(k=Object(p.c)(k=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(r=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).handleShowMoreButtonClick=function(){r.props.history.push(J.RESULTS)},r.showMoreButton=function(){return a.a.createElement(M.a,{onClick:r.handleShowMoreButtonClick},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432")},r}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.homePageStore,r=t.nextRaceInfo,n=t.previousRaces,c=t.isBetsAllowed;return a.a.createElement("div",{className:"home-page"},a.a.createElement("section",{className:"colors--very-light-red section"},r&&a.a.createElement(E,{raceInfo:r,commandButton:N,infoText:c?"\u0421\u043f\u0435\u0448\u0438\u0442\u0435 \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043a\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0435\u0449\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f.":x})),n.length>0&&a.a.createElement("section",{className:"section text-center"},"\u0420\u0430\u043d\u0435\u0435 \u0432 \u0441\u0435\u0440\u0438\u0430\u043b\u0435 :)"),n.map(function(t,r){var n=h()("section",{"colors--very-light-green":r%2===0,"colors--light-gray":r%2!==0});return a.a.createElement("section",{key:t.countryName,className:n},a.a.createElement(E,{raceInfo:t,commandButton:e.showMoreButton,infoText:x}))}))}}]),t}(n.Component))||k)||k)||k,A=r(795),U=r(57),P=Object(p.c)(function(e){var t=e.form,r=t.$(U.a.LOGIN),n=r.error,c=Boolean(n),i=t.$(U.a.PASSWORD),o=i.error,s=Boolean(o);return a.a.createElement(m.i,null,a.a.createElement(m.k,null,a.a.createElement(m.n,{htmlFor:r.id},r.label),a.a.createElement(m.m,Object.assign({},r.bind(),{invalid:c,valid:r.isDirty&&!c})),a.a.createElement(m.j,{valid:!c},r.error)),a.a.createElement(m.k,null,a.a.createElement(m.n,{htmlFor:i.id},i.label),a.a.createElement(m.m,Object.assign({},i.bind({type:"password"}),{invalid:s,valid:i.isDirty&&!s})),a.a.createElement(m.j,{valid:!s},o)),a.a.createElement(m.b,{color:"primary",type:"submit",onClick:t.onSubmit,disabled:t.isEmpty||!t.isValid,style:{width:"100%"}},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),I=Object(p.c)(function(e){var t=e.form,r=t.$(U.b.NAME),n=r.error,c=Boolean(n),i=t.$(U.b.LOGIN),o=i.error,s=Boolean(o),u=t.$(U.b.PASSWORD),l=u.error,p=Boolean(l);return a.a.createElement(m.i,null,a.a.createElement(m.k,null,a.a.createElement(m.n,{htmlFor:r.id},r.label),a.a.createElement(m.m,Object.assign({},r.bind(),{invalid:c,valid:r.isDirty&&!c})),a.a.createElement(m.j,{valid:!c},n)),a.a.createElement(m.k,null,a.a.createElement(m.n,{htmlFor:i.id},i.label),a.a.createElement(m.m,Object.assign({},i.bind(),{invalid:s,valid:i.isDirty&&!s})),a.a.createElement(m.j,{valid:!s},o)),a.a.createElement(m.k,null,a.a.createElement(m.n,{htmlFor:u.id},u.label),a.a.createElement(m.m,Object.assign({},u.bind({type:"password"}),{invalid:p,valid:u.isDirty&&!p})),a.a.createElement(m.j,{valid:!p},l),a.a.createElement(m.l,{color:"muted"},"\u0412\u0410\u0416\u041d\u041e! \u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u0412\u0430\u0448\u0438 \u043f\u0430\u0440\u043e\u043b\u0438 \u043e\u0442 \u0431\u0430\u043d\u043a\u043e\u0432\u043a\u0438\u0445 \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0430\u043a\u0430\u0443\u043d\u0442\u043e\u0432. ",a.a.createElement("br",null),"\u042d\u0442\u043e\u0442 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043a\u0430\u043a-\u0442\u043e \u043e\u0441\u043e\u0431\u043e \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0435\u0433\u043e \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u043b\u043e\u0443\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u0438\u043a\u0438. ",a.a.createElement("br",null),"\u041d\u0443, \u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b \u0435\u0441\u043b\u0438 \u0447\u0442\u043e :)")),a.a.createElement(M.a,{type:"submit",disabled:t.isEmpty||!t.isValid,onClick:t.onSubmit,style:{width:"100%"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),B=(r(467),Object(p.b)("loginPageStore")(T=Object(f.a)(T=Object(p.c)(T=function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleRegisterNew=function(){r.props.loginPageStore.toggleRegisterNewForm()},r}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.loginPageStore,t=e.isRegisterNew,r=e.isUserAuthenticated,n=e.form;return r?a.a.createElement(A.a,{to:this._redirectPath}):a.a.createElement(m.e,{tag:"section",className:"section"},a.a.createElement(m.w,null,a.a.createElement(m.c,{lg:{size:6,offset:3},md:{size:8,offset:2}},a.a.createElement(m.w,null,a.a.createElement(m.c,null,a.a.createElement("h1",null,t?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442":"\u0412\u0445\u043e\u0434 \u0432 F1 Bets App"),a.a.createElement("div",{className:"text-muted"},"\u0438\u043b\u0438",a.a.createElement(m.b,{color:"link",onClick:this.handleRegisterNew},t?" \u0432\u043e\u0439\u0442\u0438 \u0432 \u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442":" \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))),a.a.createElement(m.w,{className:"login-form-container"},a.a.createElement(m.c,null,t?a.a.createElement(I,{form:n}):a.a.createElement(P,{form:n}))))))}},{key:"_redirectPath",get:function(){return(this.props.location.state||{from:{pathname:"/"}}).from}}]),t}(a.a.Component))||T)||T)||T),D=r(788),C=Object(p.b)("logoutPageStore")(S=Object(p.c)(S=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.logoutPageStore.logout()}},{key:"render",value:function(){var e=this.props.logoutPageStore.isUserAuthenticated;return a.a.createElement(m.e,null,a.a.createElement(m.w,{className:"section"},e?a.a.createElement(m.c,null,"\u0418\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430..."):a.a.createElement(m.c,{lg:{size:6,offset:3},md:{size:8,offset:2}},a.a.createElement("div",null,"\u041c\u044b \u0431\u0443\u0434\u0435\u043c \u0441\u043a\u0443\u0447\u0430\u0442\u044c \u043f\u043e \u0442\u0435\u0431\u0435 :)"),a.a.createElement("div",null,a.a.createElement(D.a,{to:J.HOME},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))))}}]),t}(a.a.Component))||S)||S,q=r(789),W=function(e){var t=e.component,r=e.isAuthenticated,n=void 0!==r&&r,c=e.isCurrentUserAdmin,i=void 0!==c&&c,o=e.isPrivate,s=void 0!==o&&o,u=e.onlyForAdmins,l=void 0!==u&&u,p=Object(b.a)(e,["component","isAuthenticated","isCurrentUserAdmin","isPrivate","onlyForAdmins"]);return a.a.createElement(q.a,Object.assign({},p,{render:function(e){return l&&!i?a.a.createElement(A.a,{to:{pathname:J.HOME}}):s&&!n?a.a.createElement(A.a,{to:{pathname:J.LOGIN,state:{from:e.location}}}):a.a.createElement(t,p)}}))};r.d(t,"c",function(){return J}),r.d(t,"a",function(){return W});var F=a.a.lazy(function(){return Promise.all([r.e(0),r.e(2)]).then(r.bind(null,797))}),L=a.a.lazy(function(){return r.e(3).then(r.bind(null,792))}),z=a.a.lazy(function(){return r.e(4).then(r.bind(null,798))}),V=a.a.lazy(function(){return Promise.all([r.e(0),r.e(5)]).then(r.bind(null,791))}),H=a.a.lazy(function(){return r.e(6).then(r.bind(null,799))}),G=a.a.lazy(function(){return r.e(7).then(r.bind(null,793))}),Y=a.a.lazy(function(){return r.e(8).then(r.bind(null,790))}),J={HOME:"/",CALENDAR:"/calendar",BETS:"/bet",ADMIN:"/admin",RESULTS:"/results",RACERS:"/racers",TEAMS:"/teams",LOGIN:"/login",LOGOUT:"/logout",BETS_HISTORY:"/bets-history"},K=[{exact:!0,path:J.HOME,component:Z,id:Object(c.a)()},{path:J.LOGIN,component:B,id:Object(c.a)()},{path:J.LOGOUT,component:C,id:Object(c.a)()},{isPrivate:!0,path:J.BETS,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(F,null))},id:Object(c.a)()},{isPrivate:!0,path:J.BETS_HISTORY,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(Y,null))},id:Object(c.a)()},{path:J.RESULTS,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(L,null))},id:Object(c.a)()},{path:J.RACERS,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(H,null))},id:Object(c.a)()},{path:J.TEAMS,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(z,null))},id:Object(c.a)()},{path:J.CALENDAR,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(G,null))},id:Object(c.a)()},{isPrivate:!0,onlyForAdmins:!0,path:J.ADMIN,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(V,null))},id:Object(c.a)()}];t.b=K},356:function(e,t,r){"use strict";var n=r(53),a=r(67),c=r(34),i=r(1),o=r(5),s=r(146),u=r.n(s),l=r(201),p=function(){function e(t){var r=this,n=t.race,a=t.finishedRacers,c=void 0===a?[]:a;Object(i.a)(this,e),this._officialResults=null,this._officialResultsBetMap=null,this.raceId=n.roundId,this.raceTitle=n.prettyTitle+" "+n.season,c.length>0&&(this._officialResultsBetMap=this._convertToBetMap(c),this._officialResults=l.b.createOfficialResults(this._officialResultsBetMap)),this._userVotes=n.bets.map(function(e){return new l.b({userName:e.userInfo.name,userId:e.userInfo.id,userBetsMap:e.betsMap},r._officialResultsBetMap)})}return Object(o.a)(e,[{key:"_convertToBetMap",value:function(e){return e.reduce(function(e,t,r){return Object(c.a)({},e,Object(a.a)({},r+1,t.code))},{})}},{key:"hasOfficialResults",get:function(){return null!==this._officialResults}},{key:"userBetsResults",get:function(){if(this.hasOfficialResults){var e=u()(this._userVotes,function(e){return-e.userScore.value});return[this._officialResults].concat(Object(n.a)(e))}return Object(n.a)(this._userVotes)}},{key:"userVotes",get:function(){return this._userVotes}}]),e}();t.a=p},357:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1),a=function e(t){var r=t.userId,a=t.userName,c=t.totalPoints,i=void 0===c?0:c;Object(n.a)(this,e),this.userId=r,this.userName=a,this.totalPoints=i}},37:function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"d",function(){return o}),r.d(t,"b",function(){return s}),r.d(t,"a",function(){return u});var n=r(26),a=r.n(n);function c(e){return e instanceof a.a?e:a()(e)}function i(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"minute";return e=c(e),t=c(t),r=c(r),e.isBetween(t,r,n)}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=c(e)).subtract(t,r)}function s(e,t){return c(e).isAfter(c(t))}function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=c(e)).add(t,r)}},403:function(e,t,r){e.exports=r(738)},42:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(153),a=r.n(n),c="-26bf-11e8-";function i(){return a()()+a()(c)}},444:function(e,t,r){},446:function(e,t,r){},448:function(e,t,r){},452:function(e,t,r){},454:function(e,t,r){},456:function(e,t,r){},458:function(e,t,r){},460:function(e,t,r){},462:function(e,t,r){},467:function(e,t,r){},471:function(e,t,r){},473:function(e,t,r){},475:function(e,t,r){},477:function(e,t,r){},479:function(e,t,r){},49:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(1),a=r(5),c=r(10),i=r(8),o=r(9),s=r(76),u=r(42),l=function(e){function t(e){var r,a=e.login,o=e.name,s=e.password,l=e.id,p=e.isAdmin,f=void 0!==p&&p,d=e.isTesting,h=void 0!==d&&d;return Object(n.a)(this,t),(r=Object(c.a)(this,Object(i.a)(t).call(this,{name:o,id:l}))).login=a,r.password=s,r.id=l||Object(u.a)(),r.isAdmin=f,r.isTesting=h,r}return Object(o.a)(t,e),Object(a.a)(t,[{key:"toUserInfo",value:function(){return new s.a(this)}}],[{key:"fromJs",value:function(e){var r=e.login,n=e.name,a=e.password,c=e.id,i=e.isAdmin;return new t({login:r,name:n,password:a,id:c,isAdmin:void 0!==i&&i})}}]),t}(s.a)},57:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return u});var n,a=r(67),c=r(34),i={LOGIN:"login",PASSWORD:"password"},o=Object(c.a)({},i,{NAME:"name"}),s=(n={},Object(a.a)(n,i.LOGIN,{name:i.LOGIN,label:"\u041b\u043e\u0433\u0438\u043d",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, superman",rules:"required|string|alpha_num|between:2,15"}),Object(a.a)(n,i.PASSWORD,{name:i.PASSWORD,label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, ******",rules:"required|string|alpha_num|between:5,15"}),n),u=Object(c.a)({},s,Object(a.a)({},o.NAME,{name:o.NAME,label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, John Doe",rules:"required|string|between:3,25"}))},649:function(e,t,r){var n={"./ar":310,"./ar.js":310,"./az":311,"./az.js":311,"./be":312,"./be.js":312,"./bg":313,"./bg.js":313,"./bs":314,"./bs.js":314,"./ca":315,"./ca.js":315,"./cs":316,"./cs.js":316,"./cy":317,"./cy.js":317,"./da":318,"./da.js":318,"./de":319,"./de.js":319,"./el":320,"./el.js":320,"./en":186,"./en.js":186,"./es":321,"./es.js":321,"./et":322,"./et.js":322,"./eu":323,"./eu.js":323,"./fa":324,"./fa.js":324,"./fi":325,"./fi.js":325,"./fr":326,"./fr.js":326,"./hr":327,"./hr.js":327,"./hu":328,"./hu.js":328,"./id":329,"./id.js":329,"./it":330,"./it.js":330,"./ja":331,"./ja.js":331,"./ka":332,"./ka.js":332,"./ko":333,"./ko.js":333,"./lt":334,"./lt.js":334,"./lv":335,"./lv.js":335,"./mk":336,"./mk.js":336,"./mn":337,"./mn.js":337,"./ms":338,"./ms.js":338,"./nb_NO":339,"./nb_NO.js":339,"./nl":340,"./nl.js":340,"./pl":341,"./pl.js":341,"./pt":342,"./pt.js":342,"./pt_BR":343,"./pt_BR.js":343,"./ro":344,"./ro.js":344,"./ru":345,"./ru.js":345,"./sl":346,"./sl.js":346,"./sq":347,"./sq.js":347,"./sr":348,"./sr.js":348,"./sv":349,"./sv.js":349,"./tr":350,"./tr.js":350,"./ua":351,"./ua.js":351,"./uk":352,"./uk.js":352,"./vi":353,"./vi.js":353,"./zh":354,"./zh.js":354,"./zh_TW":355,"./zh_TW.js":355};function a(e){var t=c(e);return r(t)}function c(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}a.keys=function(){return Object.keys(n)},a.resolve=c,e.exports=a,a.id=649},657:function(e,t){},659:function(e,t){},691:function(e,t){},692:function(e,t){},738:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(52),i=r.n(c),o=r(794),s=r(4),u=r(18),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var f,d,h,m,b={isProductionMode:function(){return!0},getUserStoreApiUrl:function(){return"https://api.myjson.com/bins/ei8zv"},getRaceStoreApiUrl:function(){return"https://api.myjson.com/bins/fp47f"},getLocalStorageUserKey:function(){return"f1betsappuserid"},getTickInterval:function(){return"1"},getCurrentSeason:function(){return"2019"},getVoteClosingTime:function(){return parseInt("15#minutes",10)}},v=r(3),O=r(1),g=r(5),y=r(10),j=r(8),w=r(9),_=r(796),k=(r(444),r(446),r(19)),T=r(75),S=r(7),E=(r(43),r(448),r(32)),M=r(49),R=r(788),N=function(e){var t=e.path,r=void 0===t?"/":t,n=e.className,c=void 0===n?"":n,i=e.disabled,o=void 0!==i&&i,s=e.children;return o?s:a.a.createElement(R.a,{to:r,className:c},s)},x=function(e){var t=e.user,r=t.isAdmin,n=t.name;return a.a.createElement(v.A,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},a.a.createElement(v.f,{header:!0},n),r&&a.a.createElement(v.f,null,a.a.createElement(N,{path:E.c.ADMIN,className:"nav-bar-drop-down-menu__link"},"\u0410\u0434\u043c\u0438\u043d\u043a\u0430")),a.a.createElement(v.f,{disabled:!0},a.a.createElement(N,{path:E.c.BETS,disabled:!0,className:"nav-bar-drop-down-menu__link"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c")),a.a.createElement(v.f,null,a.a.createElement(N,{path:E.c.BETS_HISTORY,className:"nav-bar-drop-down-menu__link"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439")),a.a.createElement(v.f,{divider:!0}),a.a.createElement(v.f,null,a.a.createElement(N,{path:E.c.LOGOUT,className:"nav-bar-drop-down-menu__link"},"\u0412\u044b\u0445\u043e\u0434"))))},Z=r(92),A=Object(u.b)(function(e){return{isAuthenticated:e.appStore.isUserAuthenticated,authenticatedUser:e.appStore.authenticatedUser,isBetsAllowed:e.appStore.isBetsAllowed,isUserAlreadyBet:e.appStore.isUserAlreadyBet}})(f=Object(u.c)((d=function(e){function t(){var e,r;Object(O.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return r=Object(y.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(r,"isOpen",h,Object(T.a)(Object(T.a)(r))),Object(k.a)(r,"handleToggle",m,Object(T.a)(Object(T.a)(r))),r}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,r=e.authenticatedUser,n=e.isBetsAllowed,c=e.isUserAlreadyBet;return a.a.createElement(v.u,{className:"navigation-bar",color:"dark",dark:!0,expand:"md",fixed:"top"},a.a.createElement(v.e,null,a.a.createElement(N,{path:E.c.HOME,className:"navbar-brand"},"Formula 1 Bets App"),a.a.createElement(v.v,{onClick:this.handleToggle}),a.a.createElement(v.d,{isOpen:this.isOpen,navbar:!0},a.a.createElement(v.r,{className:"ml-auto",navbar:!0},a.a.createElement(v.A,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},t&&a.a.createElement(v.f,{disabled:!n},a.a.createElement(N,{path:E.c.BETS,className:"nav-bar-drop-down-menu__link",disabled:!n},c?Z.a:Z.b)),a.a.createElement(v.f,null,a.a.createElement(N,{path:E.c.RESULTS,className:"nav-bar-drop-down-menu__link"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f")),t&&a.a.createElement(v.f,null,a.a.createElement(N,{path:E.c.BETS_HISTORY,className:"nav-bar-drop-down-menu__link"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0412\u0430\u0448\u0438\u0445 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439")))),a.a.createElement(v.A,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u0427\u0435\u043c\u043f\u0438\u043e\u043d\u0430\u0442"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},a.a.createElement(v.f,null,a.a.createElement(N,{path:E.c.CALENDAR,className:"nav-bar-drop-down-menu__link"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c")),a.a.createElement(v.f,null,a.a.createElement(N,{path:E.c.RACERS,className:"nav-bar-drop-down-menu__link"},"\u0413\u043e\u043d\u0449\u0438\u043a\u0438")),a.a.createElement(v.f,null,a.a.createElement(N,{path:E.c.TEAMS,className:"nav-bar-drop-down-menu__link"},"\u041a\u043e\u043c\u0430\u043d\u0434\u044b")))),t?r&&a.a.createElement(x,{user:r,isBetsAllowed:n}):a.a.createElement(v.s,null,a.a.createElement(N,{path:E.c.LOGIN,className:"nav-link"},"\u0412\u0445\u043e\u0434"))))))}}]),t}(a.a.Component),h=Object(S.a)(d.prototype,"isOpen",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(S.a)(d.prototype,"handleToggle",[s.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isOpen=!e.isOpen}}}),f=d))||f)||f,U=r(26),P=r.n(U),I=function(e){var t=e.value,r=e.label;return a.a.createElement("div",{className:"awesome-countdown-timer__section awesome-countdown-timer-section"},a.a.createElement("div",{className:"awesome-countdown-timer-section__time"},t),a.a.createElement("div",{className:"awesome-countdown-timer-section__label"},r))},B=function(e){var t=e.splitter,r=void 0===t?":":t;return a.a.createElement("div",{className:"awesome-countdown-timer__splitter"},r)};var D=function(e){var t=e.className,r=e.withSplitter,n=function(e){var t={months:"",days:"",hours:"",minutes:"",seconds:""};return e?(Math.floor(e.asMonths())>0&&(Math.floor(e.months())<10?t.months="0"+Math.floor(e.months()):t.months=Math.floor(e.months())),Math.floor(e.asDays())>0&&(Math.floor(e.days())<10?t.days="0"+Math.floor(e.days()):t.days=Math.floor(e.days())),Math.floor(e.asHours())>0&&(Math.floor(e.hours())<10?t.hours="0"+Math.floor(e.hours()):t.hours=Math.floor(e.hours())),Math.floor(e.asMinutes())>0&&(Math.floor(e.minutes())<10?t.minutes="0"+Math.floor(e.minutes()):t.minutes=Math.floor(e.minutes())),Math.floor(e.asSeconds())>0&&(Math.floor(e.seconds())<10?t.seconds="0"+Math.floor(e.seconds()):t.seconds=Math.floor(e.seconds())),t):t}(e.duration),c=n.months,i=n.days,o=n.hours,s=n.minutes,u=n.seconds;return a.a.createElement("div",{className:"awesome-countdown-timer ".concat(t)},c&&a.a.createElement(I,{value:c,label:"Months"}),r&&c&&a.a.createElement(B,null),i&&a.a.createElement(I,{value:i,label:"Days"}),r&&i&&a.a.createElement(B,null),o&&a.a.createElement(I,{value:o,label:"Hours"}),r&&o&&a.a.createElement(B,null),s&&a.a.createElement(I,{value:s,label:"Minutes"}),r&&s&&a.a.createElement(B,null),u&&a.a.createElement(I,{value:u,label:"Seconds"}))};D.defaultProps={className:"",withSplitter:!1};var C=D;r(471);var q=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.withSplitter,n=function(e,t){var r=e?P()(e):P()(),n=P()(t),a=P.a.duration(n.diff(r));return a.asSeconds()>=0?a:null}(e.startDate,e.endDate);return a.a.createElement(C,{className:t,duration:n,withSplitter:r})}}]),t}(n.Component);q.defaultProps={className:"",withSplitter:!1};var W,F,L,z=q,V=(r(473),function(e){var t=e.startTime,r=e.endTime,n=e.className,c=void 0===n?"":n;return a.a.createElement(z,{className:"countdown-timer "+c,startDate:t,endDate:r,withSplitter:!0})}),H=r(93),G=(r(475),function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nextRace,r=e.currentTimeUtcString;return a.a.createElement(v.e,{className:"next-race-notifier alert-info"},a.a.createElement(v.w,null,a.a.createElement(v.c,{xs:12,sm:8,md:8,className:"next-race-notifier__race-info"},"\u0414\u043e \u0441\u0442\u0430\u0440\u0442\u0430 \u0433\u043e\u043d\u043a\u0438",a.a.createElement("strong",{className:"next-race-notifier__race-title"},t.title)),a.a.createElement(v.c,{xs:12,sm:4,md:4},a.a.createElement(V,{className:"next-race-notifier__countdown-timer",startTime:r,endTime:t.raceStartTime}))))}}]),t}(a.a.Component)),Y=Object(u.b)("headerStore")(W=Object(u.c)((L=F=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.headerStore,r=e.className,n=t.nextRace,c=t.currentTimeUtcString;return a.a.createElement("header",{className:r},a.a.createElement(A,null),n&&a.a.createElement("section",{className:"colors--very-light-green"},a.a.createElement(G,{nextRace:n,currentTimeUtcString:c})))}}]),t}(a.a.Component),F.defaultProps={className:""},W=L))||W)||W;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var K,$,Q=a.a.createElement("path",{fill:"currentColor",d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"}),X=function(e){return a.a.createElement("svg",J({viewBox:"0 0 496 512"},e),Q)},ee=(r.p,r(477),(new Date).getFullYear()),te=function(e){var t=e.className,r=void 0===t?"":t;return a.a.createElement("footer",{className:"".concat(r," footer")},a.a.createElement(v.e,null,a.a.createElement(v.w,{className:"footer__social-media-links"},a.a.createElement(v.c,{className:"footer__copyright"},"\xa9 2018 - ",ee," F1 fun's team"),a.a.createElement(v.c,{xs:"2"},a.a.createElement(v.w,{className:"social-media-links"},a.a.createElement(v.c,{className:"social-media-links__telegram-box"},a.a.createElement("a",{href:"https://t.me/f1funteam",className:"footer__link social-media-links__link"},a.a.createElement(X,{className:"social-media-links__icon"}))))))))},re=r(31),ne=Object(u.b)(function(e){return{pendingTasksCount:e.appStore._appModel._operationManager.pendingTasksCount,qualificationStartTime:e.appStore.nextRace&&e.appStore.nextRace.qualifyingStartTime,isBetsAllowed:e.appStore.isBetsAllowed,currentTime:e.appStore.currentTime}})(Object(u.c)(function(e){var t=e.pendingTasksCount,r=e.qualificationStartTime,n=e.isBetsAllowed,c=e.currentTime;return a.a.createElement("div",{className:"text-center bg-danger",style:{display:"none"}},a.a.createElement(v.e,null,a.a.createElement(v.w,null,a.a.createElement(v.c,null,"DEVELOPMENT MODE ON!!!"),a.a.createElement(v.c,null,t)),a.a.createElement(v.w,{className:"text-left"},a.a.createElement(v.c,null,"Qualification start Time: ",Object(re.d)(r)),a.a.createElement(v.c,{className:n?"bg-success":"bg-warning"},"Is Bets Allowed: ",n.toString()),a.a.createElement(v.c,null,"Current Time: ",Object(re.e)(c)))))})),ae=(r(479),function(){return a.a.createElement("div",{className:"loader__overlay"},a.a.createElement("div",{className:"loader"},a.a.createElement("div",{className:"loader__plate loader__plate--first"}),a.a.createElement("div",{className:"loader__plate loader__plate--second"}),a.a.createElement("div",{className:"loader__plate loader__plate--third"})))}),ce=Object(u.b)("appStore")(K=Object(_.a)(K=Object(u.c)(K=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.appStore.startTimeWatcher()}},{key:"componentWillUnmount",value:function(){this.props.appStore.stopTimeWatcher()}},{key:"render",value:function(){var e=this.props.appStore,t=e.hasPendingTasks,r=e.isUserAuthenticated,n=e.isUserAdmin,c=e.isProduction;return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(ae,null),a.a.createElement("div",{className:"layout"},!c&&a.a.createElement(ne,null),a.a.createElement(Y,{className:"layout__header"}),a.a.createElement("main",{className:"layout__main colors--very-light-grey"},E.b.map(function(e){return a.a.createElement(E.a,Object.assign({key:e.id,isAuthenticated:r,isCurrentUserAdmin:n},e))})),a.a.createElement(te,{className:"layout__footer"})))}}]),t}(n.Component))||K)||K)||K,ie=r(34),oe=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"startTimeWatcher",value:function(){this._appModel.timeWatcher.start()}},{key:"stopTimeWatcher",value:function(){this._appModel.timeWatcher.stop()}},{key:"isProduction",get:function(){return this._appModel.isProduction}},{key:"currentTime",get:function(){return this._appModel.timeWatcher.currentTime}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}},{key:"hasPendingTasks",get:function(){return this._appModel.operationManager.hasPendingTasks}},{key:"authenticatedUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"isUserAuthenticated",get:function(){return this._appModel.isUserAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appModel.isUserAlreadyBet}},{key:"isUserAdmin",get:function(){return this._appModel.isUserAdmin}}]),e}(),se=function(){function e(t){Object(O.a)(this,e),this._appViewModel=t}return Object(g.a)(e,[{key:"nextRace",get:function(){return this._appViewModel.nextRace}},{key:"currentTimeUtcString",get:function(){return this._appViewModel.timeWatcher.currentTimeUtcString}}]),e}(),ue=r(40),le=r(37),pe=r(151),fe=r(202),de=($=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"nextRace",get:function(){return this._appModel.nextRace}},{key:"isAuthenticated",get:function(){return this._appModel.session.isAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appModel.isUserAlreadyBet}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}},{key:"nextRaceInfo",get:function(){var e=this._appModel.timeWatcher.currentTime,t=this._appModel.formulaOneOfficial.currentSeasonRounds.map(function(e){return new pe.a(e)}).filter(function(t){return Object(le.b)(t.raceStartTime,e)});return Object(ue.a)(t,1)[0]}},{key:"previousRaces",get:function(){var e=this,t=this._appModel.timeWatcher.currentTime;return this._appModel.formulaOneOfficial.currentSeasonRounds.map(function(e){return new pe.a(e)}).filter(function(e){return!Object(le.b)(e.raceStartTime,t)}).map(function(t,r){if(e._raceResults.length>0&&r<e._raceResults.length){var n=e._raceResults[r].racersStandings.map(function(e){return new fe.a(e)});return t.addRacerStandings(n)}return t}).reverse()}},{key:"_raceResults",get:function(){return this._appModel.formulaOneOfficial.currentSeasonRacesResults}}]),e}(),Object(S.a)($.prototype,"nextRaceInfo",[s.computed],Object.getOwnPropertyDescriptor($.prototype,"nextRaceInfo"),$.prototype),Object(S.a)($.prototype,"previousRaces",[s.computed],Object.getOwnPropertyDescriptor($.prototype,"previousRaces"),$.prototype),Object(S.a)($.prototype,"_raceResults",[s.computed],Object.getOwnPropertyDescriptor($.prototype,"_raceResults"),$.prototype),$),he=r(2),me=r.n(he),be=r(6),ve=r(111),Oe=r.n(ve);function ge(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(be.a)(me.a.mark(function e(t){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe.a.get(t);case 3:return e.abrupt("return",e.sent.data.MRData);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))).apply(this,arguments)}function je(e){return we.apply(this,arguments)}function we(){return(we=Object(be.a)(me.a.mark(function e(t){var r;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge("".concat(t,"?limit=0"));case 3:return r=e.sent.total,e.abrupt("return",ge("".concat(t,"?limit=").concat(r)));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))).apply(this,arguments)}var _e,ke,Te,Se,Ee,Me,Re,Ne,xe,Ze,Ae,Ue,Pe,Ie,Be,De=function e(t){Object(O.a)(this,e);var r=t.locality,n=t.country,a=t.lat,c=t.long,i=t.alt;this.locality=r,this.country=n,this.lat=a,this.long=c,this.alt=i},Ce=function e(t){Object(O.a)(this,e);var r=t.circuitId,n=t.url,a=t.circuitName;this.circuitId=r,this.url=n,this.circuitName=a,this.location=new De(t.Location)},qe=function e(t){var r=t.season;Object(O.a)(this,e),this.season=r},We=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e))).round=e.round,r.url=e.url,r.raceName=e.raceName,r.date=e.date,r.time=e.time,r.circuit=new Ce(e.Circuit),r}return Object(w.a)(t,e),t}(qe),Fe=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e))).races=e.Races.map(function(e){return new We(e)}),r}return Object(w.a)(t,e),t}(qe),Le=function e(t){var r=t.constructorId,n=t.url,a=t.name,c=t.nationality;Object(O.a)(this,e),this.constructorId=r,this.url=n,this.name=a,this.nationality=c},ze=function e(t){var r=t.driverId,n=t.url,a=t.permanentNumber,c=t.givenName,i=t.familyName,o=t.dateOfBirth,s=t.code,u=t.nationality;Object(O.a)(this,e),this.driverId=r,this.url=n,this.permanentNumber=a,this.givenName=c,this.familyName=i,this.dateOfBirth=o,this.code=s,this.nationality=u},Ve=function e(t){Object(O.a)(this,e),this.rank=t.rank,this.lap=t.lap,this.time=t.Time,this.averageSpeed=t.AverageSpeed},He=function e(t){Object(O.a)(this,e);var r=t.number,n=t.position,a=t.points,c=t.grid,i=t.laps,o=t.status,s=t.Time;this.number=r,this.position=n,this.points=a,this.driver=new ze(t.Driver),this.constructor=new Le(t.Constructor),this.grid=c,this.laps=i,this.status=o,this.time=Object(ie.a)({},s),this.fastestLap=t.FastestLap?new Ve(t.FastestLap):void 0},Ge=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e))).results=e.Results.map(function(e){return new He(e)}),r}return Object(w.a)(t,e),t}(We),Ye=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e))).races=e.Races.map(function(e){return new Ge(e)}),r}return Object(w.a)(t,e),t}(Fe),Je=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return e}),r}return Object(w.a)(t,e),t}(qe),Ke=function(e){function t(e){var r,n=e.season,a=e.round;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,{season:n}))).round=a,r}return Object(w.a)(t,e),t}(qe),$e=function e(t){var r=t.position,n=t.positionText,a=t.points,c=t.wins;Object(O.a)(this,e),this.position=r,this.positionText=n,this.points=a,this.wins=c},Qe=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e))).driver=new ze(e.Driver),r.constructors=e.Constructors.map(function(e){return new Le(e)}),r}return Object(w.a)(t,e),t}($e),Xe=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e))).driverStandings=e.DriverStandings.map(function(e){return new Qe(e)}),r}return Object(w.a)(t,e),t}(Ke),et=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return new Xe(e)}),r}return Object(w.a)(t,e),t}(Je),tt=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e))).constructor=new Le(e.Constructor),r}return Object(w.a)(t,e),t}($e),rt=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e))).constructorStandings=e.ConstructorStandings.map(function(e){return new tt(e)}),r}return Object(w.a)(t,e),t}(Ke),nt=function(e){function t(e){var r,n=e.season,a=e.StandingsLists;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,{season:n,StandingsLists:a}))).standingsLists=a.map(function(e){return new rt(e)}),r}return Object(w.a)(t,e),t}(Je),at=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,e))).drivers=e.Drivers.map(function(e){return new ze(e)}),r}return Object(w.a)(t,e),t}(qe),ct=function(){function e(){Object(O.a)(this,e)}return Object(g.a)(e,null,[{key:"_createJsonUrl",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"".concat("https://ergast.com/api/f1","/").concat(t.filter(function(e){return Boolean(e)}).join("/"),".json")}},{key:"getDriverStandings",value:function(){var t=Object(be.a)(me.a.mark(function t(r){var n;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge(e._createJsonUrl(r,"driverStandings"));case 2:return n=t.sent,t.abrupt("return",new et(n.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getConstructorStandings",value:function(){var t=Object(be.a)(me.a.mark(function t(r){var n;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge(e._createJsonUrl(r,"constructorStandings"));case 2:return n=t.sent,t.abrupt("return",new nt(n.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getRaceSchedule",value:function(){var t=Object(be.a)(me.a.mark(function t(){var r,n,a,c=arguments;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:"2018",n=c.length>1&&void 0!==c[1]?c[1]:"all",t.next=4,ge(e._createJsonUrl(r,"all"!==n?n:void 0));case 4:return a=t.sent,t.abrupt("return",new Fe(a.RaceTable));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getRaceResults",value:function(){var t=Object(be.a)(me.a.mark(function t(r){var n,a,c=arguments;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"2018",t.next=3,ge(e._createJsonUrl(n,r,"results"));case 3:return a=t.sent,t.abrupt("return",new Ye(a.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getAllRacesResults",value:function(){var t=Object(be.a)(me.a.mark(function t(){var r,n,a=arguments;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:"2018",t.next=3,je(e._createJsonUrl(r,"results"));case 3:return n=t.sent,t.abrupt("return",new Ye(n.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var t=Object(be.a)(me.a.mark(function t(){var r,n,a=arguments;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:"2018",t.next=3,ge(e._createJsonUrl(r,"drivers"));case 3:return n=t.sent,t.abrupt("return",new at(n.DriverTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(),it=r(207),ot=(_e=function(){function e(t){var r=this;Object(O.a)(this,e),Object(k.a)(this,"racerStandingList",ke,this),this.loadRacerStandings=function(){return r._appModel.operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){var t,n,a,c;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.getDriverStandings(r.currentSeason);case 2:t=e.sent,n=Object(ue.a)(t.standingsLists,1),(a=n[0])&&(c=a.driverStandings.map(function(e){var t=e.driver,r=Object(ue.a)(e.constructors,1)[0];return new it.a({pos:e.position,racerFullName:"".concat(t.givenName," ").concat(t.familyName),racerPoints:e.points,racerId:t.code,racerNumber:t.permanentNumber,racerUrl:t.url,constructorName:r?r.name:"",constructorUrl:r?r.url:"",racerNationality:t.nationality})}),Object(s.runInAction)(function(){r.racerStandingList=c}));case 5:case"end":return e.stop()}},e,this)})))},this._appModel=t}return Object(g.a)(e,[{key:"currentSeason",get:function(){return this._appModel.formulaOneOfficial.currentSeason}}]),e}(),ke=Object(S.a)(_e.prototype,"racerStandingList",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_e),st=r(208),ut=(Te=function(){function e(t){var r=this;Object(O.a)(this,e),Object(k.a)(this,"teamsStandingList",Se,this),this.fetchStandings=function(){return r._appModel.operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){var t,n;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.getConstructorStandings(r.currentSeason);case 2:t=e.sent,(n=t.standingsLists[0])&&Object(s.runInAction)(function(){r.teamsStandingList=n.constructorStandings.map(function(e){var t=e.constructor;return new st.a({pos:e.position,name:t.name,id:t.constructorId,points:e.points,url:t.url,nationality:t.nationality})})});case 5:case"end":return e.stop()}},e,this)})))},this._appModel=t}return Object(g.a)(e,[{key:"currentSeason",get:function(){return this._appModel.formulaOneOfficial.currentSeason}}]),e}(),Se=Object(S.a)(Te.prototype,"teamsStandingList",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te),lt=(Ee=function(){function e(t,r){var n=this;Object(O.a)(this,e),Object(k.a)(this,"isRaceResultsPanelVisible",Me,this),Object(k.a)(this,"selectedRace",Re,this),this.addNewBet=function(e){return n._appModel.addNewBet(e)},this._appModel=t,this._storeApiUrl=r,this._raceInfoService=this._appModel._raceInfoService}return Object(g.a)(e,[{key:"showRaceResultsPanel",value:function(){this.isRaceResultsPanelVisible=!0}},{key:"addOrUpdateRaceResults",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r=this;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedRace){e.next=3;break}return window.alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u043d\u043a\u0443!"),e.abrupt("return");case 3:if(!(Object.values(t).filter(function(e){return Boolean(e)}).length<10)){e.next=6;break}return window.alert("\u041d\u0435 \u0432\u0441\u0435 \u0433\u043e\u043d\u0448\u0438\u043a\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u044b!"),e.abrupt("return");case 6:return e.next=8,this._appModel.operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._raceInfoService.updateRaceResult(r.selectedRace.roundId,t);case 2:r.isRaceResultsPanelVisible=!1;case 3:case"end":return e.stop()}},e,this)})));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"users",get:function(){return this._appModel.usersModel.users}},{key:"races",get:function(){return this._appModel.races}},{key:"racers",get:function(){return this._appModel.racers}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),Me=Object(S.a)(Ee.prototype,"isRaceResultsPanelVisible",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Re=Object(S.a)(Ee.prototype,"selectedRace",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(Ee.prototype,"users",[s.computed],Object.getOwnPropertyDescriptor(Ee.prototype,"users"),Ee.prototype),Object(S.a)(Ee.prototype,"races",[s.computed],Object.getOwnPropertyDescriptor(Ee.prototype,"races"),Ee.prototype),Object(S.a)(Ee.prototype,"racers",[s.computed],Object.getOwnPropertyDescriptor(Ee.prototype,"racers"),Ee.prototype),Object(S.a)(Ee.prototype,"showRaceResultsPanel",[s.action],Object.getOwnPropertyDescriptor(Ee.prototype,"showRaceResultsPanel"),Ee.prototype),Object(S.a)(Ee.prototype,"addOrUpdateRaceResults",[s.action],Object.getOwnPropertyDescriptor(Ee.prototype,"addOrUpdateRaceResults"),Ee.prototype),Ee),pt=(Ne=function(){function e(t,r){var n=this;Object(O.a)(this,e),Object(k.a)(this,"isUserFormVisible",xe,this),Object(k.a)(this,"userForEdit",Ze,this),this.deleteUser=function(){var e=Object(be.a)(me.a.mark(function e(t){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")){e.next=3;break}return e.next=3,n._appModel.usersModel.deleteUser(t);case 3:return e.next=5,n._appModel.usersModel.fetchUsers();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this._appModel=t,this._storeApiUrl=r,this._appModel.usersModel.fetchUsers()}return Object(g.a)(e,[{key:"toggleUserForm",value:function(e){this.isUserFormVisible=e}},{key:"setUserForEdit",value:function(e){this.userForEdit=e,this.toggleUserForm(!0)}},{key:"addOrUpdate",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r=this;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this._appModel.operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appModel.usersModel.addOrUpdate(t);case 2:return r.userForEdit=null,r.toggleUserForm(!1),e.next=6,r._appModel.usersModel.fetchUsers();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"users",get:function(){return this._appModel.usersModel.users}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),xe=Object(S.a)(Ne.prototype,"isUserFormVisible",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ze=Object(S.a)(Ne.prototype,"userForEdit",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(Ne.prototype,"users",[s.computed],Object.getOwnPropertyDescriptor(Ne.prototype,"users"),Ne.prototype),Object(S.a)(Ne.prototype,"toggleUserForm",[s.action],Object.getOwnPropertyDescriptor(Ne.prototype,"toggleUserForm"),Ne.prototype),Object(S.a)(Ne.prototype,"setUserForEdit",[s.action],Object.getOwnPropertyDescriptor(Ne.prototype,"setUserForEdit"),Ne.prototype),Object(S.a)(Ne.prototype,"addOrUpdate",[s.action],Object.getOwnPropertyDescriptor(Ne.prototype,"addOrUpdate"),Ne.prototype),Ne),ft=function(){function e(t){Object(O.a)(this,e);var r=b.getRaceStoreApiUrl(),n=b.getUserStoreApiUrl();this._racesSectionStore=new lt(t,r),this._usersSectionStore=new pt(t,n)}return Object(g.a)(e,[{key:"racesSectionStore",get:function(){return this._racesSectionStore}},{key:"usersSectionStore",get:function(){return this._usersSectionStore}}]),e}(),dt=r(397),ht=r.n(dt),mt=r(398),bt=r.n(mt),vt=function(e){e.invalidate("This is a generic error message!")},Ot=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vt;return Object(O.a)(this,t),Object(y.a)(this,Object(j.a)(t).call(this,{fields:e},{options:{showErrorsOnChange:!0,validateOnChange:!0},plugins:{dvr:bt.a},hooks:{onSuccess:r,onError:n}}))}return Object(w.a)(t,e),t}(ht.a),gt=r(57),yt=(Ae=function(){function e(t){var r=this;Object(O.a)(this,e),Object(k.a)(this,"isRegisterNew",Ue,this),this._appViewModel=t,this._loginForm=new Ot(gt.c,function(){var e=Object(be.a)(me.a.mark(function e(t){var n;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appViewModel.session.login(t.values());case 2:if(!0===(n=e.sent)){e.next=6;break}return alert(n),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),this._registerNewAccountForm=new Ot(gt.d,function(){var e=Object(be.a)(me.a.mark(function e(t){var n;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appViewModel.session.signIn(t.values());case 2:if(!0===(n=e.sent)){e.next=6;break}return alert(n),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}return Object(g.a)(e,[{key:"toggleRegisterNewForm",value:function(){this.isRegisterNew=!this.isRegisterNew}},{key:"login",value:function(e){var t=e.login,r=e.password;return this._appViewModel.session.login({login:t,password:r})}},{key:"signIn",value:function(e){var t=e.name,r=e.login,n=e.password;return this._appViewModel.session.signIn({name:t,login:r,password:n})}},{key:"isUserAuthenticated",get:function(){return this._appViewModel.session.isAuthenticated}},{key:"form",get:function(){return this.isRegisterNew?this._registerNewAccountForm:this._loginForm}}]),e}(),Ue=Object(S.a)(Ae.prototype,"isRegisterNew",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(S.a)(Ae.prototype,"form",[s.computed],Object.getOwnPropertyDescriptor(Ae.prototype,"form"),Ae.prototype),Object(S.a)(Ae.prototype,"toggleRegisterNewForm",[s.action],Object.getOwnPropertyDescriptor(Ae.prototype,"toggleRegisterNewForm"),Ae.prototype),Ae),jt=function(){function e(t){Object(O.a)(this,e),this._appViewModel=t}return Object(g.a)(e,[{key:"logout",value:function(){return this._appViewModel.session.logout()}},{key:"isUserAuthenticated",get:function(){return this._appViewModel.session.isAuthenticated}}]),e}(),wt=r(53),_t=r(146),kt=r.n(_t),Tt=r(356),St=r(357),Et=(Pe=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"authenticatedUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"raceResultsWithBets",get:function(){var e=this._appModel.formulaOneOfficial.currentSeasonRacesResults;return this._appModel._racesModel.races.map(function(t,r){return new Tt.a({race:t,finishedRacers:r<e.length?e[r].racersStandings:void 0})})}},{key:"userStandingsByRound",get:function(){return this.raceResultsWithBets.filter(function(e){return e.hasOfficialResults}).map(function(e){return e.userVotes}).map(function(e,t){return{title:"gp"+(t+1),userStandings:e.map(function(e){return new St.a({userId:e.id,userName:e.name,totalPoints:e.userScore.value})})}})}},{key:"userStandings",get:function(){var e=Array.from(this.userStandingsByRound.reduce(function(e,t){return t.userStandings.forEach(function(t){e.set(t.userId,[].concat(Object(wt.a)(e.get(t.userId)||[]),[t]))}),e},new Map([])).values()).map(function(e){var t=kt()(e,function(e){return e.totalPoints});return t.slice(Math.max(t.length-7,0))}),t=new Map([]);return e.forEach(function(e){e.forEach(function(e){if(t.has(e.userId)){var r=e;r.totalPoints+=t.get(e.userId).totalPoints,t.set(e.userId,r)}else t.set(e.userId,e)})}),Array.from(t.values())}}]),e}(),Object(S.a)(Pe.prototype,"authenticatedUser",[s.computed],Object.getOwnPropertyDescriptor(Pe.prototype,"authenticatedUser"),Pe.prototype),Object(S.a)(Pe.prototype,"raceResultsWithBets",[s.computed],Object.getOwnPropertyDescriptor(Pe.prototype,"raceResultsWithBets"),Pe.prototype),Object(S.a)(Pe.prototype,"userStandingsByRound",[s.computed],Object.getOwnPropertyDescriptor(Pe.prototype,"userStandingsByRound"),Pe.prototype),Object(S.a)(Pe.prototype,"userStandings",[s.computed],Object.getOwnPropertyDescriptor(Pe.prototype,"userStandings"),Pe.prototype),Pe),Mt=r(149),Rt=r.n(Mt),Nt=r(205),xt=(Ie=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"races",get:function(){return this._appModel.formulaOneOfficial.currentSeasonRounds.map(function(e){var t=e.raceName,r=e.roundSchedule;return new Nt.a({raceName:t,raceTime:r.race,qualTime:r.qualification,practice1Time:r.practices[0],practice2Time:r.practices[1],practice3Time:r.practices[2],id:Rt()(t)})})}},{key:"nextRace",get:function(){var e=this._appModel.timeWatcher.currentTime,t=this.races.filter(function(t){return Object(le.b)(t.raceTime,e)});return Object(ue.a)(t,1)[0]}},{key:"isRaceWeekend",get:function(){return!this._appModel.isBetsAllowed}},{key:"currentSeason",get:function(){return this._appModel.formulaOneOfficial.currentSeason}}]),e}(),Object(S.a)(Ie.prototype,"races",[s.computed],Object.getOwnPropertyDescriptor(Ie.prototype,"races"),Ie.prototype),Object(S.a)(Ie.prototype,"nextRace",[s.computed],Object.getOwnPropertyDescriptor(Ie.prototype,"nextRace"),Ie.prototype),Object(S.a)(Ie.prototype,"isRaceWeekend",[s.computed],Object.getOwnPropertyDescriptor(Ie.prototype,"isRaceWeekend"),Ie.prototype),Ie),Zt=function(){function e(t){Object(O.a)(this,e),this._appViewModel=t}return Object(g.a)(e,[{key:"userBets",get:function(){return this._appViewModel.authUserBets}}]),e}(),At=(Be=function(){function e(t){var r=this;Object(O.a)(this,e),this.onBetsSubmit=function(e){return r._appModel.addNewBet(e)},this._appModel=t}return Object(g.a)(e,[{key:"racers",get:function(){return this._appModel.racers}},{key:"currentUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"nextRaceTitle",get:function(){return this._appModel.nextRace?this._appModel.nextRace.prettyTitle:""}},{key:"userBet",get:function(){var e=this;if(!this._appModel.isUserAlreadyBet)return{};var t=this._appModel.nextRace.bets.find(function(t){return t.userInfo.id===e.currentUser.id});return t?t.betsMap:{}}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}}]),e}(),Object(S.a)(Be.prototype,"currentUser",[s.computed],Object.getOwnPropertyDescriptor(Be.prototype,"currentUser"),Be.prototype),Object(S.a)(Be.prototype,"nextRaceTitle",[s.computed],Object.getOwnPropertyDescriptor(Be.prototype,"nextRaceTitle"),Be.prototype),Object(S.a)(Be.prototype,"userBet",[s.computed],Object.getOwnPropertyDescriptor(Be.prototype,"userBet"),Be.prototype),Be);function Ut(e){var t=new oe(e),r=new se(e),n=function(e){return{homePageStore:new de(e),resultsPageStore:new Et(e),racerStandingsPageStore:new ot(e),teamsStandingsPageStore:new ut(e),adminPageStore:new ft(e),loginPageStore:new yt(e),logoutPageStore:new jt(e),calendarPageStore:new xt(e),userBetsHistoryPageStore:new Zt(e),betPageStore:new At(e)}}(e);return Object(ie.a)({},n,{appStore:t,headerStore:r})}var Pt=function(){function e(t){var r=t.userStoreApiUrl;Object(O.a)(this,e),this._apiUrl=r}return Object(g.a)(e,[{key:"fetchAll",value:function(){var e=Object(be.a)(me.a.mark(function e(){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.B.get(this._apiUrl);case 2:return e.t0=M.a.fromJs,e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=function(e){return e.id===t},r=e.sent.find(e.t0)){e.next=6;break}throw new Error("User can't be found!");case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findById",value:function(){var e=Object(be.a)(me.a.mark(function e(t){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findBy(function(e){return e.id===t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findBy",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=t,r=e.sent.find(e.t0)){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r,n;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof M.a){e.next=2;break}throw new Error("variable user must be instanceof class User");case 2:return e.next=4,this.fetchAll();case 4:return r=e.sent,(n=r.findIndex(function(e){return e.id===t.id}))>-1?r[n]=t:r.push(t),e.abrupt("return",v.B.put(this._apiUrl,r));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.fetchAll();case 4:return r=e.sent,e.abrupt("return",v.B.put(this._apiUrl,r.filter(function(e){return e.id!==t})));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),It=function(e){function t(e){var r,n=e.season,a=e.raceName,c=e.bets,i=void 0===c?[]:c,o=e.raceResults,s=void 0===o?{}:o;return Object(O.a)(this,t),(r=Object(y.a)(this,Object(j.a)(t).call(this,{season:n,raceName:a}))).bets=i,r.raceResults=s,r}return Object(w.a)(t,e),t}(r(148).a),Bt=function(){function e(t){var r=t.raceInfoStoreApiUrl;Object(O.a)(this,e),this._apiUrl=r}return Object(g.a)(e,[{key:"fetchAll",value:function(){var e=Object(be.a)(me.a.mark(function e(){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.B.get(this._apiUrl);case 2:return e.t0=function(e){return new It(e)},e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"saveAll",value:function(e){return v.B.put(this._apiUrl,e)}},{key:"addOrUpdateBet",value:function(){var t=Object(be.a)(me.a.mark(function t(r,n){var a,c;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchAll();case 2:return a=t.sent,c=[],c=a.length<=0?[].concat(Object(wt.a)(a),[new It(Object(ie.a)({},n,{bets:[r]}))]):a.map(function(t){if(t.roundId===n.roundId){var a=t.bets.findIndex(function(e){return e.userInfo.id===r.userInfo.id});return a>-1?e._updateBet(t,r,a):e._addBet(t,r)}return t}),t.abrupt("return",this.saveAll(c));case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"updateRaceResult",value:function(){var e=Object(be.a)(me.a.mark(function e(t,r){var n,a;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:return n=e.sent,(a=n.findIndex(function(e){return e.roundId===t}))>-1&&(n[a].raceResults=Object(ie.a)({},n[a].raceResults,r)),e.abrupt("return",this.saveAll(n));case 6:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"_addBet",value:function(e,t){return e.bet.push(t),e}},{key:"_updateBet",value:function(e,t,r){return e.bets[r]=t,e}}]),e}(),Dt=function(){function e(t){var r=t.localStorageUserKey,n=t.userService,a=t.cryptoService;Object(O.a)(this,e),this._localStorageUserKey=r,this._userService=n,this._cryptoService=a}return Object(g.a)(e,[{key:"authenticate",value:function(){var e=Object(be.a)(me.a.mark(function e(){var t,r,n,a=arguments;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,r=null,t){e.next=8;break}if(r=window.localStorage.getItem(this._localStorageUserKey)){e.next=6;break}return e.abrupt("return",null);case 6:e.next=9;break;case 8:r=t.id;case 9:return e.next=11,this._userService.findById(r);case 11:if(!(n=e.sent)){e.next=15;break}return this._authenticate(n),e.abrupt("return",n);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r,n,a;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.password,e.next=3,this._userService.findBy(function(e){return e.login===r});case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u043d\u0435\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435.");case 6:if(!this._cryptoService.isPasswordValid(n,a.password)){e.next=10;break}if(!this._authenticate(a)){e.next=9;break}return e.abrupt("return",a);case 9:return e.abrupt("return",!1);case 10:return e.abrupt("return","\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c.");case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){window.localStorage.removeItem(this._localStorageUserKey)}},{key:"signIn",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r,n,a,c;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.name,a=t.password,c=new M.a({login:r,name:n,password:this._cryptoService.encodePassword(a)}),e.next=4,this._userService.findBy(function(e){return e.login===c.login});case 4:if(!e.sent){e.next=7;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d.");case 7:return e.prev=7,e.next=10,this._userService.addOrUpdate(c);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return","Server Error. Cannot add or update user");case 15:if(!this._authenticate(c)){e.next=17;break}return e.abrupt("return",c);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,this,[[7,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_authenticate",value:function(e){var t=e.id;return!!t&&(window.localStorage.setItem(this._localStorageUserKey,t),!0)}}]),e}(),Ct=r(204),qt=r.n(Ct);var Wt={encodePassword:function(e){return qt.a.hashSync(e,8)},isPasswordValid:function(e,t){return qt.a.compareSync(e,t)}},Ft=r(22),Lt="HAM",zt="VET",Vt="BOT",Ht="RAI",Gt="RIC",Yt="VER",Jt="PER",Kt="OCO",$t="HUL",Qt="SAI",Xt="STR",er="GRO",tr="MAG",rr="ALO",nr="VAN",ar="ERI",cr="GAS",ir="HAR",or="LEC",sr="SIR",ur=new Map([[Lt,new Ft.a("Lewis","Hamilton",44,Lt)],[zt,new Ft.a("Sebastian","Vettel",5,zt)],[Vt,new Ft.a("Valtteri","Bottas",77,Vt)],[Ht,new Ft.a("Kimi","Raikkonen",7,Ht)],[Gt,new Ft.a("Daniel","Ricciardo",3,Gt)],[Yt,new Ft.a("Max","Verstapen",33,Yt)],[Jt,new Ft.a("Sergio","Perez",11,Jt)],[Kt,new Ft.a("Esteban","Ocon",31,Kt)],[$t,new Ft.a("Nico","Hulkenberg",27,$t)],[Qt,new Ft.a("Carlos","Sainz",55,Qt)],[Xt,new Ft.a("Lance","Stroll",18,Xt)],[er,new Ft.a("Romain","Grosjean",8,er)],[tr,new Ft.a("Kevin","Magnussen",20,tr)],[rr,new Ft.a("Fernando","Alonso",14,rr)],[nr,new Ft.a("Stoffel","Vandoorne",2,nr)],[ar,new Ft.a("Marcus","Ericsson",9,ar)],[cr,new Ft.a("Pierre","Gasly",10,cr)],[ir,new Ft.a("Brendon","Hartley",28,ir)],[or,new Ft.a("Charles","Leclerc",16,or)],[sr,new Ft.a("Sergey","Sirotkin",35,sr)]]);var lr=function(){function e(){Object(O.a)(this,e)}return Object(g.a)(e,[{key:"fetchAll",value:function(){return Promise.resolve(Object(wt.a)(ur.values()))}},{key:"getById",value:function(e){return Promise.resolve(ur.get(e))}}]),e}(),pr=function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(O.a)(this,e),this.name=t,this.powerUnit=r,this.drivers=n,this.points=a},fr=[new pr("Mercedes","Mercedes",[ur.get(Lt),ur.get(Vt)]),new pr("Ferrari","Ferrari",[ur.get(zt),ur.get(Ht)]),new pr("Red Bull","TAG Heuer",[ur.get(Yt),ur.get(Gt)]),new pr("Force India","Mercedes",[ur.get(Jt),ur.get(Kt)]),new pr("Williams","Mercedes",[ur.get(Xt),ur.get(sr)]),new pr("Renault","Renault",[ur.get($t),ur.get(Qt)]),new pr("Toro Rosso","Honda",[ur.get(cr),ur.get(ir)]),new pr("Haas","Ferrari",[ur.get(er),ur.get(tr)]),new pr("McLaren","Renault",[ur.get(rr),ur.get(nr)]),new pr("Sauber","Ferrari",[ur.get(ar),ur.get(or)])];var dr=function(){function e(){Object(O.a)(this,e)}return Object(g.a)(e,[{key:"fetchAll",value:function(){var e=Object(be.a)(me.a.mark(function e(){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(fr);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(be.a)(me.a.mark(function e(t){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(fr.find(t)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),hr=r(147);function mr(e,t){var r={season:e.season,raceName:e.raceName,raceUrl:e.url,circuit:{url:e.circuit.url,countryName:e.circuit.location.country,circuitName:e.circuit.circuitName,circuitId:e.circuit.circuitId}},n=t.find(function(t){return t.round===Number(e.round)});return n&&(r.roundSchedule={practices:[n.practice_1,n.practice_2,n.practice_3],qualification:n.qualification,race:n.race}),new hr.a(r)}var br=function e(t){var r=t.season,n=t.round,a=t.racersStandings;Object(O.a)(this,e),this.season=r,this.round=Number(n),this.racersStandings=a};function vr(e){var t=e.season,r=e.round,n=e.results;return new br({season:t,round:r,racersStandings:n.map(function(e){return t=e.driver,r=e.points,new Ft.a(t.givenName,t.familyName,t.permanentNumber,t.code,r,t.nationality,t.dateOfBirth);var t,r})})}var Or,gr,yr,jr=function(){function e(t){var r=t.formulaOneOfficialDataRepository;Object(O.a)(this,e),this._repository=r}return Object(g.a)(e,[{key:"fetchSeasonRoundsSchedule",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r,n;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getF1Calendar(t);case 2:return r=e.sent,e.next=5,this._repository.getRaceSchedule(t);case 5:return n=e.sent,e.abrupt("return",n.races.map(function(e){return mr(e,r)}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRacesResults",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getRacesResults(t);case 2:return r=e.sent,e.abrupt("return",r.races.map(function(e){return vr(e)}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRacers",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r,n,a;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getDrivers(t);case 2:return r=e.sent,n=Object(ue.a)(r,1),a=n[0],e.abrupt("return",a.driverStandings.map(function(e){var t=e.driver;return Ft.a.create(Object(ie.a)({},t,{firstName:t.givenName,lastName:t.familyName,abbreviation:t.code,number:t.permanentNumber}))}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),wr=function e(t){var r=t.round,n=t.practice_1,a=t.practice_2,c=t.practice_3,i=t.qualification,o=t.race;Object(O.a)(this,e),this.round=r,this.practice_1=n,this.practice_2=a,this.practice_3=c,this.qualification=i,this.race=o},_r=new Map([["2018",[new wr({round:1,practice_1:"20180323T010000Z",practice_2:"20180323T050000Z",practice_3:"20180324T030000Z",qualification:"20180324T060000Z",race:"20180325T051000Z"}),new wr({round:2,practice_1:"20180406T110000Z",practice_2:"20180406T150000Z",practice_3:"20180407T120000Z",qualification:"20180407T150000Z",race:"20180408T151000Z"}),new wr({round:3,practice_1:"20180413T020000Z",practice_2:"20180413T060000Z",practice_3:"20180414T030000Z",qualification:"20180414T060000Z",race:"20180415T061000Z"}),new wr({round:4,practice_1:"20180427T090000Z",practice_2:"20180427T130000Z",practice_3:"20180428T100000Z",qualification:"20180428T130000Z",race:"20180429T121000Z"}),new wr({round:5,practice_1:"20180511T090000Z",practice_2:"20180511T130000Z",practice_3:"20180512T100000Z",qualification:"20180512T130000Z",race:"20180513T131000Z"}),new wr({round:6,practice_1:"20180524T090000Z",practice_2:"20180524T130000Z",practice_3:"20180526T100000Z",qualification:"20180526T130000Z",race:"20180527T131000Z"}),new wr({round:7,practice_1:"20180608T140000Z",practice_2:"20180608T180000Z",practice_3:"20180609T150000Z",qualification:"20180609T180000Z",race:"20180610T181000Z"}),new wr({round:8,practice_1:"20180622T100000Z",practice_2:"20180622T140000Z",practice_3:"20180623T110000Z",qualification:"20180623T140000Z",race:"20180624T141000Z"}),new wr({round:9,practice_1:"20180629T090000Z",practice_2:"20180629T130000Z",practice_3:"20180630T100000Z",qualification:"20180630T130000Z",race:"20180701T131000Z"}),new wr({round:10,practice_1:"20180706T090000Z",practice_2:"20180706T130000Z",practice_3:"20180707T100000Z",qualification:"20180707T130000Z",race:"20180708T131000Z"}),new wr({round:11,practice_1:"20180720T090000Z",practice_2:"20180720T130000Z",practice_3:"20180721T100000Z",qualification:"20180721T130000Z",race:"20180722T131000Z"}),new wr({round:12,practice_1:"20180727T090000Z",practice_2:"20180727T130000Z",practice_3:"20180728T100000Z",qualification:"20180728T130000Z",race:"20180729T131000Z"}),new wr({round:13,practice_1:"20180824T090000Z",practice_2:"20180824T130000Z",practice_3:"20180825T100000Z",qualification:"20180825T130000Z",race:"20180826T131000Z"}),new wr({round:14,practice_1:"20180831T090000Z",practice_2:"20180831T130000Z",practice_3:"20180901T100000Z",qualification:"20180901T130000Z",race:"20180902T131000Z"}),new wr({round:15,practice_1:"20180914T083000Z",practice_2:"20180914T123000Z",practice_3:"20180915T100000Z",qualification:"20180915T130000Z",race:"20180916T121000Z"}),new wr({round:16,practice_1:"20180928T080000Z",practice_2:"20180928T120000Z",practice_3:"20180929T090000Z",qualification:"20180929T120000Z",race:"20180930T111000Z"}),new wr({round:17,practice_1:"20181005T010000Z",practice_2:"20181005T050000Z",practice_3:"20181006T030000Z",qualification:"20181006T060000Z",race:"20181007T051000Z"}),new wr({round:18,practice_1:"20181019T150000Z",practice_2:"20181019T190000Z",practice_3:"20181020T180000Z",qualification:"20181020T210000Z",race:"20181021T181000Z"}),new wr({round:19,practice_1:"20181026T150000Z",practice_2:"20181026T190000Z",practice_3:"20181027T150000Z",qualification:"20181027T180000Z",race:"20181028T191000Z"}),new wr({round:20,practice_1:"20181109T140000Z",practice_2:"20181109T180000Z",practice_3:"20181110T150000Z",qualification:"20181110T180000Z",race:"20181111T181000Z"}),new wr({round:21,practice_1:"20181123T090000Z",practice_2:"20181123T130000Z",practice_3:"20181124T100000Z",qualification:"20181124T130000Z",race:"20181125T131000Z"})]],["2019",[new wr({round:1,practice_1:"20190315T010000Z",practice_2:"20190315T050000Z",practice_3:"20190316T030000Z",qualification:"20190316T060000Z",race:"20190317T051000Z"}),new wr({round:2,practice_1:"20190329T110000Z",practice_2:"20190329T150000Z",practice_3:"20190330T120000Z",qualification:"20190330T150000Z",race:"20190331T151000Z"}),new wr({round:3,practice_1:"20190412T020000Z",practice_2:"20190412T060000Z",practice_3:"20190413T030000Z",qualification:"20190413T060000Z",race:"20190414T061000Z"}),new wr({round:4,practice_1:"20190426T090000Z",practice_2:"20190426T130000Z",practice_3:"20190427T100000Z",qualification:"20190427T130000Z",race:"20190428T121000Z"}),new wr({round:5,practice_1:"20190510T090000Z",practice_2:"20190510T130000Z",practice_3:"20190511T100000Z",qualification:"20190511T130000Z",race:"20190512T131000Z"}),new wr({round:6,practice_1:"20190523T090000Z",practice_2:"20190523T130000Z",practice_3:"20190525T100000Z",qualification:"20190525T130000Z",race:"20190526T131000Z"}),new wr({round:7,practice_1:"20190607T150000Z",practice_2:"20190607T190000Z",practice_3:"20190608T160000Z",qualification:"20190608T190000Z",race:"20190609T191000Z"}),new wr({round:8,practice_1:"20190621T090000Z",practice_2:"20190621T130000Z",practice_3:"20190622T100000Z",qualification:"20190622T130000Z",race:"20190623T131000Z"}),new wr({round:9,practice_1:"20190628T090000Z",practice_2:"20190628T130000Z",practice_3:"20190629T100000Z",qualification:"20190629T130000Z",race:"20190630T131000Z"}),new wr({round:10,practice_1:"20190712T090000Z",practice_2:"20190712T130000Z",practice_3:"20190713T100000Z",qualification:"20190713T130000Z",race:"20190714T131000Z"}),new wr({round:11,practice_1:"20190726T090000Z",practice_2:"20190726T130000Z",practice_3:"20190727T100000Z",qualification:"20190727T130000Z",race:"20190728T131000Z"}),new wr({round:12,practice_1:"20190802T090000Z",practice_2:"20190802T130000Z",practice_3:"20190803T100000Z",qualification:"20190803T130000Z",race:"20190804T131000Z"}),new wr({round:13,practice_1:"20190830T090000Z",practice_2:"20190830T130000Z",practice_3:"20190831T100000Z",qualification:"20190831T130000Z",race:"20190901T131000Z"}),new wr({round:14,practice_1:"20190906T090000Z",practice_2:"20190906T130000Z",practice_3:"20190907T100000Z",qualification:"20190907T130000Z",race:"20190908T131000Z"}),new wr({round:15,practice_1:"20190920T083000Z",practice_2:"20190920T123000Z",practice_3:"20190921T100000Z",qualification:"20190921T130000Z",race:"20190922T121000Z"}),new wr({round:16,practice_1:"20190927T080000Z",practice_2:"20190927T120000Z",practice_3:"20190928T090000Z",qualification:"20190928T120000Z",race:"20190929T111000Z"}),new wr({round:17,practice_1:"20191011T010000Z",practice_2:"20191011T050000Z",practice_3:"20191012T030000Z",qualification:"20191012T060000Z",race:"20191013T051000Z"}),new wr({round:18,practice_1:"20191025T150000Z",practice_2:"20191025T190000Z",practice_3:"20191026T150000Z",qualification:"20191026T180000Z",race:"20191027T191000Z"}),new wr({round:19,practice_1:"20191101T160000Z",practice_2:"20191101T200000Z",practice_3:"20191102T180000Z",qualification:"20191102T210000Z",race:"20191103T191000Z"}),new wr({round:20,practice_1:"20191115T140000Z",practice_2:"20191115T180000Z",practice_3:"20191116T150000Z",qualification:"20191116T180000Z",race:"20191117T181000Z"}),new wr({round:21,practice_1:"20191129T090000Z",practice_2:"20191129T130000Z",practice_3:"20191130T100000Z",qualification:"20191130T130000Z",race:"20191201T131000Z"})]]]),kr=function(){function e(){Object(O.a)(this,e)}return Object(g.a)(e,[{key:"getF1Calendar",value:function(e){var t=_r.get(e);return Promise.resolve(t)}},{key:"getRaceSchedule",value:function(){var e=Object(be.a)(me.a.mark(function e(t){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.getRaceSchedule(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRacesResults",value:function(){var e=Object(be.a)(me.a.mark(function e(t){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.getAllRacesResults(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var e=Object(be.a)(me.a.mark(function e(t){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct.getDriverStandings(t);case 2:return e.abrupt("return",e.sent.standingsLists);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();var Tr,Sr,Er,Mr,Rr,Nr,xr,Zr,Ar,Ur,Pr,Ir,Br,Dr,Cr=(Or=function(){function e(t){Object(O.a)(this,e),Object(k.a)(this,"_currentTime",gr,this),Object(k.a)(this,"_tick",yr,this),this._tickInterval=t}return Object(g.a)(e,[{key:"start",value:function(){this._interval=setInterval(this._tick,1e3*this._tickInterval),this._tick()}},{key:"stop",value:function(){this._interval&&clearInterval(this._interval)}},{key:"currentTime",get:function(){return this._currentTime}},{key:"currentTimeUtcString",get:function(){return Object(re.g)(this._currentTime)}}]),e}(),gr=Object(S.a)(Or.prototype,"_currentTime",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P()()}}),yr=Object(S.a)(Or.prototype,"_tick",[s.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._currentTime=P()()}}}),Object(S.a)(Or.prototype,"currentTime",[s.computed],Object.getOwnPropertyDescriptor(Or.prototype,"currentTime"),Or.prototype),Object(S.a)(Or.prototype,"currentTimeUtcString",[s.computed],Object.getOwnPropertyDescriptor(Or.prototype,"currentTimeUtcString"),Or.prototype),Or),qr=(Tr=function(){function e(){Object(O.a)(this,e),Object(k.a)(this,"pendingTasksCount",Sr,this)}return Object(g.a)(e,[{key:"runWithProgress",value:function(e){this.pendingTasksCount++,e(),this.pendingTasksCount--}},{key:"runWithProgressAsync",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r=this;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingTasksCount++,e.prev=1,e.next=4,t();case 4:return e.abrupt("return",e.sent);case 5:return e.prev=5,Object(s.runInAction)(function(){r.pendingTasksCount--}),e.finish(5);case 8:case"end":return e.stop()}},e,this,[[1,,5,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"hasPendingTasks",get:function(){return this.pendingTasksCount>0}}]),e}(),Sr=Object(S.a)(Tr.prototype,"pendingTasksCount",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(S.a)(Tr.prototype,"hasPendingTasks",[s.computed],Object.getOwnPropertyDescriptor(Tr.prototype,"hasPendingTasks"),Tr.prototype),Object(S.a)(Tr.prototype,"runWithProgress",[s.action],Object.getOwnPropertyDescriptor(Tr.prototype,"runWithProgress"),Tr.prototype),Object(S.a)(Tr.prototype,"runWithProgressAsync",[s.action],Object.getOwnPropertyDescriptor(Tr.prototype,"runWithProgressAsync"),Tr.prototype),Tr),Wr=(Er=function(){function e(t){var r=this,n=t.authenticationService,a=t.operationManager;Object(O.a)(this,e),Object(k.a)(this,"authenticatedUser",Mr,this),this._authService=n,this._operationManager=a,this._operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){var t;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.authenticate();case 2:return(t=e.sent)instanceof M.a&&Object(s.runInAction)(function(){r.authenticatedUser=t}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})))}return Object(g.a)(e,[{key:"login",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r,n,a=this;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){var t;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._authService.login({login:r,password:n});case 2:if(!((t=e.sent)instanceof M.a)){e.next=6;break}return Object(s.runInAction)(function(){a.authenticatedUser=t}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.isAuthenticated&&(this._authService.logout(),this.authenticatedUser=null)}},{key:"signIn",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r,n,a,c=this;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.name,a=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){var t;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c._authService.signIn({login:r,name:n,password:a});case 2:if(!((t=e.sent)instanceof M.a)){e.next=6;break}return Object(s.runInAction)(function(){c.authenticatedUser=t}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isAuthenticated",get:function(){return null!==this.authenticatedUser}},{key:"isCurrentUserAdmin",get:function(){return this.isAuthenticated&&this.authenticatedUser.isAdmin}}]),e}(),Mr=Object(S.a)(Er.prototype,"authenticatedUser",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(Er.prototype,"isAuthenticated",[s.computed],Object.getOwnPropertyDescriptor(Er.prototype,"isAuthenticated"),Er.prototype),Object(S.a)(Er.prototype,"isCurrentUserAdmin",[s.computed],Object.getOwnPropertyDescriptor(Er.prototype,"isCurrentUserAdmin"),Er.prototype),Object(S.a)(Er.prototype,"login",[s.action],Object.getOwnPropertyDescriptor(Er.prototype,"login"),Er.prototype),Object(S.a)(Er.prototype,"logout",[s.action],Object.getOwnPropertyDescriptor(Er.prototype,"logout"),Er.prototype),Object(S.a)(Er.prototype,"signIn",[s.action],Object.getOwnPropertyDescriptor(Er.prototype,"signIn"),Er.prototype),Er),Fr=(Rr=function(){function e(t){var r=t.formulaOneOfficialModel,n=t.operationManager,a=t.raceInfoService,c=t.timeWatcher;Object(O.a)(this,e),Object(k.a)(this,"races",Nr,this),this._formulaOneOfficialModel=r,this._operationManager=n,this._timeWatcher=c,this._raceInfoService=a}return Object(g.a)(e,[{key:"fetchRaces",value:function(){var e=Object(be.a)(me.a.mark(function e(){var t=this;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){var r,n;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._formulaOneOfficialModel.currentSeasonRounds,e.next=3,t._raceInfoService.fetchAll();case 3:n=e.sent,Object(s.runInAction)(function(){t.races=Object(wt.a)(r.map(function(e){var t=n.find(function(t){return t.roundId===e.roundId});return new H.a(Object(ie.a)({},e,{bets:t?t.bets:[],raceResults:t?t.raceResults:{}}))}))});case 5:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addNewBet",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r=this;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r._raceInfoService.addOrUpdateBet(t,r.nextRace);case 3:return e.next=5,r.fetchRaces();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Can't update Bet in 'RacesStore'",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nextRace",get:function(){var e=this._timeWatcher.currentTime,t=this.races.filter(function(t){return Object(le.b)(t.raceStartTime,e)});return Object(ue.a)(t,1)[0]}}]),e}(),Nr=Object(S.a)(Rr.prototype,"races",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(S.a)(Rr.prototype,"nextRace",[s.computed],Object.getOwnPropertyDescriptor(Rr.prototype,"nextRace"),Rr.prototype),Object(S.a)(Rr.prototype,"fetchRaces",[s.action],Object.getOwnPropertyDescriptor(Rr.prototype,"fetchRaces"),Rr.prototype),Object(S.a)(Rr.prototype,"addNewBet",[s.action],Object.getOwnPropertyDescriptor(Rr.prototype,"addNewBet"),Rr.prototype),Rr),Lr=(xr=function(){function e(t){var r=this,n=t.userService,a=t.sessionModel,c=t.operationManager;Object(O.a)(this,e),Object(k.a)(this,"users",Zr,this),this._userService=n,this._operationManager=c,this._session=a,this._operationManager.runWithProgressAsync(function(){return r.fetchUsers()})}return Object(g.a)(e,[{key:"fetchUsers",value:function(){var e=this;try{return this._operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function t(){var r;return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._userService.fetchAll();case 2:r=t.sent,Object(s.runInAction)(Object(be.a)(me.a.mark(function t(){return me.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.users=r;case 1:case"end":return t.stop()}},t,this)})));case 4:case"end":return t.stop()}},t,this)})))}catch(t){console.log("Can't load 'users' in UserModel!!\n",t)}}},{key:"deleteUser",value:function(){var e=Object(be.a)(me.a.mark(function e(t){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._userService.delete(t);case 2:return e.next=4,this.fetchUsers();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(be.a)(me.a.mark(function e(t){var r=this;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._userService.addOrUpdate(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"currentUser",get:function(){return this._session.authenticatedUser}}]),e}(),Zr=Object(S.a)(xr.prototype,"users",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(S.a)(xr.prototype,"currentUser",[s.computed],Object.getOwnPropertyDescriptor(xr.prototype,"currentUser"),xr.prototype),Object(S.a)(xr.prototype,"fetchUsers",[s.action],Object.getOwnPropertyDescriptor(xr.prototype,"fetchUsers"),xr.prototype),Object(S.a)(xr.prototype,"addOrUpdate",[s.action],Object.getOwnPropertyDescriptor(xr.prototype,"addOrUpdate"),xr.prototype),xr),zr=(Ar=function(){function e(t){var r=t.formulaOneOfficialDataService,n=t.operationManager;Object(O.a)(this,e),Object(k.a)(this,"currentSeasonRounds",Ur,this),Object(k.a)(this,"currentSeasonRacesResults",Pr,this),Object(k.a)(this,"currentSeasonRacers",Ir,this),this._service=r,this._operationManager=n,this._currentSeason=b.getCurrentSeason()}return Object(g.a)(e,[{key:"fetchAll",value:function(){var e=Object(be.a)(me.a.mark(function e(){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchRacesSchedule();case 2:return e.next=4,this._fetchRacers();case 4:return e.next=6,this._fetchRacesResults();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacesSchedule",value:function(){var e=Object(be.a)(me.a.mark(function e(){var t=this;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){var r;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._service.fetchSeasonRoundsSchedule(t.currentSeason);case 2:r=e.sent,Object(s.runInAction)(function(){t.currentSeasonRounds=r});case 4:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacesResults",value:function(){var e=Object(be.a)(me.a.mark(function e(){var t=this;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){var r;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._service.fetchRacesResults(t.currentSeason);case 2:r=e.sent,Object(s.runInAction)(function(){t.currentSeasonRacesResults=r});case 4:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacers",value:function(){var e=Object(be.a)(me.a.mark(function e(){var t=this;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){var r;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._service.fetchRacers(t.currentSeason);case 2:r=e.sent,Object(s.runInAction)(function(){t.currentSeasonRacers=r});case 4:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"currentSeason",get:function(){return this._currentSeason}}]),e}(),Ur=Object(S.a)(Ar.prototype,"currentSeasonRounds",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pr=Object(S.a)(Ar.prototype,"currentSeasonRacesResults",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ir=Object(S.a)(Ar.prototype,"currentSeasonRacers",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ar),Vr=b.getVoteClosingTime(),Hr=(Br=function(){function e(t){var r=this;Object(O.a)(this,e);var n=t.userService,a=t.authenticationService,c=t.raceInfoService,i=t.formulaOneOfficialDataService,o=new qr,u=b.getTickInterval();this._isProductionMode=b.isProductionMode(),this._raceInfoService=c,this._timeWatcher=new Cr(u),this._operationManager=o,this._sessionModel=new Wr({authenticationService:a,operationManager:o}),this._usersModel=new Lr({operationManager:o,userService:n,sessionModel:this._sessionModel}),this._formulaOneOfficialModel=new zr({formulaOneOfficialDataService:i,operationManager:o}),this._racesModel=new Fr({formulaOneOfficialModel:this._formulaOneOfficialModel,raceInfoService:c,operationManager:o,timeWatcher:this._timeWatcher}),this._operationManager.runWithProgressAsync(Object(be.a)(me.a.mark(function e(){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._formulaOneOfficialModel.fetchAll();case 2:return e.abrupt("return",r._racesModel.fetchRaces());case 3:case"end":return e.stop()}},e,this)}))),Object(s.when)(function(){return r.nextRace&&Object(le.b)(r._timeWatcher.currentTime,r.nextRace.raceStartTime)},Object(be.a)(me.a.mark(function e(){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._racesModel.fetchRaces();case 2:case"end":return e.stop()}},e,this)})))}return Object(g.a)(e,[{key:"addNewBet",value:function(e){return this._racesModel.addNewBet(e)}},{key:"isUserAlreadyBet",get:function(){var e=this;return!!this._sessionModel.authenticatedUser&&(!!this.nextRace&&this.nextRace.bets.some(function(t){return t.userInfo.id===e._sessionModel.authenticatedUser.id}))}},{key:"races",get:function(){return this._racesModel.races}},{key:"racers",get:function(){return this._formulaOneOfficialModel.currentSeasonRacers}},{key:"isProduction",get:function(){return this._isProductionMode}},{key:"isBetsAllowed",get:function(){var e=this.nextRace&&this.nextRace.raceStartTime,t=this.nextRace&&this.nextRace.qualifyingStartTime;return!(!t||!e)&&(t&&e&&!Object(le.c)(this.timeWatcher.currentTime,Object(le.d)(t,Vr),e))}},{key:"isUserAuthenticated",get:function(){return this._sessionModel.isAuthenticated}},{key:"isUserAdmin",get:function(){return this._sessionModel.isCurrentUserAdmin}},{key:"nextRace",get:function(){return this._racesModel.nextRace}},{key:"authUserBets",get:function(){var e=[];if(!this._sessionModel.authenticatedUser)return e;var t=this._sessionModel.authenticatedUser.id;return this.races.forEach(function(r){var n=r.bets,a=r.prettyTitle,c=r.id;if(n.some(function(e){return e.userInfo.id===t})){var i=n[n.findIndex(function(e){return e.userInfo.id===t})];e.push({raceId:c,title:a,bet:i.betsMap})}}),e}},{key:"session",get:function(){return this._sessionModel}},{key:"usersModel",get:function(){return this._usersModel}},{key:"timeWatcher",get:function(){return this._timeWatcher}},{key:"operationManager",get:function(){return this._operationManager}},{key:"formulaOneOfficial",get:function(){return this._formulaOneOfficialModel}}]),e}(),Object(S.a)(Br.prototype,"isUserAlreadyBet",[s.computed],Object.getOwnPropertyDescriptor(Br.prototype,"isUserAlreadyBet"),Br.prototype),Object(S.a)(Br.prototype,"races",[s.computed],Object.getOwnPropertyDescriptor(Br.prototype,"races"),Br.prototype),Object(S.a)(Br.prototype,"racers",[s.computed],Object.getOwnPropertyDescriptor(Br.prototype,"racers"),Br.prototype),Object(S.a)(Br.prototype,"isBetsAllowed",[s.computed],Object.getOwnPropertyDescriptor(Br.prototype,"isBetsAllowed"),Br.prototype),Object(S.a)(Br.prototype,"authUserBets",[s.computed],Object.getOwnPropertyDescriptor(Br.prototype,"authUserBets"),Br.prototype),Br),Gr=function(){function e(t){var r=t.configProvider;Object(O.a)(this,e);var n=function(e){var t=e.getUserStoreApiUrl(),r=e.getRaceStoreApiUrl(),n=e.getLocalStorageUserKey(),a=new kr,c=new Pt({userStoreApiUrl:t}),i=new Bt({raceInfoStoreApiUrl:r});return{userService:c,authenticationService:new Dt({localStorageUserKey:n,userService:c,cryptoService:Wt}),raceInfoService:i,racerService:new lr,teamService:new dr,formulaOneOfficialDataService:new jr({formulaOneOfficialDataRepository:a})}}(r),a=new Hr(n);this._stores=Ut(a)}return Object(g.a)(e,[{key:"getStores",value:function(){return this._stores}}]),e}(),Yr=Object(_.a)(Dr=function(e){function t(){return Object(O.a)(this,t),Object(y.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(g.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(a.a.Component))||Dr;Object(s.configure)({enforceActions:"strict"});var Jr=new Gr({configProvider:b}).getStores();i.a.render(a.a.createElement(u.a,Jr,a.a.createElement(o.a,null,a.a.createElement(Yr,null,a.a.createElement(ce,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");l?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):p(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):p(e)})}}()},76:function(e,t,r){"use strict";var n=r(1);t.a=function e(t){var r=t.name,a=t.id;Object(n.a)(this,e),this.name=r,this.id=a}},77:function(e,t,r){"use strict";var n=r(91),a=r(0),c=r.n(a),i=r(3);r(462);t.a=function(e){var t=e.className,r=e.onClick,a=e.disabled,o=e.children,s=e.size,u=Object(n.a)(e,["className","onClick","disabled","children","size"]);return c.a.createElement(i.b,Object.assign({className:"button button--primary ".concat(t),onClick:r,disabled:a,color:"primary",size:s},u),o)}},92:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a});var n="\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437",a="\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437"},93:function(e,t,r){"use strict";var n=r(1),a=r(5),c=r(10),i=r(8),o=r(9),s=r(206),u=r(76),l=r(394),p=r.n(l),f=r(395),d=r.n(f),h=function(e){function t(e){var r,a=e.season,o=e.raceName,l=e.raceUrl,p=e.circuit,f=e.roundSchedule,d=e.bets,h=void 0===d?[]:d,m=e.raceResults,b=void 0===m?{}:m;return Object(n.a)(this,t),(r=Object(c.a)(this,Object(i.a)(t).call(this,{season:a,raceName:o,raceUrl:l,circuit:p,roundSchedule:f}))).bets=h.map(function(e){var t=e.userInfo,r=t.name,n=t.id,a=e.betsMap;return new s.a({userInfo:new u.a({name:r,id:n}),betsMap:a})}),r.raceResults=b,r}return Object(o.a)(t,e),Object(a.a)(t,[{key:"raceStartTime",get:function(){return this.roundSchedule.race}},{key:"qualifyingStartTime",get:function(){return this.roundSchedule.qualification}},{key:"prettyTitle",get:function(){return p()(this.raceName).map(d.a).join(" ")}}]),t}(r(147).a);t.a=h}},[[403,10,9]]]);