(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),a=function e(t){var n=t.raceName,a=t.raceTime,i=t.qualTime,c=t.practice1Time,s=t.practice2Time,o=t.practice3Time,u=t.id;Object(r.a)(this,e),this.raceName=n,this.raceTime=a,this.qualTime=i,this.practice1Time=c,this.practice2Time=s,this.practice3Time=o,this.raceId=u}},121:function(e,t,n){"use strict";var r=n(1);t.a=function e(t){var n=t.racerId,a=t.racerFullName,i=t.racerPoints,c=t.racerUrl,s=t.racerNumber,o=t.racerNationality,u=t.constructorName,l=t.constructorUrl;Object(r.a)(this,e),this.racerId=n,this.racerFullName=a,this.racerUrl=c,this.racerPoints=i,this.racerNumber=s,this.racerNationality=o,this.constructorUrl=l,this.constructorName=u}},122:function(e,t,n){"use strict";var r=n(1);t.a=function e(t){var n=t.pos,a=t.name,i=t.id,c=t.points,s=t.url,o=t.nationality;Object(r.a)(this,e),this.pos=n,this.name=a,this.id=i,this.points=c,this.url=s,this.nationality=o}},123:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(3),a=n.n(r),i=n(10),c=n(1),s=n(5),o=n(9),u=n(7),l=n(8),p=n(54),f=n.n(p),d=n(68),h=n.n(d),m=n(55),b=n.n(m),v=n(47),y={LOGIN:"login",NAME:"name"},g=function(e){function t(e){var n=e.user,r=e.onUserUpdate;return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,{fields:t._getFields(n)},{options:{showErrorsOnChange:!0,validateOnChange:!0},hooks:{onSuccess:function(){var e=Object(i.a)(a.a.mark(function e(n){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.values(),e.next=3,r(i);case 3:n.init(t._getFields(i));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),onError:function(e){e.invalidate("This is a generic error message!")}}}))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"plugins",value:function(){return{dvr:h()(b.a)}}}],[{key:"_getFields",value:function(e){var t=e.name,n=e.login;return[{name:y.NAME,label:"\u0418\u043c\u044f",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, John Doe",rules:v.b,value:t},{name:y.LOGIN,label:"\u041b\u043e\u0433\u0438\u043d",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, superman",rules:v.a,value:n}]}}]),t}(f.a);t.b=g},17:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={HOME:"/",CALENDAR:"/calendar",BETS:"/bet",ADMIN:"/admin",RESULTS:"/results",RACERS:"/racers",TEAMS:"/teams",LOGIN:"/login",LOGOUT:"/logout",BETS_HISTORY:"/bets-history",PROFILE:"/profile"}},172:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n(3),a=n.n(r),i=n(26),c=n(10),s=n(1),o=n(5),u=n(9),l=n(7),p=n(8),f=n(35),d=n(54),h=n.n(d),m=n(68),b=n.n(m),v=n(55),y=n.n(v),g=n(47),O=n(33);var j={LOGIN:"login",NAME:"name",PASSWORD:"password",IS_ADMIN:"isAdmin",IS_TESTING:"isTesting"},_=function(e){function t(e){var n,r=e.user,o=e.onUserUpdate,p=e.onSuccess,d=e.onCancel;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,{fields:t._getFields(r)},{options:{showErrorsOnChange:!0,validateOnChange:!0},hooks:{onSuccess:function(){var e=Object(c.a)(a.a.mark(function e(n){var c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=new O.a(Object(i.a)({},r,(a=n.values(),Object.fromEntries(Object.entries(a).map(function(e){var t,n=Object(f.a)(e,2),r=n[0],a=n[1];return[r,(t=a,"string"===typeof t?t.trim():t)]}))))),e.next=3,o(c);case 3:n.init(t._getFields(r)),p();case 5:case"end":return e.stop()}var a},e,this)}));return function(t){return e.apply(this,arguments)}}(),onError:function(e){e.invalidate("This is a generic error message!")}}}))).onCancel=function(){n._onCancel()},n._onCancel=d,n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"plugins",value:function(){return{dvr:b()(y.a)}}}],[{key:"_getFields",value:function(e){var t=e.name,n=e.login,r=e.isAdmin,a=e.isTesting;return[{name:j.NAME,label:"\u0418\u043c\u044f",rules:g.b,value:t},{name:j.LOGIN,label:"\u041b\u043e\u0433\u0438\u043d",rules:g.a,value:n},{name:j.IS_ADMIN,label:"Admin",type:"checkbox",value:r},{name:j.IS_TESTING,label:"Testing",type:"checkbox",value:a}]}}]),t}(h.a);t.b=_},2:function(e,t,n){"use strict";n(276),n(277);var r=n(27),a=n.n(r),i=n(99),c=n.n(i),s=n(126),o=n.n(s),u=n(127),l=n.n(u),p=n(128),f=n.n(p),d=n(130),h=n.n(d),m=n(131),b=n.n(m),v=n(132),y=n.n(v),g=n(133),O=n.n(g),j=n(134),_=n.n(j),w=n(135),k=n.n(w),S=n(146),T=n.n(S),E=n(147),M=n.n(E),x=n(151),R=n.n(x),N=n(150),U=n.n(N),A=n(148),Z=n.n(A),I=n(149),P=n.n(I),B=n(143),C=n.n(B),D=n(144),q=n.n(D),W=n(125),L=n.n(W),F=n(152),H=n.n(F),z=n(153),V=n.n(z),G=n(145),Y=n.n(G),J=n(154),Q=n.n(J),K=n(155),$=n.n(K),X=n(156),ee=n.n(X),te=n(157),ne=n.n(te),re=n(158),ae=n.n(re),ie=n(159),ce=n.n(ie),se=n(3),oe=n.n(se),ue=n(10),le=n(81),pe=n.n(le),fe={get:function(){var e=Object(ue.a)(oe.a.mark(function e(t){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.a.get(t);case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),put:function(){var e=Object(ue.a)(oe.a.mark(function e(t,n){return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",pe.a.put(t,n));case 4:e.prev=4,e.t0=e.catch(0),console.error(e.t0.message);case 7:case"end":return e.stop()}},e,this,[[0,4]])}));return function(t,n){return e.apply(this,arguments)}}()};n.d(t,"a",function(){return L.a}),n.d(t,"b",function(){return c.a}),n.d(t,"e",function(){return o.a}),n.d(t,"x",function(){return l.a}),n.d(t,"c",function(){return f.a}),n.d(t,"i",function(){return h.a}),n.d(t,"k",function(){return b.a}),n.d(t,"m",function(){return y.a}),n.d(t,"n",function(){return O.a}),n.d(t,"A",function(){return _.a}),n.d(t,"d",function(){return k.a}),n.d(t,"s",function(){return C.a}),n.d(t,"t",function(){return q.a}),n.d(t,"u",function(){return Y.a}),n.d(t,"v",function(){return T.a}),n.d(t,"w",function(){return M.a}),n.d(t,"g",function(){return Z.a}),n.d(t,"f",function(){return P.a}),n.d(t,"h",function(){return U.a}),n.d(t,"B",function(){return R.a}),n.d(t,"y",function(){return H.a}),n.d(t,"z",function(){return V.a}),n.d(t,"l",function(){return Q.a}),n.d(t,"j",function(){return $.a}),n.d(t,"o",function(){return ee.a}),n.d(t,"r",function(){return ne.a}),n.d(t,"p",function(){return ae.a}),n.d(t,"q",function(){return ce.a}),n.d(t,"C",function(){return fe}),a.a.locale("ru")},222:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(1),a=n(5),i=n(9),c=n(7),s=n(8),o=n(54),u=n.n(o),l=n(68),p=n.n(l),f=n(55),d=n.n(f),h=n(47),m={PASSWORD:"password"},b=function(e){function t(e){var n,a=e.user,s=e.onSuccess,o=e.onCancel;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(c.a)(t).call(this,{fields:t._getFields()},{options:{showErrorsOnChange:!0,validateOnChange:!0},hooks:{onSuccess:function(e){var n=e.values()[m.PASSWORD].trim();e.init(t._getFields(n)),s(n)},onError:function(e){e.invalidate("This is a generic error message!")}}}))).onCancel=function(){n._onCancel()},n._onCancel=o,n.user=a,n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"plugins",value:function(){return{dvr:p()(d.a)}}}],[{key:"_getFields",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[{name:m.PASSWORD,label:"\u041f\u0430\u0440\u043e\u043b\u044c",rules:h.c,value:e}]}}]),t}(u.a);t.b=b},223:function(e,t,n){"use strict";var r=n(69),a=n(56),i=n(26),c=n(1),s=n(5),o=n(66),u=n.n(o),l=n(91),p=function(){function e(t){var n=this,r=t.race,a=t.finishedRacers,i=void 0===a?[]:a,s=t.getUserName,o=void 0===s?function(){return""}:s,u=t.qualifyingResultsStandings,p=void 0===u?[]:u;if(Object(c.a)(this,e),this._officialResults=null,this._officialResultsBetMap=null,this._qualifyingResults=null,this.raceId=r.roundId,this.raceTitle=r.prettyTitle+" "+r.season,i.length>0&&(this._officialResultsBetMap=this._convertToBetMap(i),this._officialResults=l.c.createOfficialResults(this._officialResultsBetMap)),p.length>0){var f=this._convertToBetMap(p);this._qualifyingResults=l.c.createQualifyingResults(f)}this._userVotes=r.bets.map(function(e){var t=e.userInfo.id,r=o(t);return new l.c({userId:t,userName:r,userBetsMap:e.betsMap},n._officialResultsBetMap)})}return Object(s.a)(e,[{key:"_convertToBetMap",value:function(e){return e.reduce(function(e,t,n){return Object(i.a)({},e,Object(a.a)({},n+1,t.code))},{})}},{key:"hasOfficialResults",get:function(){return null!==this._officialResults}},{key:"hasQualifyingResults",get:function(){return null!==this._qualifyingResults}},{key:"userBetsResults",get:function(){var e=[];return this.hasOfficialResults&&e.push(this._officialResults),this.hasQualifyingResults&&e.push(this._qualifyingResults),[].concat(e,Object(r.a)(this.userVotes))}},{key:"userVotes",get:function(){return this.hasOfficialResults?u()(this._userVotes,function(e){return-e.userScore.value}):this._userVotes}}]),e}();t.a=p},224:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),a=function e(t){var n=t.userId,a=t.userName,i=t.totalPoints,c=void 0===i?0:i;Object(r.a)(this,e),this.userId=n,this.userName=a,this.totalPoints=c}},261:function(e,t,n){"use strict";var r,a,i,c=n(3),s=n.n(c),o=n(10),u=n(1),l=n(5),p=n(9),f=n(7),d=n(8),h=n(0),m=n.n(h),b=n(12),v=n(2),y=n(32),g=n(92),O=n(13),j=n(31),_=n(6),w=(n(36),n(4)),k=(n(89),n(90)),S=n(58),T=(n(52),n(33),function(e){return e.name}),E=function(e){var t=e.value;return m.a.createElement(S.a.Option,Object.assign({},e,{className:"users-select__option"}),T(t))},M=function(e){var t=e.data;return m.a.createElement(S.a.SingleValue,e,T(t))};function x(e){var t=e.user,n=e.users,r=e.onSelect,a=n.map(function(e){return{label:T(e),value:e}});return m.a.createElement(S.b,{isClearable:!0,className:"users-select",value:t,options:a,searchable:!1,onChange:function(e){r(e?e.value:null)},components:{Option:E,SingleValue:M}})}var R,N,U,A,Z,I,P,B,C=Object(b.inject)(function(e){var t=e.adminPageStore;return{racers:t.racesSectionStore.racers,users:t.racesSectionStore.users}})(r=Object(b.observer)((a=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a))),Object(O.a)(n,"_selectedUser",i,Object(j.a)(Object(j.a)(n))),n._handleSelectUser=Object(w.action)(function(e){n._selectedUser=e}),n._handleSubmit=function(e){n.props.onSubmit(n._selectedUser,e)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.race,n=e.users,r=e.racers,a=e.onCancel;return m.a.createElement(v.o,{isOpen:!0},m.a.createElement(v.r,null,"\u0413\u043e\u043b\u043e\u0432\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f (",t.prettyTitle,")"),m.a.createElement(v.p,null,m.a.createElement(v.i,null,m.a.createElement(v.k,null,m.a.createElement(v.n,{htmlFor:"users_select"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),m.a.createElement(x,{user:this._selectedUser,users:n,onSelect:this._handleSelectUser})),this._canSubmit&&m.a.createElement(v.k,null,m.a.createElement(g.a,{racers:r,onSave:this._handleSubmit})))),m.a.createElement(v.q,null,m.a.createElement(v.b,{color:"secondary",type:"button",onClick:a},"\u041e\u0442\u043c\u0435\u043d\u0430")))}},{key:"_canSubmit",get:function(){return null!==this._selectedUser}}]),t}(m.a.Component),i=Object(_.a)(a.prototype,"_selectedUser",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(_.a)(a.prototype,"_canSubmit",[w.computed],Object.getOwnPropertyDescriptor(a.prototype,"_canSubmit"),a.prototype),r=a))||r)||r,D=Object(b.inject)(function(e){return{onBetsSubmit:e.adminPageStore.racesSectionStore.addNewBet}})(R=Object(b.observer)((N=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a))),Object(O.a)(n,"_isDialogOpen",U,Object(j.a)(Object(j.a)(n))),n.handleSubmit=function(){var e=Object(o.a)(s.a.mark(function e(t,r){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return alert("\u0412\u044b\u0431\u0435\u0440\u0438 \u042e\u0437\u0435\u0440\u0430!!!"),e.abrupt("return");case 3:return a=new k.a({userInfo:t.toUserInfo(),betsMap:r}),e.next=6,n.props.onBetsSubmit(a,n.props.race);case 6:n.handleToggleDialog();case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),Object(O.a)(n,"handleToggleDialog",A,Object(j.a)(Object(j.a)(n))),Object(O.a)(n,"handleUserSelect",Z,Object(j.a)(Object(j.a)(n))),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.race;return this._isDialogOpen?m.a.createElement(C,{race:e,onSubmit:this.handleSubmit,onCancel:this.handleToggleDialog}):m.a.createElement(v.b,{size:"sm",color:"info",onClick:this.handleToggleDialog},"Add bet for user")}}]),t}(m.a.Component),U=Object(_.a)(N.prototype,"_isDialogOpen",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=Object(_.a)(N.prototype,"handleToggleDialog",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._isDialogOpen=!e._isDialogOpen}}}),Z=Object(_.a)(N.prototype,"handleUserSelect",[w.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e._selectedUser=t}}}),R=N))||R)||R,q=(I=function(){function e(t,n,r){var a=this;Object(u.a)(this,e),Object(O.a)(this,"selectedRace",P,this),this.addNewBet=function(e,t){return a._appModel.addNewBet(e,t)},this._appModel=t,this._storeApiUrl=n,this._racesInfoService=r}return Object(l.a)(e,[{key:"showRaceResultsPanel",value:function(e){this.selectedRace=e,this.isRaceResultsPanelVisible=!0}},{key:"addOrUpdateRaceResults",value:function(){var e=Object(o.a)(s.a.mark(function e(t){var n=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedRace){e.next=3;break}return window.alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u043d\u043a\u0443!"),e.abrupt("return");case 3:if(!(Object.values(t).filter(function(e){return Boolean(e)}).length<20)){e.next=6;break}return window.alert("\u0412\u044b\u0431\u0440\u0430\u043d\u044b \u043d\u0435 \u0432\u0441\u0435 \u0433\u043e\u043d\u0448\u0438\u043a\u0438 !"),e.abrupt("return");case 6:return e.next=8,this._appModel.operationManager.runWithProgressAsync(Object(o.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._racesInfoService.updateRaceResult(n.selectedRace.roundId,t);case 2:Object(w.runInAction)(function(){n.selectedRace=null});case 3:case"end":return e.stop()}},e,this)})));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"users",get:function(){return this._appModel.usersModel.users}},{key:"races",get:function(){return this._appModel.currentSeasonHistory.races}},{key:"racers",get:function(){return this._appModel.currentSeasonHistory.racers}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),P=Object(_.a)(I.prototype,"selectedRace",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(_.a)(I.prototype,"users",[w.computed],Object.getOwnPropertyDescriptor(I.prototype,"users"),I.prototype),Object(_.a)(I.prototype,"races",[w.computed],Object.getOwnPropertyDescriptor(I.prototype,"races"),I.prototype),Object(_.a)(I.prototype,"racers",[w.computed],Object.getOwnPropertyDescriptor(I.prototype,"racers"),I.prototype),Object(_.a)(I.prototype,"showRaceResultsPanel",[w.action],Object.getOwnPropertyDescriptor(I.prototype,"showRaceResultsPanel"),I.prototype),I);n.d(t,"a",function(){return q});var W=Object(b.inject)(function(e){return{racesSectionStore:e.adminPageStore.racesSectionStore}})(B=Object(b.observer)(B=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a))))._handleAddRaceResults=function(e){n.props.racesSectionStore.showRaceResultsPanel(e)},n._handleGridSelectorSave=function(){var e=Object(o.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.racesSectionStore.addOrUpdateRaceResults(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.racesSectionStore,n=t.storeApiUrl,r=t.selectedRace,a=t.races,i=t.racers;return m.a.createElement("section",{className:"mt-2"},r?m.a.createElement(v.x,{key:2},m.a.createElement(v.c,null,m.a.createElement("strong",null,r.prettyTitle),m.a.createElement(g.a,{gridPositionsCount:20,racers:i,onSave:this._handleGridSelectorSave}))):m.a.createElement(v.x,null,m.a.createElement(v.c,null,m.a.createElement(v.A,{bordered:!0,size:"sm"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"\u2116"),m.a.createElement("th",null,"Title"),m.a.createElement("th",null,"Date"),m.a.createElement("th",null,"Bets"),m.a.createElement("th",null,"Commands"))),m.a.createElement("tbody",null,a.map(function(t,n){var r=t.prettyTitle,a=t.raceStartTime,i=t.qualifyingStartTime,c=t.bets;return m.a.createElement("tr",{key:r},m.a.createElement("td",null,n+1),m.a.createElement("td",null,r),m.a.createElement("td",null,m.a.createElement("div",null,"Qual: ",Object(y.d)(i)),m.a.createElement("div",null,"Race: ",Object(y.d)(a))),m.a.createElement("td",null,"We have ",c.length," bets"),m.a.createElement("td",null,m.a.createElement(D,{race:t}),m.a.createElement(v.b,{size:"sm",onClick:function(){return e._handleAddRaceResults(t)}},"Add Race Results")))}))))),m.a.createElement(v.x,null,m.a.createElement(v.c,null,"Details:"," ",m.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n},n))))}}]),t}(h.Component))||B)||B;t.b=W},271:function(e,t,n){e.exports=n(446)},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},319:function(e,t,n){},32:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"f",function(){return p});var r=n(27),a=n.n(r);function i(e){return a()(e).format("D MMMM YYYY, HH:mm")}function c(e){return a()(e).format("D MMMM YYYY, HH:mm:ss")}function s(e){return a()(e).utc().format()}function o(e){return a()(e).format("DD MMMM")}function u(e){return a()(e).format("ddd")}function l(e){return a()(e).format("HH:mm")}function p(e){return a()(e).format("D MMM YYYY")}},320:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},33:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),a=n(5),i=n(9),c=n(7),s=n(8),o=n(61),u=n(40),l=function(e){function t(e){var n,a=e.login,s=e.name,o=e.password,l=e.id,p=e.isAdmin,f=void 0!==p&&p,d=e.isTesting,h=void 0!==d&&d;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(c.a)(t).call(this,{name:s,id:l||Object(u.a)()}))).login=a,n.password=o,n.isAdmin=f,n.isTesting=h,n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"toUserInfo",value:function(){return new o.a(this)}}],[{key:"fromJs",value:function(e){var n=e.login,r=e.name,a=e.password,i=e.id,c=e.isAdmin,s=void 0!==c&&c,o=e.isTesting;return new t({login:n,name:r,password:a,id:i,isAdmin:s,isTesting:void 0!==o&&o})}}]),t}(o.a)},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},358:function(e,t,n){var r={"./ar":176,"./ar.js":176,"./az":177,"./az.js":177,"./be":178,"./be.js":178,"./bg":179,"./bg.js":179,"./bs":180,"./bs.js":180,"./ca":181,"./ca.js":181,"./cs":182,"./cs.js":182,"./cy":183,"./cy.js":183,"./da":184,"./da.js":184,"./de":185,"./de.js":185,"./el":186,"./el.js":186,"./en":101,"./en.js":101,"./es":187,"./es.js":187,"./et":188,"./et.js":188,"./eu":189,"./eu.js":189,"./fa":190,"./fa.js":190,"./fi":191,"./fi.js":191,"./fr":192,"./fr.js":192,"./hr":193,"./hr.js":193,"./hu":194,"./hu.js":194,"./id":195,"./id.js":195,"./it":196,"./it.js":196,"./ja":197,"./ja.js":197,"./ka":198,"./ka.js":198,"./ko":199,"./ko.js":199,"./lt":200,"./lt.js":200,"./lv":201,"./lv.js":201,"./mk":202,"./mk.js":202,"./mn":203,"./mn.js":203,"./ms":204,"./ms.js":204,"./nb_NO":205,"./nb_NO.js":205,"./nl":206,"./nl.js":206,"./pl":207,"./pl.js":207,"./pt":208,"./pt.js":208,"./pt_BR":209,"./pt_BR.js":209,"./ro":210,"./ro.js":210,"./ru":211,"./ru.js":211,"./sl":212,"./sl.js":212,"./sq":213,"./sq.js":213,"./sr":214,"./sr.js":214,"./sv":215,"./sv.js":215,"./tr":216,"./tr.js":216,"./ua":217,"./ua.js":217,"./uk":218,"./uk.js":218,"./vi":219,"./vi.js":219,"./zh":220,"./zh.js":220,"./zh_TW":221,"./zh_TW.js":221};function a(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=358},365:function(e,t){},367:function(e,t){},399:function(e,t){},40:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(97),a=n.n(r),i="-26bf-11e8-";function c(){return a()()+a()(i)}},400:function(e,t){},446:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(37),c=n.n(i),s=n(449),o=n(4),u=n(12),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var f,d,h,m,b={isProductionMode:function(){return!0},getUserStoreApiUrl:function(){return"https://api.myjson.com/bins/ei8zv"},getRaceStoreApiUrl:function(){return"https://api.myjson.com/bins/fp47f"},getLocalStorageUserKey:function(){return"f1betsappuserid"},getTickInterval:function(){return"1"},getCurrentSeason:function(){return"2019"},getVoteClosingTime:function(){return parseInt("15#minutes",10)}},v=n(2),y=n(1),g=n(5),O=n(9),j=n(7),_=n(8),w=n(451),k=(n(308),n(309),n(13)),S=n(31),T=n(6),E=(n(36),n(310),n(17)),M=n(33),x=n(447),R=function(e){var t=e.path,n=void 0===t?"/":t,r=e.className,i=void 0===r?"":r,c=e.disabled,s=void 0!==c&&c,o=e.onClick,u=e.children;return s?u:a.a.createElement(x.a,{to:n,className:i,onClick:o},u)},N=function(e){var t=e.user,n=e.onClose,r=t.name;return a.a.createElement(v.B,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},a.a.createElement(v.f,{header:!0},r),a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.PROFILE,className:"nav-bar-drop-down-menu__link",onClick:n},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c")),a.a.createElement(v.f,{divider:!0}),a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.LOGOUT,className:"nav-bar-drop-down-menu__link",onClick:n},"\u0412\u044b\u0445\u043e\u0434"))))},U="\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f. \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0412\u0430\u0448\u0435 \u0443\u0447\u0430\u0441\u0442\u0438\u0435.",A=Object(u.inject)(function(e){var t=e.appStore;return{isAuthenticated:t.isUserAuthenticated,authenticatedUser:t.authenticatedUser,isBetsAllowed:t.isBetsAllowed,isUserAlreadyBet:t.isUserAlreadyBet}})(f=Object(u.observer)((d=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"isOpen",h,Object(S.a)(Object(S.a)(n))),Object(k.a)(n,"handleToggle",m,Object(S.a)(Object(S.a)(n))),n.closeMenu=Object(o.action)(function(){n.isOpen=!1}),n}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,n=e.authenticatedUser,r=e.isBetsAllowed,i=e.isUserAlreadyBet;return a.a.createElement(v.v,{className:"navigation-bar",color:"dark",dark:!0,expand:"md",fixed:"top"},a.a.createElement(v.e,null,a.a.createElement(R,{path:E.a.HOME,className:"navbar-brand",onClick:this.closeMenu},"Formula 1 Bets App"),a.a.createElement(v.w,{onClick:this.handleToggle}),a.a.createElement(v.d,{isOpen:this.isOpen,navbar:!0},a.a.createElement(v.s,{className:"ml-auto",navbar:!0},a.a.createElement(v.B,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},t&&a.a.createElement(v.f,{disabled:!r},a.a.createElement(R,{path:E.a.BETS,className:"nav-bar-drop-down-menu__link",disabled:!r,onClick:this.closeMenu},i?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437")),a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.RESULTS,className:"nav-bar-drop-down-menu__link",onClick:this.closeMenu},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f")),t&&a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.BETS_HISTORY,className:"nav-bar-drop-down-menu__link",onClick:this.closeMenu},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0412\u0430\u0448\u0438\u0445 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439")))),a.a.createElement(v.B,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u0427\u0435\u043c\u043f\u0438\u043e\u043d\u0430\u0442"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.CALENDAR,className:"nav-bar-drop-down-menu__link",onClick:this.closeMenu},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c")),a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.RACERS,className:"nav-bar-drop-down-menu__link",onClick:this.closeMenu},"\u0413\u043e\u043d\u0449\u0438\u043a\u0438")),a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.TEAMS,className:"nav-bar-drop-down-menu__link",onClick:this.closeMenu},"\u041a\u043e\u043c\u0430\u043d\u0434\u044b")))),t?n&&a.a.createElement(a.a.Fragment,null,n.isAdmin&&a.a.createElement(v.t,null,a.a.createElement(R,{path:E.a.ADMIN,className:"nav-link",onClick:this.closeMenu},"\u0410\u0434\u043c\u0438\u043d\u043a\u0430")),a.a.createElement(N,{user:n,isBetsAllowed:r,onClose:this.closeMenu})):a.a.createElement(v.t,null,a.a.createElement(R,{path:E.a.LOGIN,className:"nav-link",onClick:this.closeMenu},"\u0412\u0445\u043e\u0434"))))))}}]),t}(a.a.Component),h=Object(T.a)(d.prototype,"isOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(T.a)(d.prototype,"handleToggle",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isOpen=!e.isOpen}}}),f=d))||f)||f,Z=n(27),I=n.n(Z),P=function(e){var t=e.value,n=e.label;return a.a.createElement("div",{className:"awesome-countdown-timer__section awesome-countdown-timer-section"},a.a.createElement("div",{className:"awesome-countdown-timer-section__time"},t),a.a.createElement("div",{className:"awesome-countdown-timer-section__label"},n))},B=function(e){var t=e.splitter,n=void 0===t?":":t;return a.a.createElement("div",{className:"awesome-countdown-timer__splitter"},n)};var C=function(e){var t=e.className,n=e.withSplitter,r=function(e){var t={months:"",days:"",hours:"",minutes:"",seconds:""};return e?(Math.floor(e.asMonths())>0&&(Math.floor(e.months())<10?t.months="0"+Math.floor(e.months()):t.months=Math.floor(e.months())),Math.floor(e.asDays())>0&&(Math.floor(e.days())<10?t.days="0"+Math.floor(e.days()):t.days=Math.floor(e.days())),Math.floor(e.asHours())>0&&(Math.floor(e.hours())<10?t.hours="0"+Math.floor(e.hours()):t.hours=Math.floor(e.hours())),Math.floor(e.asMinutes())>0&&(Math.floor(e.minutes())<10?t.minutes="0"+Math.floor(e.minutes()):t.minutes=Math.floor(e.minutes())),Math.floor(e.asSeconds())>0&&(Math.floor(e.seconds())<10?t.seconds="0"+Math.floor(e.seconds()):t.seconds=Math.floor(e.seconds())),t):t}(e.duration),i=r.months,c=r.days,s=r.hours,o=r.minutes,u=r.seconds;return a.a.createElement("div",{className:"awesome-countdown-timer ".concat(t)},i&&a.a.createElement(P,{value:i,label:"Months"}),n&&i&&a.a.createElement(B,null),c&&a.a.createElement(P,{value:c,label:"Days"}),n&&c&&a.a.createElement(B,null),s&&a.a.createElement(P,{value:s,label:"Hours"}),n&&s&&a.a.createElement(B,null),o&&a.a.createElement(P,{value:o,label:"Minutes"}),n&&o&&a.a.createElement(B,null),u&&a.a.createElement(P,{value:u,label:"Seconds"}))};C.defaultProps={className:"",withSplitter:!1};var D=C;n(313);var q=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.withSplitter,r=function(e,t){var n=e?I()(e):I()(),r=I()(t),a=I.a.duration(r.diff(n));return a.asSeconds()>=0?a:null}(e.startDate,e.endDate);return a.a.createElement(D,{className:t,duration:r,withSplitter:n})}}]),t}(r.Component);q.defaultProps={className:"",withSplitter:!1};var W,L,F,H=q,z=(n(314),function(e){var t=e.startTime,n=e.endTime,r=e.className,i=void 0===r?"":r;return a.a.createElement(H,{className:"countdown-timer "+i,startDate:t,endDate:n,withSplitter:!0})}),V=(n(315),function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nextRaceStartTime,n=e.nextRaceTitle,r=e.currentTimeUtcString;return a.a.createElement(v.e,{className:"next-race-notifier alert-info"},a.a.createElement(v.x,null,a.a.createElement(v.c,{xs:12,sm:8,md:8,className:"next-race-notifier__race-info"},"\u0414\u043e \u0441\u0442\u0430\u0440\u0442\u0430 \u0433\u043e\u043d\u043a\u0438",a.a.createElement("strong",{className:"next-race-notifier__race-title"},n)),a.a.createElement(v.c,{xs:12,sm:4,md:4},a.a.createElement(z,{className:"next-race-notifier__countdown-timer",startTime:r,endTime:t}))))}}]),t}(a.a.Component)),G=function(){function e(t){Object(y.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"nextRace",get:function(){return this._appModel.nextRace}},{key:"currentTimeUtcString",get:function(){return this._appModel.timeWatcher.currentTimeUtcString}}]),e}(),Y=Object(u.inject)("headerStore")(W=Object(u.observer)((F=L=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.headerStore,n=e.className,r=t.nextRace,i=t.currentTimeUtcString;return a.a.createElement("header",{className:n},a.a.createElement(A,null),a.a.createElement("section",{className:"alert-info"},r&&a.a.createElement(V,{nextRaceTitle:r.prettyTitle,nextRaceStartTime:r.raceStartTime,currentTimeUtcString:i})))}}]),t}(a.a.Component),L.defaultProps={className:""},W=F))||W)||W;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var K=a.a.createElement("path",{fill:"currentColor",d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"}),$=function(e){var t=e.svgRef,n=Q(e,["svgRef"]);return a.a.createElement("svg",J({viewBox:"0 0 496 512",ref:t},n),K)},X=a.a.forwardRef(function(e,t){return a.a.createElement($,J({svgRef:t},e))}),ee=(n.p,n(316),(new Date).getFullYear()),te=function(e){var t=e.className,n=void 0===t?"":t;return a.a.createElement("footer",{className:"".concat(n," footer")},a.a.createElement(v.e,null,a.a.createElement(v.x,{className:"footer__social-media-links"},a.a.createElement(v.c,{className:"footer__copyright"},"\xa9 2018 - ",ee," F1 fun's team"),a.a.createElement(v.c,{xs:"2"},a.a.createElement(v.x,{className:"social-media-links"},a.a.createElement(v.c,{className:"social-media-links__telegram-box"},a.a.createElement("a",{href:"https://t.me/f1funteam",className:"footer__link social-media-links__link"},a.a.createElement(X,{className:"social-media-links__icon"}))))))))},ne=n(40),re=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a))))._handleLoadSeason=function(){n.props.onLoadSeason(n.props.season)},n}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isSeasonLoaded,n=e.seasonTitle,r=e.loadSeasonButtonCaption;return a.a.createElement(a.a.Fragment,null,a.a.createElement("section",{className:"section text-center"},t?n:a.a.createElement(v.b,{className:"button",color:"secondary",onClick:this._handleLoadSeason},r)),this.props.children)}}]),t}(a.a.Component),ae=n(83),ie=n(32);function ce(e){return e instanceof I.a?e:I()(e)}function se(e,t){return ce(e).isAfter(ce(t))}function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=ce(e)).add(t,n)}var ue=function(){function e(t){Object(y.a)(this,e),this._date=t}return Object(g.a)(e,[{key:"title",get:function(){return"\u0413\u043e\u043d\u043a\u0430"}},{key:"day",get:function(){return Object(ie.b)(this._date)}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(ie.c)(this._date)):""}}]),e}(),le=function(e){function t(e,n){var r;return Object(y.a)(this,t),(r=Object(O.a)(this,Object(j.a)(t).call(this,n)))._practiceNumber=e,r}return Object(_.a)(t,e),Object(g.a)(t,[{key:"title",get:function(){return"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 ".concat(this._practiceNumber)}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(ie.c)(this._date)," - ").concat(Object(ie.c)(oe(this._date,3===this._practiceNumber?1:1.5,"hour"))):""}}]),t}(ue),pe=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"title",get:function(){return"\u041a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(ie.c)(this._date)," - ").concat(Object(ie.c)(oe(this._date,1,"hour"))):""}}]),t}(ue),fe=function(){function e(t){Object(y.a)(this,e),this._roundInfo=t,this.racerStandings=[]}return Object(g.a)(e,[{key:"addRacerStandings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.racerStandings=e,this}},{key:"roundId",get:function(){return this._roundInfo.roundId}},{key:"_firstPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[0]||""}},{key:"_secondPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[1]||""}},{key:"_thirdPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[2]||""}},{key:"_qualificationStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.qualification:""}},{key:"raceStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.race:""}},{key:"countryName",get:function(){return this._roundInfo.circuit.countryName}},{key:"circuitUrl",get:function(){return this._roundInfo.circuit.url}},{key:"raceUrl",get:function(){return this._roundInfo.raceUrl}},{key:"flagUrl",get:function(){return Object(ae.findFlagUrlByCountryName)(this.countryName)}},{key:"raceTitle",get:function(){return"Formula 1 ".concat(this._roundInfo.raceName," ").concat(this._roundInfo.season)}},{key:"practices",get:function(){return[new le(1,this._firstPracticeStartTime),new le(2,this._secondPracticeStartTime),new le(3,this._thirdPracticeStartTime)]}},{key:"qualification",get:function(){return new pe(this._qualificationStartTime)}},{key:"race",get:function(){return new ue(this.raceStartTime)}},{key:"weekendInterval",get:function(){return"".concat(Object(ie.f)(this._firstPracticeStartTime)," - ").concat(Object(ie.f)(this.raceStartTime))}}]),e}(),de=n(70),he=n(119),me=n.n(he),be=(n(319),function(e){var t=e.className,n=e.children,r=Object(de.a)(e,["className","children"]);return a.a.createElement("a",Object.assign({className:me()("text-link",t)},r),n)}),ve=(n(320),function(e){var t=e.className,n=void 0===t?"":t,r=e.countryName,i=e.flagUrl,c=e.countryUrl;return a.a.createElement("div",{className:"country-info ".concat(n)},a.a.createElement("div",{className:"country-info__flag"},a.a.createElement("img",{className:"country-info__flag-image",src:i,alt:r})),a.a.createElement(be,{href:c,target:"_blank",className:"country-info__country-name"},r))}),ye=(n(321),n(52)),ge=function(e){function t(e){var n=e.firstName,r=e.lastName,a=e.number,i=e.abbreviation,c=e.points,s=e.nationality;return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).call(this,n,r,a,i,c,s))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"flagUrl",get:function(){return Object(ae.findFlagUrlByNationality)(this.nationality)}}]),t}(ye.a),Oe=(n(322),function(e){var t=e.className,n=void 0===t?"":t,r=e.flagUrl,i=void 0===r?"":r,c=e.name,s=void 0===c?"":c,o=e.code;return a.a.createElement("div",{className:"racer-view ".concat(n),title:s},i&&a.a.createElement("img",{className:"racer-view__image",src:i,alt:s}),a.a.createElement("span",null,o))}),je=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.racers,n=e.rowSize,r=t.length/n>1?t.length/n:1;return Array(r).fill(0).map(function(e,r){return t.slice(r*n,r*n+n)}).map(function(e,t){return a.a.createElement("div",{key:t,className:"racer-standings-widget__row"},e.map(function(e,r){return a.a.createElement("div",{className:"racer-standings-widget__racer",key:e.code},a.a.createElement("div",{className:"racer-standings-widget__racer-pos-number"},r+(t*n+1)),a.a.createElement(Oe,{className:"racer-standings-widget__racer-name",code:e.code,name:e.name}))}))})}}]),t}(a.a.Component);je.defaultProps={rowSize:20};var _e,we,ke,Se=n(67),Te=(_e=Object(u.inject)(function(e){return{isBetsAllowed:e.homePageStore.isBetsAllowed,isUserAlreadyBet:e.homePageStore.isUserAlreadyBet,isAuthenticated:e.homePageStore.isAuthenticated,nextRaceRoundId:e.homePageStore.nextWeekend.roundId}}),Object(w.a)(we=_e(we=Object(u.observer)((ke=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a))))._handleBetButtonClick=function(){n.props.history.push(n._canBet?E.a.BETS:E.a.RESULTS)},n}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isBetsAllowed,n=e.isUserAlreadyBet,r=e.isAuthenticated,i="\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432";return e.roundId===e.nextRaceRoundId&&(i=t?r?n?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0412\u043e\u0439\u0442\u0438 \u0434\u043b\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f":"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432"),a.a.createElement(Se.a,{onClick:this._handleBetButtonClick},i)}},{key:"_canBet",get:function(){var e=this.props,t=e.isBetsAllowed,n=e.roundId,r=e.nextRaceRoundId;return t&&r===n}}]),t}(a.a.Component),Object(T.a)(ke.prototype,"_canBet",[o.computed],Object.getOwnPropertyDescriptor(ke.prototype,"_canBet"),ke.prototype),we=ke))||we)||we)||we),Ee=(n(327),function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.raceInfo,n=e.infoText,r=t.roundId,i=t.flagUrl,c=t.countryName,s=t.raceTitle,o=t.weekendInterval,u=t.practices,l=t.qualification,p=t.race,f=t.circuitUrl,d=t.raceUrl,h=t.racerStandings;return a.a.createElement(v.e,{className:"race-info-panel"},a.a.createElement(v.x,null,a.a.createElement(v.c,{xs:12},a.a.createElement(ve,{className:"race-info-panel__country-info",countryName:c,flagUrl:i,countryUrl:f}),a.a.createElement(be,{target:"_blank",href:d,className:"race-info-panel__grand-prix-title"},s))),a.a.createElement(v.x,null,a.a.createElement(v.c,{className:"race-info-panel__weekend-interval"},o)),a.a.createElement(v.x,{className:"justify-content-around section race-info-panel__weekend-schedule"},a.a.createElement(v.c,{className:"race-info-panel__practice-list",md:5},u.map(function(e){var t=e.title,n=e.day,r=e.timeInterval;return a.a.createElement(v.x,{className:"race-info-panel__stage-info",key:t.split(" ").join("_")},a.a.createElement(v.c,{xs:5},t),a.a.createElement(v.c,{xs:2},n.toUpperCase()),a.a.createElement(v.c,null,r))})),a.a.createElement(v.c,{className:"race-info-panel__race-description",md:5},a.a.createElement(v.x,{className:"race-info-panel__stage-info"},a.a.createElement(v.c,{xs:5},l.title),a.a.createElement(v.c,{xs:2},l.day.toUpperCase()),a.a.createElement(v.c,null,l.timeInterval)),a.a.createElement(v.x,{className:"race-info-panel__stage-info"},a.a.createElement(v.c,{xs:5},p.title),a.a.createElement(v.c,{xs:2},p.day.toUpperCase()),a.a.createElement(v.c,null,p.timeInterval)))),h.length>0&&a.a.createElement(je,{racers:h}),a.a.createElement(v.x,null,a.a.createElement(v.c,null,a.a.createElement(Te,{roundId:r}))),a.a.createElement("hr",{className:"race-info-panel__underscore"}),n&&a.a.createElement(v.x,null,a.a.createElement(v.c,null,a.a.createElement(v.l,{color:"muted"},n))))}}]),t}(a.a.Component));Ee.defaultProps={infoText:""};var Me=Ee;function xe(e){return e.races.map(function(e){return a.a.createElement("section",{key:e.roundId,className:"section race-info-wrapper"},a.a.createElement(Me,{raceInfo:e,infoText:U}))})}var Re=function e(t){var n=t.season,r=void 0===n?"":n,a=t.isLoaded,i=void 0!==a&&a,c=t.weekends,s=void 0===c?[]:c;Object(y.a)(this,e),this.season=r,this.isLoaded=i,this.weekends=s};var Ne=function(e){var t=e.season,n=e.onLoadSeasonData,r=t.season,i=t.isLoaded,c=t.weekends,s="\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0441\u0435\u0437\u043e\u043d\u0430 ".concat(r);return a.a.createElement(re,{key:r,season:r,isSeasonLoaded:i,seasonTitle:s,loadSeasonButtonCaption:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0441\u0435\u0437\u043e\u043d\u0430 ".concat(r),onLoadSeason:function(){n(r)}},a.a.createElement(xe,{races:c}))};function Ue(e){var t=e.weekend,n=e.isBetsAllowed;return a.a.createElement("section",{className:"section colors--very-light-red"},a.a.createElement(Me,{raceInfo:t,commandButton:Te,infoText:n?"\u0421\u043f\u0435\u0448\u0438\u0442\u0435 \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043a\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0435\u0449\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f.":U}))}var Ae,Ze,Ie,Pe,Be,Ce,De,qe,We,Le,Fe,He,ze,Ve,Ge,Ye,Je,Qe=function(e){var t=e.seasonModel,n=e.nextWeekend,r=e.isBetsAllowed,i=e.currentSeasonRacesCount,c=t.season,s=t.weekends;return a.a.createElement(a.a.Fragment,null,n&&a.a.createElement(Ue,{weekend:n,isBetsAllowed:r}),s.length>0&&s.length!==i&&a.a.createElement("section",{className:"section text-center"},"\u0420\u0430\u043d\u0435\u0435 \u0432 \u0441\u0435\u0437\u043e\u043d\u0435 ",c),s.length>0&&a.a.createElement(xe,{races:s}))},Ke=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isBetsAllowed,n=e.nextWeekend,r=e.seasons,i=void 0===r?[]:r,c=e.currentSeason,s=e.currentSeasonRacesCount,o=e.onLoadHistory;return a.a.createElement("div",{className:"home-page"},i.map(function(e){return c===e.season?a.a.createElement(Qe,{key:e.season,isBetsAllowed:t,nextWeekend:n,seasonModel:e,currentSeasonRacesCount:s}):a.a.createElement(Ne,{key:e.season,season:e,onLoadSeasonData:o})}))}}]),t}(a.a.Component),$e=(n(328),Object(u.inject)(function(e){var t=e.homePageStore,n=t.nextWeekend,r=t.isBetsAllowed,a=t.currentSeason,i=t.currentSeasonRacesCount;return{nextWeekend:n,isBetsAllowed:r,currentSeason:a,seasons:t.seasons,currentSeasonRacesCount:i,onLoadHistory:function(e){return t.loadSeasonHistory(e)}}})(Ke)),Xe=n(450),et=n(51),tt=Object(u.observer)(function(e){var t=e.form,n=t.$(et.a.LOGIN),r=n.error,i=Boolean(r),c=t.$(et.a.PASSWORD),s=c.error,o=Boolean(s);return a.a.createElement(v.i,null,a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:n.id},n.label),a.a.createElement(v.m,Object.assign({},n.bind(),{invalid:i,valid:n.isDirty&&!i})),a.a.createElement(v.j,{valid:!i},n.error)),a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:c.id},c.label),a.a.createElement(v.m,Object.assign({},c.bind({type:"password"}),{invalid:o,valid:c.isDirty&&!o})),a.a.createElement(v.j,{valid:!o},s)),a.a.createElement(v.b,{color:"primary",type:"submit",onClick:t.onSubmit,disabled:t.isEmpty||!t.isValid,style:{width:"100%"}},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),nt=Object(u.observer)(function(e){var t=e.form,n=t.$(et.b.NAME),r=n.error,i=Boolean(r),c=t.$(et.b.LOGIN),s=c.error,o=Boolean(s),u=t.$(et.b.PASSWORD),l=u.error,p=Boolean(l);return a.a.createElement(v.i,null,a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:n.id},n.label),a.a.createElement(v.m,Object.assign({},n.bind(),{invalid:i,valid:n.isDirty&&!i})),a.a.createElement(v.j,{valid:!i},r)),a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:c.id},c.label),a.a.createElement(v.m,Object.assign({},c.bind(),{invalid:o,valid:c.isDirty&&!o})),a.a.createElement(v.j,{valid:!o},s)),a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:u.id},u.label),a.a.createElement(v.m,Object.assign({},u.bind({type:"password"}),{invalid:p,valid:u.isDirty&&!p})),a.a.createElement(v.j,{valid:!p},l),a.a.createElement(v.l,{color:"muted"},"\u0412\u0410\u0416\u041d\u041e! \u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u0412\u0430\u0448\u0438 \u043f\u0430\u0440\u043e\u043b\u0438 \u043e\u0442 \u0431\u0430\u043d\u043a\u043e\u0432\u043a\u0438\u0445 \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0430\u043a\u0430\u0443\u043d\u0442\u043e\u0432. ",a.a.createElement("br",null),"\u042d\u0442\u043e\u0442 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043a\u0430\u043a-\u0442\u043e \u043e\u0441\u043e\u0431\u043e \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0435\u0433\u043e \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u043b\u043e\u0443\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u0438\u043a\u0438. ",a.a.createElement("br",null),"\u041d\u0443, \u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b \u0435\u0441\u043b\u0438 \u0447\u0442\u043e :)")),a.a.createElement(Se.a,{type:"submit",disabled:t.isEmpty||!t.isValid,onClick:t.onSubmit,style:{width:"100%"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),rt=(n(329),Object(u.inject)("loginPageStore")(Ae=Object(w.a)(Ae=Object(u.observer)(Ae=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleRegisterNew=function(){n.props.loginPageStore.toggleRegisterNewForm()},n}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.loginPageStore,t=e.isRegisterNew,n=e.isUserAuthenticated,r=e.form;return n?a.a.createElement(Xe.a,{to:this._redirectPath}):a.a.createElement(v.e,{tag:"section",className:"page"},a.a.createElement(v.x,null,a.a.createElement(v.c,{lg:{size:6,offset:3},md:{size:8,offset:2}},a.a.createElement(v.x,null,a.a.createElement(v.c,null,a.a.createElement("h1",{className:"page-title"},t?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442":"\u0412\u0445\u043e\u0434 \u0432 F1 Bets App"),a.a.createElement("div",{className:"text-muted"},"\u0438\u043b\u0438",a.a.createElement(v.b,{color:"link",onClick:this.handleRegisterNew},t?" \u0432\u043e\u0439\u0442\u0438 \u0432 \u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442":" \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))),a.a.createElement(v.x,{className:"login-form-container"},a.a.createElement(v.c,null,t?a.a.createElement(nt,{form:r}):a.a.createElement(tt,{form:r}))))))}},{key:"_redirectPath",get:function(){return(this.props.location.state||{from:{pathname:"/"}}).from}}]),t}(a.a.Component))||Ae)||Ae)||Ae),at=Object(u.inject)("logoutPageStore")(Ze=Object(u.observer)(Ze=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.logoutPageStore.logout()}},{key:"render",value:function(){var e=this.props.logoutPageStore.isUserAuthenticated;return a.a.createElement(v.e,{className:"page"},a.a.createElement(v.x,null,e?a.a.createElement(v.c,null,"\u0418\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430..."):a.a.createElement(v.c,{lg:{size:6,offset:3},md:{size:8,offset:2}},a.a.createElement("div",null,"\u041c\u044b \u0431\u0443\u0434\u0435\u043c \u0441\u043a\u0443\u0447\u0430\u0442\u044c \u043f\u043e \u0442\u0435\u0431\u0435 :)"),a.a.createElement("div",null,a.a.createElement(x.a,{to:E.a.HOME},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))))}}]),t}(a.a.Component))||Ze)||Ze,it=n(448),ct=function(e){var t=e.component,n=e.isAuthenticated,r=void 0!==n&&n,i=e.isCurrentUserAdmin,c=void 0!==i&&i,s=e.isPrivate,o=void 0!==s&&s,u=e.onlyForAdmins,l=void 0!==u&&u,p=Object(de.a)(e,["component","isAuthenticated","isCurrentUserAdmin","isPrivate","onlyForAdmins"]);return a.a.createElement(it.a,Object.assign({},p,{render:function(e){return l&&!c?a.a.createElement(Xe.a,{to:{pathname:E.a.HOME}}):o&&!r?a.a.createElement(Xe.a,{to:{pathname:E.a.LOGIN,state:{from:e.location}}}):a.a.createElement(t,p)}}))},st=a.a.lazy(function(){return n.e(9).then(n.bind(null,473))}),ot=a.a.lazy(function(){return n.e(3).then(n.bind(null,468))}),ut=a.a.lazy(function(){return n.e(5).then(n.bind(null,470))}),lt=a.a.lazy(function(){return Promise.all([n.e(11),n.e(7)]).then(n.bind(null,467))}),pt=a.a.lazy(function(){return n.e(6).then(n.bind(null,471))}),ft=a.a.lazy(function(){return n.e(4).then(n.bind(null,469))}),dt=a.a.lazy(function(){return n.e(8).then(n.bind(null,466))}),ht=a.a.lazy(function(){return n.e(10).then(n.bind(null,472))}),mt=[{exact:!0,path:E.a.HOME,component:$e,id:Object(ne.a)()},{path:E.a.LOGIN,component:rt,id:Object(ne.a)()},{path:E.a.LOGOUT,component:at,id:Object(ne.a)()},{isPrivate:!0,path:E.a.BETS,component:function(){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(st,null))},id:Object(ne.a)()},{isPrivate:!0,path:E.a.BETS_HISTORY,component:function(){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(dt,null))},id:Object(ne.a)()},{path:E.a.RESULTS,component:function(){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(ot,null))},id:Object(ne.a)()},{path:E.a.RACERS,component:function(){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(pt,null))},id:Object(ne.a)()},{path:E.a.TEAMS,component:function(){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(ut,null))},id:Object(ne.a)()},{path:E.a.CALENDAR,component:function(){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(ft,null))},id:Object(ne.a)()},{isPrivate:!0,onlyForAdmins:!0,path:E.a.ADMIN,component:function(){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(lt,null))},id:Object(ne.a)()},{isPrivate:!0,path:E.a.PROFILE,component:function(){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(ht,null))},id:Object(ne.a)()}],bt=(n(330),function(){return a.a.createElement("div",{className:"loader__overlay"},a.a.createElement("div",{className:"loader"},a.a.createElement("div",{className:"loader__plate loader__plate--first"}),a.a.createElement("div",{className:"loader__plate loader__plate--second"}),a.a.createElement("div",{className:"loader__plate loader__plate--third"})))}),vt=n(263),yt=n.n(vt),gt=Object(u.inject)(function(e){return{pendingTasksCount:e.appStore._appModel._operationManager.pendingTasksCount,qualificationStartTime:e.appStore.nextRace&&e.appStore.nextRace.qualifyingStartTime,isBetsAllowed:e.appStore.isBetsAllowed,currentTime:e.appStore.currentTime}})(function(e){var t=e.pendingTasksCount,n=e.qualificationStartTime,r=e.isBetsAllowed,i=e.currentTime;return a.a.createElement(v.e,{className:"text-center bg-secondary"},a.a.createElement(v.x,null,a.a.createElement(v.c,null,"DEVELOPMENT MODE ON!!!"),a.a.createElement(v.c,{className:r?"bg-success":"bg-warning"},"Is Bets Allowed: ",r.toString()),a.a.createElement(v.c,null,t),a.a.createElement(v.c,null,"Qualification start Time: ",Object(ie.d)(n)),a.a.createElement(v.c,null,"Current Time: ",Object(ie.e)(i))))}),Ot=(n(331),Object(u.observer)((Pe=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(n,"isVisible",Be,Object(S.a)(Object(S.a)(n))),n.toggle=Object(o.action)(function(){n.isVisible=!n.isVisible}),n}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.isVisible?a.a.createElement("div",{className:"dev-tools"},a.a.createElement("div",{className:"dev-tools__tools"},a.a.createElement(gt,null),a.a.createElement(v.e,null,a.a.createElement(v.x,null,a.a.createElement(v.c,null,a.a.createElement(jt,null))))),a.a.createElement(v.b,{color:"danger",size:"sm",className:"dev-tools__close-button",onClick:this.toggle},"x")):a.a.createElement("div",{title:"Open dev tools",className:"dev-tools--collapsed-mode",onClick:this.toggle},"open"),a.a.createElement(yt.a,null))}}]),t}(r.Component),Be=Object(T.a)(Pe.prototype,"isVisible",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ie=Pe))||Ie),jt=Object(u.inject)("devToolsStore")(Ce=Object(u.observer)(Ce=function(e){function t(){var e,n;Object(y.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleMakeAdmin=function(){n.props.devToolsStore.makeUserAdmin()},n}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.devToolsStore.currentUser;return e?a.a.createElement("div",null,e.name,": ",e.isAdmin?"Admin":a.a.createElement("button",{onClick:this.handleMakeAdmin},"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u043e\u043c")):null}}]),t}(r.Component))||Ce)||Ce,_t=Ot,wt=Object(u.inject)("appStore")(De=Object(w.a)(De=Object(u.observer)(De=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.appStore.startTimeWatcher()}},{key:"componentWillUnmount",value:function(){this.props.appStore.stopTimeWatcher()}},{key:"render",value:function(){var e=this.props.appStore,t=e.hasPendingTasks,n=e.isUserAuthenticated,r=e.isUserAdmin,i=e.isProduction;return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(bt,null),a.a.createElement("div",{className:"layout"},!i&&a.a.createElement(_t,null),a.a.createElement(Y,{className:"layout__header"}),a.a.createElement("main",{className:"layout__main colors--very-light-grey"},mt.map(function(e){return a.a.createElement(ct,Object.assign({key:e.id,isAuthenticated:n,isCurrentUserAdmin:r},e))})),a.a.createElement(te,{className:"layout__footer"})))}}]),t}(r.Component))||De)||De)||De,kt=n(26),St=function(){function e(t){Object(y.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"startTimeWatcher",value:function(){this._appModel.timeWatcher.start()}},{key:"stopTimeWatcher",value:function(){this._appModel.timeWatcher.stop()}},{key:"isProduction",get:function(){return this._appModel.isProduction}},{key:"currentTime",get:function(){return this._appModel.timeWatcher.currentTime}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}},{key:"hasPendingTasks",get:function(){return this._appModel.operationManager.hasPendingTasks}},{key:"authenticatedUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"isUserAuthenticated",get:function(){return this._appModel.isUserAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appModel.isUserAlreadyBet}},{key:"isUserAdmin",get:function(){return this._appModel.isUserAdmin}}]),e}(),Tt=function(){function e(t){Object(y.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"makeUserAdmin",value:function(){var e=new M.a(Object(kt.a)({},this.currentUser,{isAdmin:!0}));return this._appModel.usersModel.addOrUpdate(e)}},{key:"currentUser",get:function(){return this._appModel.session.authenticatedUser}}]),e}(),Et=(qe=function(){function e(t){Object(y.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"loadSeasonHistory",value:function(e){this._appModel.loadSeasonData(e)}},{key:"_mapRacesToWeekendsModel",value:function(e,t){if(e.length>0){var n=this._appModel.formulaOneHistory.getRacesResults(t);return e.map(function(e,t){var r=new fe(e);if(n.length>0&&t<n.length){var a=n[t].racersStandings.map(function(e){return new ge(e)});return r.addRacerStandings(a)}return r})}return[]}},{key:"isAuthenticated",get:function(){return this._appModel.isUserAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appModel.isUserAlreadyBet}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}},{key:"currentSeason",get:function(){return this._appModel.currentSeason}},{key:"currentSeasonRacesCount",get:function(){return this._appModel.currentSeasonHistory.races.length}},{key:"nextWeekend",get:function(){var e=this._appModel.nextRace;return e?new fe(e):null}},{key:"seasons",get:function(){var e=this;return this._appModel.formulaOneHistory.historiesBySeason.map(function(t){var n=t.season,r=t.isLoaded,a=t.races,i=e._mapRacesToWeekendsModel(n===e.currentSeason?a.filter(function(t){return e.nextWeekend&&e.nextWeekend.raceStartTime!==t.raceStartTime&&!se(t.raceStartTime,e.nextWeekend.raceStartTime)}):a,n).reverse();return new Re({season:n,isLoaded:r,weekends:i})})}}]),e}(),Object(T.a)(qe.prototype,"currentSeasonRacesCount",[o.computed],Object.getOwnPropertyDescriptor(qe.prototype,"currentSeasonRacesCount"),qe.prototype),Object(T.a)(qe.prototype,"nextWeekend",[o.computed],Object.getOwnPropertyDescriptor(qe.prototype,"nextWeekend"),qe.prototype),Object(T.a)(qe.prototype,"seasons",[o.computed],Object.getOwnPropertyDescriptor(qe.prototype,"seasons"),qe.prototype),qe),Mt=n(261),xt=n(3),Rt=n.n(xt),Nt=n(10),Ut=n(172),At=n(222),Zt=(We=function(){function e(t,n){var r=this;Object(y.a)(this,e),Object(k.a)(this,"userEditForm",Le,this),Object(k.a)(this,"passwordResetForm",Fe,this),Object(k.a)(this,"editUser",He,this),this.deleteUser=function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")){e.next=4;break}return e.next=3,r._appModel.usersModel.deleteUser(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this.resetPassword=function(e){var t=r._findUserById(e);t&&window.confirm("\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e?")&&window.confirm("\u0422\u044b \u0443\u0432\u0435\u0440\u0435\u043d, \u0447\u0442\u043e \u0445\u043e\u0447\u0435\u0448\u044c \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e ".concat(t.login))&&r._showPasswordResetDialog(e)},Object(k.a)(this,"_showPasswordResetDialog",ze,this),this._appModel=t,this._storeApiUrl=n}return Object(g.a)(e,[{key:"_closeUserEditDialog",value:function(){this.userEditForm=null}},{key:"_closePasswordResetDialog",value:function(){this.passwordResetForm=null}},{key:"_findUserById",value:function(e){return this.users.find(function(t){return t.id===e})}},{key:"users",get:function(){return this._appModel.usersModel.users}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),Le=Object(T.a)(We.prototype,"userEditForm",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=Object(T.a)(We.prototype,"passwordResetForm",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(T.a)(We.prototype,"users",[o.computed],Object.getOwnPropertyDescriptor(We.prototype,"users"),We.prototype),He=Object(T.a)(We.prototype,"editUser",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e._findUserById(t);n&&(e.userEditForm=new Ut.b({user:n,onUserUpdate:function(t){return e._appModel.usersModel.addOrUpdate(t)},onSuccess:function(){e._closeUserEditDialog()},onCancel:function(){e._closeUserEditDialog()}}))}}}),ze=Object(T.a)(We.prototype,"_showPasswordResetDialog",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e._findUserById(t);n&&(e.passwordResetForm=new At.b({user:n,onSuccess:function(){var n=Object(Nt.a)(Rt.a.mark(function n(r){return Rt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e._appModel.usersModel.resetPassword(t,r);case 2:e._closePasswordResetDialog();case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),onCancel:function(){e._closePasswordResetDialog()}}))}}}),Object(T.a)(We.prototype,"_closeUserEditDialog",[o.action],Object.getOwnPropertyDescriptor(We.prototype,"_closeUserEditDialog"),We.prototype),Object(T.a)(We.prototype,"_closePasswordResetDialog",[o.action],Object.getOwnPropertyDescriptor(We.prototype,"_closePasswordResetDialog"),We.prototype),We),It=function(){function e(t,n){Object(y.a)(this,e);var r=b.getRaceStoreApiUrl(),a=b.getUserStoreApiUrl();this._racesSectionStore=new Mt.a(t,r,n),this._usersSectionStore=new Zt(t,a)}return Object(g.a)(e,[{key:"racesSectionStore",get:function(){return this._racesSectionStore}},{key:"usersSectionStore",get:function(){return this._usersSectionStore}}]),e}(),Pt=(Ve=function(){function e(t){Object(y.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"submitBet",value:function(e){return this._appModel.addNewBet(e)}},{key:"racers",get:function(){return this._appModel.currentSeasonHistory.racers}},{key:"currentUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"nextRaceTitle",get:function(){return this._appModel.nextRace?this._appModel.nextRace.prettyTitle:""}},{key:"usersBet",get:function(){var e=this;if(!this._appModel.isUserAlreadyBet)return{};var t=this._appModel.nextRace.bets.find(function(t){return t.userInfo.id===e.currentUser.id});return t?t.betsMap:{}}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}}]),e}(),Object(T.a)(Ve.prototype,"currentUser",[o.computed],Object.getOwnPropertyDescriptor(Ve.prototype,"currentUser"),Ve.prototype),Object(T.a)(Ve.prototype,"nextRaceTitle",[o.computed],Object.getOwnPropertyDescriptor(Ve.prototype,"nextRaceTitle"),Ve.prototype),Object(T.a)(Ve.prototype,"usersBet",[o.computed],Object.getOwnPropertyDescriptor(Ve.prototype,"usersBet"),Ve.prototype),Ve),Bt=function(){function e(t){Object(y.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"userBets",get:function(){return this._appModel.authUserBets}}]),e}(),Ct=n(120),Dt=(Ge=function(){function e(t){Object(y.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"races",get:function(){return this._appModel.currentSeasonHistory.rounds.map(function(e){var t=e.raceName,n=e.roundSchedule,r=e.roundId;return new Ct.a({raceName:t,raceTime:n.race,qualTime:n.qualification,practice1Time:n.practices[0],practice2Time:n.practices[1],practice3Time:n.practices[2],id:r})})}},{key:"nextRace",get:function(){if(!this._appModel.nextRace)return null;var e=this._appModel.nextRace;return this.races.find(function(t){return t.raceId===e.roundId})}},{key:"isRaceWeekend",get:function(){return!this._appModel.isBetsAllowed}},{key:"currentSeason",get:function(){return this._appModel.currentSeason}}]),e}(),Object(T.a)(Ge.prototype,"races",[o.computed],Object.getOwnPropertyDescriptor(Ge.prototype,"races"),Ge.prototype),Object(T.a)(Ge.prototype,"nextRace",[o.computed],Object.getOwnPropertyDescriptor(Ge.prototype,"nextRace"),Ge.prototype),Object(T.a)(Ge.prototype,"isRaceWeekend",[o.computed],Object.getOwnPropertyDescriptor(Ge.prototype,"isRaceWeekend"),Ge.prototype),Ge),qt=n(54),Wt=n.n(qt),Lt=n(55),Ft=n.n(Lt),Ht=function(e){e.invalidate("This is a generic error message!")},zt=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ht;return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).call(this,{fields:e},{options:{showErrorsOnChange:!0,validateOnChange:!0},plugins:{dvr:Ft.a},hooks:{onSuccess:n,onError:r}}))}return Object(_.a)(t,e),t}(Wt.a),Vt=(Ye=function(){function e(t){var n=this;Object(y.a)(this,e),Object(k.a)(this,"isRegisterNew",Je,this),this._appModel=t,this._loginForm=new zt(et.c,function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var r;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._appModel.session.login(t.values());case 2:if(!0===(r=e.sent)){e.next=6;break}return alert(r),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),this._registerNewAccountForm=new zt(et.d,function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var r;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._appModel.session.signIn(t.values());case 2:if(!0===(r=e.sent)){e.next=6;break}return alert(r),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}return Object(g.a)(e,[{key:"toggleRegisterNewForm",value:function(){this.isRegisterNew=!this.isRegisterNew}},{key:"login",value:function(e){var t=e.login,n=e.password;return this._appModel.session.login({login:t,password:n})}},{key:"signIn",value:function(e){var t=e.name,n=e.login,r=e.password;return this._appModel.session.signIn({name:t,login:n,password:r})}},{key:"isUserAuthenticated",get:function(){return this._appModel.session.isAuthenticated}},{key:"form",get:function(){return this.isRegisterNew?this._registerNewAccountForm:this._loginForm}}]),e}(),Je=Object(T.a)(Ye.prototype,"isRegisterNew",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(T.a)(Ye.prototype,"form",[o.computed],Object.getOwnPropertyDescriptor(Ye.prototype,"form"),Ye.prototype),Object(T.a)(Ye.prototype,"toggleRegisterNewForm",[o.action],Object.getOwnPropertyDescriptor(Ye.prototype,"toggleRegisterNewForm"),Ye.prototype),Ye),Gt=function(){function e(t){Object(y.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"logout",value:function(){return this._appModel.session.logout()}},{key:"isUserAuthenticated",get:function(){return this._appModel.session.isAuthenticated}}]),e}(),Yt=n(35),Jt=n(81),Qt=n.n(Jt);function Kt(e){return $t.apply(this,arguments)}function $t(){return($t=Object(Nt.a)(Rt.a.mark(function e(t){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qt.a.get(t);case 3:return e.abrupt("return",e.sent.data.MRData);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))).apply(this,arguments)}function Xt(e){return en.apply(this,arguments)}function en(){return(en=Object(Nt.a)(Rt.a.mark(function e(t){var n;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt("".concat(t,"?limit=0"));case 3:return n=e.sent.total,e.abrupt("return",Kt("".concat(t,"?limit=").concat(n)));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))).apply(this,arguments)}var tn,nn,rn,an,cn,sn,on,un=function e(t){Object(y.a)(this,e);var n=t.locality,r=t.country,a=t.lat,i=t.long,c=t.alt;this.locality=n,this.country=r,this.lat=a,this.long=i,this.alt=c},ln=function e(t){Object(y.a)(this,e);var n=t.circuitId,r=t.url,a=t.circuitName;this.circuitId=n,this.url=r,this.circuitName=a,this.location=new un(t.Location)},pn=function e(t){var n=t.season;Object(y.a)(this,e),this.season=n},fn=function e(t){var n=t.driverId,r=t.url,a=t.permanentNumber,i=t.givenName,c=t.familyName,s=t.dateOfBirth,o=t.code,u=t.nationality;Object(y.a)(this,e),this.driverId=n,this.url=r,this.permanentNumber=a,this.givenName=i,this.familyName=c,this.dateOfBirth=s,this.code=o,this.nationality=u},dn=function e(t){var n=t.constructorId,r=t.url,a=t.name,i=t.nationality;Object(y.a)(this,e),this.constructorId=n,this.url=r,this.name=a,this.nationality=i},hn=function e(t){Object(y.a)(this,e);var n=t.number,r=t.position;this.number=n,this.position=r,this.driver=new fn(t.Driver),this.constructor=new dn(t.Constructor)},mn=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).round=e.round,n.url=e.url,n.raceName=e.raceName,n.date=e.date,n.time=e.time,n.circuit=new ln(e.Circuit),n.qualifyingResults=(e.QualifyingResults||[]).map(function(e){return new hn(e)}),n}return Object(_.a)(t,e),t}(pn),bn=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).races=e.Races.map(function(e){return new mn(e)}),n}return Object(_.a)(t,e),t}(pn),vn=function e(t){Object(y.a)(this,e),this.rank=t.rank,this.lap=t.lap,this.time=t.Time,this.averageSpeed=t.AverageSpeed},yn=function e(t){Object(y.a)(this,e);var n=t.number,r=t.position,a=t.points,i=t.grid,c=t.laps,s=t.status,o=t.Time;this.number=n,this.position=r,this.points=a,this.driver=new fn(t.Driver),this.constructor=new dn(t.Constructor),this.grid=i,this.laps=c,this.status=s,this.time=Object(kt.a)({},o),this.fastestLap=t.FastestLap?new vn(t.FastestLap):void 0},gn=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).results=e.Results.map(function(e){return new yn(e)}),n}return Object(_.a)(t,e),t}(mn),On=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).races=e.Races.map(function(e){return new gn(e)}),n}return Object(_.a)(t,e),t}(bn),jn=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return e}),n}return Object(_.a)(t,e),t}(pn),_n=function(e){function t(e){var n,r=e.season,a=e.round;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,{season:r}))).round=a,n}return Object(_.a)(t,e),t}(pn),wn=function e(t){var n=t.position,r=t.positionText,a=t.points,i=t.wins;Object(y.a)(this,e),this.position=n,this.positionText=r,this.points=a,this.wins=i},kn=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).driver=new fn(e.Driver),n.constructors=e.Constructors.map(function(e){return new dn(e)}),n}return Object(_.a)(t,e),t}(wn),Sn=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).driverStandings=e.DriverStandings.map(function(e){return new kn(e)}),n}return Object(_.a)(t,e),t}(_n),Tn=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return new Sn(e)}),n}return Object(_.a)(t,e),t}(jn),En=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).constructor=new dn(e.Constructor),n}return Object(_.a)(t,e),t}(wn),Mn=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).constructorStandings=e.ConstructorStandings.map(function(e){return new En(e)}),n}return Object(_.a)(t,e),t}(_n),xn=function(e){function t(e){var n,r=e.season,a=e.StandingsLists;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,{season:r,StandingsLists:a}))).standingsLists=a.map(function(e){return new Mn(e)}),n}return Object(_.a)(t,e),t}(jn),Rn=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,e))).drivers=e.Drivers.map(function(e){return new fn(e)}),n}return Object(_.a)(t,e),t}(pn),Nn=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,null,[{key:"_createJsonUrl",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"".concat("https://ergast.com/api/f1","/").concat(t.filter(function(e){return Boolean(e)}).join("/"),".json")}},{key:"getDriverStandings",value:function(){var t=Object(Nt.a)(Rt.a.mark(function t(n){var r;return Rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kt(e._createJsonUrl(n,"driverStandings"));case 2:return r=t.sent,t.abrupt("return",new Tn(r.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getConstructorStandings",value:function(){var t=Object(Nt.a)(Rt.a.mark(function t(n){var r;return Rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kt(e._createJsonUrl(n,"constructorStandings"));case 2:return r=t.sent,t.abrupt("return",new xn(r.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getRaceSchedule",value:function(){var t=Object(Nt.a)(Rt.a.mark(function t(){var n,r,a,i=arguments;return Rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:"2018",r=i.length>1&&void 0!==i[1]?i[1]:"all",t.next=4,Kt(e._createJsonUrl(n,"all"!==r?r:void 0));case 4:return a=t.sent,t.abrupt("return",new bn(a.RaceTable));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getRaceResults",value:function(){var t=Object(Nt.a)(Rt.a.mark(function t(n){var r,a,i=arguments;return Rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"2018",t.next=3,Kt(e._createJsonUrl(r,n,"results"));case 3:return a=t.sent,t.abrupt("return",new On(a.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getAllRacesResults",value:function(){var t=Object(Nt.a)(Rt.a.mark(function t(){var n,r,a=arguments;return Rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"2018",t.next=3,Xt(e._createJsonUrl(n,"results"));case 3:return r=t.sent,t.abrupt("return",new On(r.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var t=Object(Nt.a)(Rt.a.mark(function t(){var n,r,a=arguments;return Rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"2018",t.next=3,Kt(e._createJsonUrl(n,"drivers"));case 3:return r=t.sent,t.abrupt("return",new Rn(r.DriverTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getQualifyingResults",value:function(){var t=Object(Nt.a)(Rt.a.mark(function t(){var n,r,a=arguments;return Rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"2018",t.next=3,Xt(e._createJsonUrl(n,"qualifying"));case 3:return r=t.sent,t.abrupt("return",new bn(r.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(),Un=n(121),An=(tn=function(){function e(t){var n=this;Object(y.a)(this,e),Object(k.a)(this,"racerStandingList",nn,this),this.loadRacerStandings=function(){return n._appModel.operationManager.runWithProgressAsync(Object(Nt.a)(Rt.a.mark(function e(){var t,r,a,i;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn.getDriverStandings(n.currentSeason);case 2:t=e.sent,r=Object(Yt.a)(t.standingsLists,1),(a=r[0])&&(i=a.driverStandings.map(function(e){var t=e.driver,n=Object(Yt.a)(e.constructors,1)[0];return new Un.a({pos:e.position,racerFullName:"".concat(t.givenName," ").concat(t.familyName),racerPoints:e.points,racerId:t.code,racerNumber:t.permanentNumber,racerUrl:t.url,constructorName:n?n.name:"",constructorUrl:n?n.url:"",racerNationality:t.nationality})}),Object(o.runInAction)(function(){n.racerStandingList=i}));case 5:case"end":return e.stop()}},e,this)})))},this._appModel=t}return Object(g.a)(e,[{key:"currentSeason",get:function(){return this._appModel.currentSeason}}]),e}(),nn=Object(T.a)(tn.prototype,"racerStandingList",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tn),Zn=n(69),In=n(66),Pn=n.n(In),Bn=n(223),Cn=n(224),Dn=(rn=function(){function e(t){Object(y.a)(this,e),this._appModel=t}return Object(g.a)(e,[{key:"authenticatedUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"raceResultsWithBets",get:function(){var e=this,t=this._appModel.currentSeasonHistory,n=t.races,r=t.racesResults,a=t.qualifyingsResults;return n.map(function(t,n){return new Bn.a({race:t,finishedRacers:n<r.length?r[n].racersStandings:void 0,getUserName:function(t){return e._appModel.usersModel.getUserNameById(t)},qualifyingResultsStandings:a[n]?a[n].racersStandings:void 0})})}},{key:"userStandingsByRound",get:function(){return this.raceResultsWithBets.filter(function(e){return e.hasOfficialResults}).map(function(e){return e.userVotes}).map(function(e,t){return{title:"gp"+(t+1),userStandings:e.map(function(e){return new Cn.a({userId:e.id,userName:e.name,totalPoints:e.userScore.value})})}})}},{key:"userStandings",get:function(){var e=Array.from(this.userStandingsByRound.reduce(function(e,t){return t.userStandings.forEach(function(t){e.set(t.userId,[].concat(Object(Zn.a)(e.get(t.userId)||[]),[t]))}),e},new Map([])).values()).map(function(e){var t=Pn()(e,function(e){return e.totalPoints});return t.slice(Math.max(t.length-7,0))}),t=new Map([]);return e.forEach(function(e){e.forEach(function(e){if(t.has(e.userId)){var n=e;n.totalPoints+=t.get(e.userId).totalPoints,t.set(e.userId,n)}else t.set(e.userId,e)})}),Array.from(t.values())}}]),e}(),Object(T.a)(rn.prototype,"raceResultsWithBets",[o.computed],Object.getOwnPropertyDescriptor(rn.prototype,"raceResultsWithBets"),rn.prototype),Object(T.a)(rn.prototype,"userStandingsByRound",[o.computed],Object.getOwnPropertyDescriptor(rn.prototype,"userStandingsByRound"),rn.prototype),Object(T.a)(rn.prototype,"userStandings",[o.computed],Object.getOwnPropertyDescriptor(rn.prototype,"userStandings"),rn.prototype),rn),qn=n(122),Wn=(an=function(){function e(t){var n=this;Object(y.a)(this,e),Object(k.a)(this,"teamsStandingList",cn,this),this.fetchStandings=function(){return n._appModel.operationManager.runWithProgressAsync(Object(Nt.a)(Rt.a.mark(function e(){var t,r;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn.getConstructorStandings(n.currentSeason);case 2:t=e.sent,(r=t.standingsLists[0])&&Object(o.runInAction)(function(){n.teamsStandingList=r.constructorStandings.map(function(e){var t=e.constructor;return new qn.a({pos:e.position,name:t.name,id:t.constructorId,points:e.points,url:t.url,nationality:t.nationality})})});case 5:case"end":return e.stop()}},e,this)})))},this._appModel=t}return Object(g.a)(e,[{key:"currentSeason",get:function(){return this._appModel.currentSeason}}]),e}(),cn=Object(T.a)(an.prototype,"teamsStandingList",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),an),Ln=n(123),Fn=(sn=function(){function e(t){var n=this;Object(y.a)(this,e),Object(k.a)(this,"_userNameForm",on,this),this.initForm=Object(o.action)(function(){n._userNameForm=new Ln.b({user:n.currentUser,onUserUpdate:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var r;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new M.a(Object(kt.a)({},n.currentUser,t)),e.next=3,n._appModel.usersModel.addOrUpdate(r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()})}),this._appModel=t}return Object(g.a)(e,[{key:"currentUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"profileEditForm",get:function(){return this._userNameForm}}]),e}(),on=Object(T.a)(sn.prototype,"_userNameForm",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(T.a)(sn.prototype,"profileEditForm",[o.computed],Object.getOwnPropertyDescriptor(sn.prototype,"profileEditForm"),sn.prototype),sn);function Hn(e){var t=new St(e),n=new G(e),r=new Tt(e),a=function(e){return{homePageStore:new Et(e),resultsPageStore:new Dn(e),racerStandingsPageStore:new An(e),teamsStandingsPageStore:new Wn(e),adminPageStore:new It(e,e.services.racesInfoService),loginPageStore:new Vt(e),logoutPageStore:new Gt(e),calendarPageStore:new Dt(e),userBetsHistoryPageStore:new Bt(e),betPageStore:new Pt(e),profilePageStore:new Fn(e)}}(e);return Object(kt.a)({},a,{appStore:t,headerStore:n,devToolsStore:r})}var zn=function(){function e(t){var n=t.userStoreApiUrl;Object(y.a)(this,e),this._apiUrl=n}return Object(g.a)(e,[{key:"fetchAll",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.C.get(this._apiUrl);case 2:return e.t0=M.a.fromJs,e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=function(e){return e.id===t},n=e.sent.find(e.t0)){e.next=6;break}throw new Error("User can't be found!");case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findById",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findBy(function(e){return e.id===t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findBy",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=t,n=e.sent.find(e.t0)){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n,r;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof M.a){e.next=2;break}throw new Error("variable user must be instanceof class User");case 2:return e.next=4,this.fetchAll();case 4:return n=e.sent,(r=n.findIndex(function(e){return e.id===t.id}))>-1?n[r]=t:n.push(t),e.next=9,v.C.put(this._apiUrl,n);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.fetchAll();case 4:return n=e.sent,e.abrupt("return",v.C.put(this._apiUrl,n.filter(function(e){return e.id!==t})));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Vn=function(e){function t(e){var n,r=e.season,a=e.raceName,i=e.bets,c=void 0===i?[]:i,s=e.raceResults,o=void 0===s?{}:s;return Object(y.a)(this,t),(n=Object(O.a)(this,Object(j.a)(t).call(this,{season:r,raceName:a}))).bets=c,n.raceResults=o,n}return Object(_.a)(t,e),t}(n(95).a),Gn=function(){function e(t){var n=t.raceInfoStoreApiUrl;Object(y.a)(this,e),this._apiUrl=n}return Object(g.a)(e,[{key:"fetchAll",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.C.get(this._apiUrl);case 2:return e.t0=function(e){return new Vn(e)},e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"saveAll",value:function(e){return v.C.put(this._apiUrl,e)}},{key:"addOrUpdateBet",value:function(){var t=Object(Nt.a)(Rt.a.mark(function t(n,r){var a,i;return Rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchAll();case 2:return a=t.sent,i=[],i=a.some(function(e){return e.roundId===r.roundId})?a.map(function(t){if(t.roundId===r.roundId){var a=t.bets.findIndex(function(e){return e.userInfo.id===n.userInfo.id});return a>-1?e._updateBet(t,n,a):e._addBet(t,n)}return t}):[].concat(Object(Zn.a)(a),[new Vn(Object(kt.a)({},r,{bets:[n]}))]),t.abrupt("return",this.saveAll(i));case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"updateRaceResult",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t,n){var r,a;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:return r=e.sent,(a=r.findIndex(function(e){return e.roundId===t}))>-1&&(r[a].raceResults=Object(kt.a)({},r[a].raceResults,n)),e.abrupt("return",this.saveAll(r));case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_addBet",value:function(e,t){return e.bets.push(t),e}},{key:"_updateBet",value:function(e,t,n){return e.bets[n]=t,e}}]),e}(),Yn=function(){function e(t){var n=t.localStorageUserKey,r=t.userService,a=t.cryptoService;Object(y.a)(this,e),this._localStorageUserKey=n,this._userService=r,this._cryptoService=a}return Object(g.a)(e,[{key:"authenticate",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(){var t,n,r,a=arguments;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,n=null,t){e.next=8;break}if(n=window.localStorage.getItem(this._localStorageUserKey)){e.next=6;break}return e.abrupt("return",null);case 6:e.next=9;break;case 8:n=t.id;case 9:return e.next=11,this._userService.findById(n);case 11:if(!(r=e.sent)){e.next=15;break}return this._authenticate(r),e.abrupt("return",r);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n,r,a;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,r=t.password,e.next=3,this._userService.findBy(function(e){return e.login===n});case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u043d\u0435\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435.");case 6:if(!this._cryptoService.isPasswordValid(r,a.password)){e.next=10;break}if(!this._authenticate(a)){e.next=9;break}return e.abrupt("return",a);case 9:return e.abrupt("return",!1);case 10:return e.abrupt("return","\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c.");case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){window.localStorage.removeItem(this._localStorageUserKey)}},{key:"signIn",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n,r,a,i;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,r=t.name,a=t.password,i=new M.a({login:n,name:r,password:this._cryptoService.encodePassword(a)}),e.next=4,this._userService.findBy(function(e){return e.login===i.login});case 4:if(!e.sent){e.next=7;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d.");case 7:return e.prev=7,e.next=10,this._userService.addOrUpdate(i);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return","Server Error. Cannot add or update user");case 15:if(!this._authenticate(i)){e.next=17;break}return e.abrupt("return",i);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,this,[[7,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_authenticate",value:function(e){var t=e.id;return!!t&&(window.localStorage.setItem(this._localStorageUserKey,t),!0)}}]),e}(),Jn=n(94);function Qn(e,t){var n={season:e.season,raceName:e.raceName,raceUrl:e.url,circuit:{url:e.circuit.url,countryName:e.circuit.location.country,circuitName:e.circuit.circuitName,circuitId:e.circuit.circuitId}},r=t.find(function(t){return t.round===Number(e.round)});return r&&(n.roundSchedule={practices:[r.practice_1,r.practice_2,r.practice_3],qualification:r.qualification,race:r.race}),new Jn.a(n)}function Kn(e,t){return new ye.a(e.givenName,e.familyName,e.permanentNumber,e.code,t,e.nationality,e.dateOfBirth)}var $n=function e(t){var n=t.season,r=t.round,a=t.racersStandings;Object(y.a)(this,e),this.season=n,this.round=Number(r),this.racersStandings=a};function Xn(e){var t=e.season,n=e.round,r=e.results;return new $n({season:t,round:n,racersStandings:r.map(function(e){return Kn(e.driver,e.points)})})}function er(e){var t=e.season,n=e.round,r=e.qualifyingResults;return new $n({season:t,round:n,racersStandings:r.map(function(e){return Kn(e.driver,"0")})})}var tr=function(){function e(t){var n=t.formulaOneOfficialDataRepository;Object(y.a)(this,e),this._repository=n}return Object(g.a)(e,[{key:"fetchSeasonRounds",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n,r;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getF1Calendar(t);case 2:return n=e.sent,e.next=5,this._repository.getRaceSchedule(t);case 5:return r=e.sent,e.abrupt("return",r.races.map(function(e){return Qn(e,n)}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRacesResults",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getRacesResults(t);case 2:return n=e.sent,e.abrupt("return",n.races.map(function(e){return Xn(e)}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchQualifyingResults",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getQualifyingResults(t);case 2:return n=e.sent,e.abrupt("return",n.races.map(function(e){return er(e)}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRacers",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n,r,a;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getDrivers(t);case 2:return n=e.sent,r=Object(Yt.a)(n,1),a=r[0],e.abrupt("return",a.driverStandings.map(function(e){var t=e.driver;return ye.a.create(Object(kt.a)({},t,{firstName:t.givenName,lastName:t.familyName,abbreviation:t.code,number:t.permanentNumber}))}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),nr=function e(t){var n=t.round,r=t.practice_1,a=t.practice_2,i=t.practice_3,c=t.qualification,s=t.race;Object(y.a)(this,e),this.round=n,this.practice_1=r,this.practice_2=a,this.practice_3=i,this.qualification=c,this.race=s},rr=new Map([["2018",[new nr({round:1,practice_1:"20180323T010000Z",practice_2:"20180323T050000Z",practice_3:"20180324T030000Z",qualification:"20180324T060000Z",race:"20180325T051000Z"}),new nr({round:2,practice_1:"20180406T110000Z",practice_2:"20180406T150000Z",practice_3:"20180407T120000Z",qualification:"20180407T150000Z",race:"20180408T151000Z"}),new nr({round:3,practice_1:"20180413T020000Z",practice_2:"20180413T060000Z",practice_3:"20180414T030000Z",qualification:"20180414T060000Z",race:"20180415T061000Z"}),new nr({round:4,practice_1:"20180427T090000Z",practice_2:"20180427T130000Z",practice_3:"20180428T100000Z",qualification:"20180428T130000Z",race:"20180429T121000Z"}),new nr({round:5,practice_1:"20180511T090000Z",practice_2:"20180511T130000Z",practice_3:"20180512T100000Z",qualification:"20180512T130000Z",race:"20180513T131000Z"}),new nr({round:6,practice_1:"20180524T090000Z",practice_2:"20180524T130000Z",practice_3:"20180526T100000Z",qualification:"20180526T130000Z",race:"20180527T131000Z"}),new nr({round:7,practice_1:"20180608T140000Z",practice_2:"20180608T180000Z",practice_3:"20180609T150000Z",qualification:"20180609T180000Z",race:"20180610T181000Z"}),new nr({round:8,practice_1:"20180622T100000Z",practice_2:"20180622T140000Z",practice_3:"20180623T110000Z",qualification:"20180623T140000Z",race:"20180624T141000Z"}),new nr({round:9,practice_1:"20180629T090000Z",practice_2:"20180629T130000Z",practice_3:"20180630T100000Z",qualification:"20180630T130000Z",race:"20180701T131000Z"}),new nr({round:10,practice_1:"20180706T090000Z",practice_2:"20180706T130000Z",practice_3:"20180707T100000Z",qualification:"20180707T130000Z",race:"20180708T131000Z"}),new nr({round:11,practice_1:"20180720T090000Z",practice_2:"20180720T130000Z",practice_3:"20180721T100000Z",qualification:"20180721T130000Z",race:"20180722T131000Z"}),new nr({round:12,practice_1:"20180727T090000Z",practice_2:"20180727T130000Z",practice_3:"20180728T100000Z",qualification:"20180728T130000Z",race:"20180729T131000Z"}),new nr({round:13,practice_1:"20180824T090000Z",practice_2:"20180824T130000Z",practice_3:"20180825T100000Z",qualification:"20180825T130000Z",race:"20180826T131000Z"}),new nr({round:14,practice_1:"20180831T090000Z",practice_2:"20180831T130000Z",practice_3:"20180901T100000Z",qualification:"20180901T130000Z",race:"20180902T131000Z"}),new nr({round:15,practice_1:"20180914T083000Z",practice_2:"20180914T123000Z",practice_3:"20180915T100000Z",qualification:"20180915T130000Z",race:"20180916T121000Z"}),new nr({round:16,practice_1:"20180928T080000Z",practice_2:"20180928T120000Z",practice_3:"20180929T090000Z",qualification:"20180929T120000Z",race:"20180930T111000Z"}),new nr({round:17,practice_1:"20181005T010000Z",practice_2:"20181005T050000Z",practice_3:"20181006T030000Z",qualification:"20181006T060000Z",race:"20181007T051000Z"}),new nr({round:18,practice_1:"20181019T150000Z",practice_2:"20181019T190000Z",practice_3:"20181020T180000Z",qualification:"20181020T210000Z",race:"20181021T181000Z"}),new nr({round:19,practice_1:"20181026T150000Z",practice_2:"20181026T190000Z",practice_3:"20181027T150000Z",qualification:"20181027T180000Z",race:"20181028T191000Z"}),new nr({round:20,practice_1:"20181109T140000Z",practice_2:"20181109T180000Z",practice_3:"20181110T150000Z",qualification:"20181110T180000Z",race:"20181111T181000Z"}),new nr({round:21,practice_1:"20181123T090000Z",practice_2:"20181123T130000Z",practice_3:"20181124T100000Z",qualification:"20181124T130000Z",race:"20181125T131000Z"})]],["2019",[new nr({round:1,practice_1:"20190315T010000Z",practice_2:"20190315T050000Z",practice_3:"20190316T030000Z",qualification:"20190316T060000Z",race:"20190317T051000Z"}),new nr({round:2,practice_1:"20190329T110000Z",practice_2:"20190329T150000Z",practice_3:"20190330T120000Z",qualification:"20190330T150000Z",race:"20190331T151000Z"}),new nr({round:3,practice_1:"20190412T020000Z",practice_2:"20190412T060000Z",practice_3:"20190413T030000Z",qualification:"20190413T060000Z",race:"20190414T061000Z"}),new nr({round:4,practice_1:"20190426T090000Z",practice_2:"20190426T130000Z",practice_3:"20190427T100000Z",qualification:"20190427T130000Z",race:"20190428T121000Z"}),new nr({round:5,practice_1:"20190510T090000Z",practice_2:"20190510T130000Z",practice_3:"20190511T100000Z",qualification:"20190511T130000Z",race:"20190512T131000Z"}),new nr({round:6,practice_1:"20190523T090000Z",practice_2:"20190523T130000Z",practice_3:"20190525T100000Z",qualification:"20190525T130000Z",race:"20190526T131000Z"}),new nr({round:7,practice_1:"20190607T150000Z",practice_2:"20190607T190000Z",practice_3:"20190608T160000Z",qualification:"20190608T180000Z",race:"20190609T181000Z"}),new nr({round:8,practice_1:"20190621T090000Z",practice_2:"20190621T130000Z",practice_3:"20190622T100000Z",qualification:"20190622T130000Z",race:"20190623T131000Z"}),new nr({round:9,practice_1:"20190628T090000Z",practice_2:"20190628T130000Z",practice_3:"20190629T100000Z",qualification:"20190629T130000Z",race:"20190630T131000Z"}),new nr({round:10,practice_1:"20190712T090000Z",practice_2:"20190712T130000Z",practice_3:"20190713T100000Z",qualification:"20190713T130000Z",race:"20190714T131000Z"}),new nr({round:11,practice_1:"20190726T090000Z",practice_2:"20190726T130000Z",practice_3:"20190727T100000Z",qualification:"20190727T130000Z",race:"20190728T131000Z"}),new nr({round:12,practice_1:"20190802T090000Z",practice_2:"20190802T130000Z",practice_3:"20190803T100000Z",qualification:"20190803T130000Z",race:"20190804T131000Z"}),new nr({round:13,practice_1:"20190830T090000Z",practice_2:"20190830T130000Z",practice_3:"20190831T100000Z",qualification:"20190831T130000Z",race:"20190901T131000Z"}),new nr({round:14,practice_1:"20190906T090000Z",practice_2:"20190906T130000Z",practice_3:"20190907T100000Z",qualification:"20190907T130000Z",race:"20190908T131000Z"}),new nr({round:15,practice_1:"20190920T083000Z",practice_2:"20190920T123000Z",practice_3:"20190921T100000Z",qualification:"20190921T130000Z",race:"20190922T121000Z"}),new nr({round:16,practice_1:"20190927T080000Z",practice_2:"20190927T120000Z",practice_3:"20190928T090000Z",qualification:"20190928T120000Z",race:"20190929T111000Z"}),new nr({round:17,practice_1:"20191011T010000Z",practice_2:"20191011T050000Z",practice_3:"20191012T030000Z",qualification:"20191012T060000Z",race:"20191013T051000Z"}),new nr({round:18,practice_1:"20191025T150000Z",practice_2:"20191025T190000Z",practice_3:"20191026T150000Z",qualification:"20191026T180000Z",race:"20191027T191000Z"}),new nr({round:19,practice_1:"20191101T160000Z",practice_2:"20191101T200000Z",practice_3:"20191102T180000Z",qualification:"20191102T210000Z",race:"20191103T191000Z"}),new nr({round:20,practice_1:"20191115T140000Z",practice_2:"20191115T180000Z",practice_3:"20191116T150000Z",qualification:"20191116T180000Z",race:"20191117T181000Z"}),new nr({round:21,practice_1:"20191129T090000Z",practice_2:"20191129T130000Z",practice_3:"20191130T100000Z",qualification:"20191130T130000Z",race:"20191201T131000Z"})]]]),ar=function(){function e(){Object(y.a)(this,e)}return Object(g.a)(e,[{key:"getF1Calendar",value:function(e){var t=rr.get(e);return Promise.resolve(t)}},{key:"getRaceSchedule",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn.getRaceSchedule(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRacesResults",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn.getAllRacesResults(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getQualifyingResults",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn.getQualifyingResults(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn.getDriverStandings(t);case 2:return e.abrupt("return",e.sent.standingsLists);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ir=n(118),cr=n.n(ir);var sr,or,ur,lr={encodePassword:function(e){return cr.a.hashSync(e,8)},isPasswordValid:function(e,t){return cr.a.compareSync(e,t)}};var pr,fr,dr,hr,mr,br,vr,yr,gr,Or,jr=(sr=function(){function e(t){Object(y.a)(this,e),Object(k.a)(this,"_currentTime",or,this),Object(k.a)(this,"_tick",ur,this),this._tickInterval=t}return Object(g.a)(e,[{key:"start",value:function(){this._interval=setInterval(this._tick,1e3*this._tickInterval),this._tick()}},{key:"stop",value:function(){this._interval&&clearInterval(this._interval)}},{key:"currentTime",get:function(){return this._currentTime}},{key:"currentTimeUtcString",get:function(){return Object(ie.g)(this._currentTime)}},{key:"currentYear",get:function(){return(new Date).getUTCFullYear()}}]),e}(),or=Object(T.a)(sr.prototype,"_currentTime",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I()()}}),ur=Object(T.a)(sr.prototype,"_tick",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._currentTime=I()()}}}),Object(T.a)(sr.prototype,"currentTime",[o.computed],Object.getOwnPropertyDescriptor(sr.prototype,"currentTime"),sr.prototype),Object(T.a)(sr.prototype,"currentTimeUtcString",[o.computed],Object.getOwnPropertyDescriptor(sr.prototype,"currentTimeUtcString"),sr.prototype),sr),_r=(pr=function(){function e(){Object(y.a)(this,e),Object(k.a)(this,"pendingTasksCount",fr,this)}return Object(g.a)(e,[{key:"runWithProgress",value:function(e){this.pendingTasksCount++,e(),this.pendingTasksCount--}},{key:"runWithProgressAsync",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n=this;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingTasksCount++,e.prev=1,e.next=4,t();case 4:return e.abrupt("return",e.sent);case 5:return e.prev=5,Object(o.runInAction)(function(){n.pendingTasksCount--}),e.finish(5);case 8:case"end":return e.stop()}},e,this,[[1,,5,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"hasPendingTasks",get:function(){return this.pendingTasksCount>0}}]),e}(),fr=Object(T.a)(pr.prototype,"pendingTasksCount",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(T.a)(pr.prototype,"hasPendingTasks",[o.computed],Object.getOwnPropertyDescriptor(pr.prototype,"hasPendingTasks"),pr.prototype),Object(T.a)(pr.prototype,"runWithProgress",[o.action],Object.getOwnPropertyDescriptor(pr.prototype,"runWithProgress"),pr.prototype),Object(T.a)(pr.prototype,"runWithProgressAsync",[o.action],Object.getOwnPropertyDescriptor(pr.prototype,"runWithProgressAsync"),pr.prototype),pr),wr=(dr=function(){function e(t){var n=this,r=t.authenticationService,a=t.operationManager,i=t.usersModel;Object(y.a)(this,e),Object(k.a)(this,"authenticatedUserId",hr,this),this._authService=r,this._operationManager=a,this._usersModel=i,this._operationManager.runWithProgressAsync(Object(Nt.a)(Rt.a.mark(function e(){var t;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.authenticate();case 2:return(t=e.sent)instanceof M.a&&Object(o.runInAction)(function(){n.authenticatedUserId=t.id}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})))}return Object(g.a)(e,[{key:"login",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n,r,a=this;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,r=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Nt.a)(Rt.a.mark(function e(){var t;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._authService.login({login:n,password:r});case 2:if(!((t=e.sent)instanceof M.a)){e.next=6;break}return Object(o.runInAction)(function(){a.authenticatedUserId=t.id}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.isAuthenticated&&(this._authService.logout(),this.authenticatedUserId=null)}},{key:"signIn",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n,r,a,i=this;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,r=t.name,a=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Nt.a)(Rt.a.mark(function e(){var t;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._authService.signIn({login:n,name:r,password:a});case 2:if(!((t=e.sent)instanceof M.a)){e.next=6;break}return Object(o.runInAction)(function(){i.authenticatedUserId=t.id}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"authenticatedUser",get:function(){var e=this;return this.authenticatedUserId&&this._usersModel.users.find(function(t){return t.id===e.authenticatedUserId})||null}},{key:"isAuthenticated",get:function(){return null!==this.authenticatedUser}},{key:"isCurrentUserAdmin",get:function(){return this.isAuthenticated&&this.authenticatedUser.isAdmin}}]),e}(),hr=Object(T.a)(dr.prototype,"authenticatedUserId",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(T.a)(dr.prototype,"authenticatedUser",[o.computed],Object.getOwnPropertyDescriptor(dr.prototype,"authenticatedUser"),dr.prototype),Object(T.a)(dr.prototype,"isAuthenticated",[o.computed],Object.getOwnPropertyDescriptor(dr.prototype,"isAuthenticated"),dr.prototype),Object(T.a)(dr.prototype,"isCurrentUserAdmin",[o.computed],Object.getOwnPropertyDescriptor(dr.prototype,"isCurrentUserAdmin"),dr.prototype),Object(T.a)(dr.prototype,"login",[o.action],Object.getOwnPropertyDescriptor(dr.prototype,"login"),dr.prototype),Object(T.a)(dr.prototype,"logout",[o.action],Object.getOwnPropertyDescriptor(dr.prototype,"logout"),dr.prototype),Object(T.a)(dr.prototype,"signIn",[o.action],Object.getOwnPropertyDescriptor(dr.prototype,"signIn"),dr.prototype),dr),kr=(mr=function(){function e(t){var n=this,r=t.userService,a=t.operationManager,i=t.cryptoService;Object(y.a)(this,e),Object(k.a)(this,"users",br,this),this._userService=r,this._operationManager=a,this._cryptoService=i,this._operationManager.runWithProgressAsync(function(){return n.fetchUsers()})}return Object(g.a)(e,[{key:"fetchUsers",value:function(){var e=this;try{return this._operationManager.runWithProgressAsync(Object(Nt.a)(Rt.a.mark(function t(){var n;return Rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._userService.fetchAll();case 2:n=t.sent,Object(o.runInAction)(Object(Nt.a)(Rt.a.mark(function t(){return Rt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.users=n;case 1:case"end":return t.stop()}},t,this)})));case 4:case"end":return t.stop()}},t,this)})))}catch(t){console.log("Can't load 'users' in UserModel!!\n",t)}}},{key:"deleteUser",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._userService.delete(t);case 2:return e.next=4,this.fetchUsers();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n=this;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Nt.a)(Rt.a.mark(function e(){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._userService.addOrUpdate(t);case 2:return e.next=4,n.fetchUsers();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t,n){var r;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchUsers();case 2:if(r=this._findUserById(t)){e.next=5;break}return e.abrupt("return");case 5:return r.password=this._cryptoService.encodePassword(n),e.next=8,this.addOrUpdate(r);case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserNameById",value:function(e){var t=this._findUserById(e);return t?t.name:"<DELETED USER>"}},{key:"_findUserById",value:function(e){return this.users.find(function(t){return t.id===e})||null}}]),e}(),br=Object(T.a)(mr.prototype,"users",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mr),Sr=function(){function e(t){var n=t.operationManager,r=t.formulaOneOfficialDataService;Object(y.a)(this,e),this._service=r,this._operationManager=n}return Object(g.a)(e,[{key:"fetchRounds",value:function(e){var t=this;return this._operationManager.runWithProgressAsync(function(){return t._service.fetchSeasonRounds(e)})}},{key:"fetchRacesResults",value:function(e){var t=this;return this._operationManager.runWithProgressAsync(function(){return t._service.fetchRacesResults(e)})}},{key:"fetchQualifyingResults",value:function(e){var t=this;return this._operationManager.runWithProgressAsync(function(){return t._service.fetchQualifyingResults(e)})}},{key:"fetchRacers",value:function(e){var t=this;return this._operationManager.runWithProgressAsync(function(){return t._service.fetchRacers(e)})}}]),e}(),Tr=function(){function e(t){var n=t.operationManager,r=t.racesInfoService;Object(y.a)(this,e),this._racesInfoService=r,this._operationManager=n}return Object(g.a)(e,[{key:"fetchSeasonRaces",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n=this;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Nt.a)(Rt.a.mark(function e(){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n._operationManager.runWithProgressAsync(function(){return n._racesInfoService.fetchAll()}));case 1:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Er=n(89),Mr=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.season,r=void 0===n?"":n,a=t.isLoaded,i=void 0!==a&&a,c=t.rounds,s=void 0===c?[]:c,o=t.racesResults,u=void 0===o?[]:o,l=t.racers,p=void 0===l?[]:l,f=t.races,d=void 0===f?[]:f,h=t.qualifyingsResults,m=void 0===h?[]:h;Object(y.a)(this,e),this.season=r,this.isLoaded=i,this.rounds=s,this.racesResults=u,this.racers=p,this.races=d,this.qualifyingsResults=m},xr=(vr=function(){function e(t,n,r){var a=n.racesInfoService,i=n.formulaOneOfficialDataService;Object(y.a)(this,e),Object(k.a)(this,"seasonsHistory",yr,this),this._currentSeason=t,this._racesModel=new Tr({operationManager:r,racesInfoService:a}),this._formulaOneOfficialModel=new Sr({operationManager:r,formulaOneOfficialDataService:i}),this.availableSeasons=["2019","2018"],this._initSeasonsHistory()}return Object(g.a)(e,[{key:"_initSeasonsHistory",value:function(){this.seasonsHistory=new Map(this.availableSeasons.map(function(e){return[e,new Mr({season:e})]}))}},{key:"getRounds",value:function(e){return this._withSeasonExistCheck(e,this.seasonsHistory.get(e).rounds)}},{key:"getRacesResults",value:function(e){return this._withSeasonExistCheck(e,this.seasonsHistory.get(e).racesResults)}},{key:"getRacers",value:function(e){return this._withSeasonExistCheck(e,this.seasonsHistory.get(e).racers)}},{key:"getRaces",value:function(e){return this._withSeasonExistCheck(e,this.seasonsHistory.get(e).races)}},{key:"loadSeasonHistory",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n,r,a,i,c,s,u,l,p=this,f=arguments;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]&&f[1],!this.seasonsHistory.has(t)||!this.seasonsHistory.get(t).isLoaded||n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Promise.all([this._formulaOneOfficialModel.fetchRounds(t),this._formulaOneOfficialModel.fetchRacesResults(t),this._formulaOneOfficialModel.fetchRacers(t),this._racesModel.fetchSeasonRaces(t),this._formulaOneOfficialModel.fetchQualifyingResults(t)]);case 5:r=e.sent,a=Object(Yt.a)(r,5),i=a[0],c=a[1],s=a[2],u=a[3],l=a[4],Object(o.runInAction)(function(){p.seasonsHistory.set(t,new Mr({season:t,isLoaded:!0,rounds:i,racesResults:c,racers:s,races:i.map(function(e){var t=u.find(function(t){return t.roundId===e.roundId});return new Er.a(Object(kt.a)({},e,{bets:t?t.bets:[],raceResults:t?t.raceResults:{}}))}),qualifyingsResults:l}))});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_withSeasonExistCheck",value:function(e,t){return this.seasonsHistory.has(e)?t:[]}},{key:"currentSeasonHistory",get:function(){return this.seasonsHistory.has(this._currentSeason)?this.seasonsHistory.get(this._currentSeason):new Mr}},{key:"historiesBySeason",get:function(){var e=Array.from(this.seasonsHistory.entries()).map(function(e){var t=Object(Yt.a)(e,2);t[0];return t[1]});return Pn()(e,["season"]).reverse()}}]),e}(),yr=Object(T.a)(vr.prototype,"seasonsHistory",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(T.a)(vr.prototype,"_initSeasonsHistory",[o.action],Object.getOwnPropertyDescriptor(vr.prototype,"_initSeasonsHistory"),vr.prototype),Object(T.a)(vr.prototype,"historiesBySeason",[o.computed],Object.getOwnPropertyDescriptor(vr.prototype,"historiesBySeason"),vr.prototype),vr),Rr=b.getVoteClosingTime(),Nr=(gr=function(){function e(t){var n=this;Object(y.a)(this,e);var r=new _r,a=b.getTickInterval(),i=t.userService,c=t.authenticationService,s=t.cryptoService;this.services=t,this._timeWatcher=new jr(a),this.currentSeason=this._timeWatcher.currentYear.toString(),this._operationManager=r,this._usersModel=new kr({operationManager:r,userService:i,cryptoService:s}),this._sessionModel=new wr({authenticationService:c,operationManager:r,usersModel:this._usersModel}),this._formulaOneHistoryModel=new xr(this.currentSeason,t,r),this.loadSeasonData(this.currentSeason),Object(o.when)(function(){return n.nextRace&&se(n._timeWatcher.currentTime,n.nextRace.raceStartTime)},function(){n._reloadSeasonData(n.currentSeason)})}return Object(g.a)(e,[{key:"addNewBet",value:function(){var e=Object(Nt.a)(Rt.a.mark(function e(t){var n,r=this,a=arguments;return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=null!==(n=a.length>1&&void 0!==a[1]?a[1]:null)?n:this.nextRace,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Nt.a)(Rt.a.mark(function e(){return Rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.services.racesInfoService.addOrUpdateBet(t,n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Can't update Bet",e.t0);case 8:return e.next=10,r._reloadSeasonData(r.currentSeason);case 10:case"end":return e.stop()}},e,this,[[0,5]])}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"loadSeasonData",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._formulaOneHistoryModel.loadSeasonHistory(e)}},{key:"_reloadSeasonData",value:function(e){this._formulaOneHistoryModel.loadSeasonHistory(e,!0)}},{key:"currentSeasonHistory",get:function(){return this._formulaOneHistoryModel.currentSeasonHistory}},{key:"nextRace",get:function(){var e=this._timeWatcher.currentTime,t=this.currentSeasonHistory.races.filter(function(t){return se(t.raceStartTime,e)});return Object(Yt.a)(t,1)[0]||null}},{key:"isProduction",get:function(){return b.isProductionMode()}},{key:"isUserAlreadyBet",get:function(){var e=this;return!!this._sessionModel.authenticatedUser&&(!!this.nextRace&&this.nextRace.bets.some(function(t){return t.userInfo.id===e._sessionModel.authenticatedUser.id}))}},{key:"isBetsAllowed",get:function(){if(!this.nextRace)return!1;var e=this.nextRace,t=e.raceStartTime,n=e.qualifyingStartTime;return!(!n||!t)&&!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"minute";return e=ce(e),t=ce(t),n=ce(n),e.isBetween(t,n,r)}(this.timeWatcher.currentTime,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=ce(e)).subtract(t,n)}(n,Rr),t)}},{key:"isUserAuthenticated",get:function(){return this._sessionModel.isAuthenticated}},{key:"isUserAdmin",get:function(){return this._sessionModel.isCurrentUserAdmin}},{key:"authUserBets",get:function(){if(!this._sessionModel.authenticatedUser)return[];var e=[],t=this._sessionModel.authenticatedUser.id;return this.currentSeasonHistory.races.forEach(function(n){var r=n.bets,a=n.prettyTitle,i=n.roundId;if(r.some(function(e){return e.userInfo.id===t})){var c=r[r.findIndex(function(e){return e.userInfo.id===t})];e.push({raceId:i,title:a,bet:c.betsMap})}}),e}},{key:"session",get:function(){return this._sessionModel}},{key:"usersModel",get:function(){return this._usersModel}},{key:"formulaOneHistory",get:function(){return this._formulaOneHistoryModel}},{key:"timeWatcher",get:function(){return this._timeWatcher}},{key:"operationManager",get:function(){return this._operationManager}}]),e}(),Object(T.a)(gr.prototype,"nextRace",[o.computed],Object.getOwnPropertyDescriptor(gr.prototype,"nextRace"),gr.prototype),Object(T.a)(gr.prototype,"isUserAlreadyBet",[o.computed],Object.getOwnPropertyDescriptor(gr.prototype,"isUserAlreadyBet"),gr.prototype),Object(T.a)(gr.prototype,"isBetsAllowed",[o.computed],Object.getOwnPropertyDescriptor(gr.prototype,"isBetsAllowed"),gr.prototype),Object(T.a)(gr.prototype,"authUserBets",[o.computed],Object.getOwnPropertyDescriptor(gr.prototype,"authUserBets"),gr.prototype),gr),Ur=function(){function e(t){var n=t.configProvider;Object(y.a)(this,e);var r=function(e){var t=e.getUserStoreApiUrl(),n=e.getRaceStoreApiUrl(),r=e.getLocalStorageUserKey(),a=new ar,i=new zn({userStoreApiUrl:t}),c=new Gn({raceInfoStoreApiUrl:n});return{userService:i,authenticationService:new Yn({localStorageUserKey:r,userService:i,cryptoService:lr}),racesInfoService:c,formulaOneOfficialDataService:new tr({formulaOneOfficialDataRepository:a}),cryptoService:lr}}(n),a=new Nr(r);this._stores=Hn(a)}return Object(g.a)(e,[{key:"getStores",value:function(){return this._stores}}]),e}(),Ar=Object(w.a)(Or=function(e){function t(){return Object(y.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(a.a.Component))||Or;Object(o.configure)({enforceActions:"always"});var Zr=new Ur({configProvider:b}).getStores();c.a.render(a.a.createElement(u.Provider,Zr,a.a.createElement(s.a,null,a.a.createElement(Ar,null,a.a.createElement(wt,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");l?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):p(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):p(e)})}}()},47:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i});var r="required|string|between:3,25",a="required|string|alpha_num|between:2,15",i="required|string|alpha_num|between:5,15"},51:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l});var r,a=n(56),i=n(26),c=n(47),s={LOGIN:"login",PASSWORD:"password"},o=Object(i.a)({},s,{NAME:"name"}),u=(r={},Object(a.a)(r,s.LOGIN,{name:s.LOGIN,label:"\u041b\u043e\u0433\u0438\u043d",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, superman",rules:c.a}),Object(a.a)(r,s.PASSWORD,{name:s.PASSWORD,label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, ******",type:"password",rules:c.c}),r),l=Object(i.a)({},u,Object(a.a)({},o.NAME,{name:o.NAME,label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, John Doe",rules:c.b}))},52:function(e,t,n){"use strict";var r=n(1),a=n(5),i=function(){function e(t,n,a,i){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";Object(r.a)(this,e),this.firstName=t,this.lastName=n,this.number=a,this.abbreviation=i,this.points=c,this.nationality=s,this.dateOfBirth=o}return Object(a.a)(e,[{key:"name",get:function(){return"".concat(this.firstName," ").concat(this.lastName)}},{key:"shortName",get:function(){return"".concat(this.firstName[0],". ").concat(this.lastName)}},{key:"code",get:function(){return this.abbreviation}}],[{key:"create",value:function(t){var n=t.firstName,r=t.lastName,a=t.number,i=t.abbreviation,c=t.points;return new e(n,r,a,i,void 0===c?0:c,t.nationality,t.dateOfBirth)}}]),e}();t.a=i},61:function(e,t,n){"use strict";var r=n(1);t.a=function e(t){var n=t.name,a=t.id;Object(r.a)(this,e),this.name=n,this.id=a}},67:function(e,t,n){"use strict";var r=n(70),a=n(0),i=n.n(a),c=n(2);n(323);t.a=function(e){var t=e.className,n=e.onClick,a=e.disabled,s=e.children,o=e.size,u=Object(r.a)(e,["className","onClick","disabled","children","size"]);return i.a.createElement(c.b,Object.assign({className:"button button--primary ".concat(t),onClick:n,disabled:a,color:"primary",size:o},u),s)}},89:function(e,t,n){"use strict";var r=n(1),a=n(5),i=n(9),c=n(7),s=n(8),o=n(90),u=n(61),l=n(267),p=n.n(l),f=n(268),d=n.n(f),h=function(e){function t(e){var n,a=e.season,s=e.raceName,l=e.raceUrl,p=e.circuit,f=e.roundSchedule,d=e.bets,h=void 0===d?[]:d,m=e.raceResults,b=void 0===m?{}:m;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(c.a)(t).call(this,{season:a,raceName:s,raceUrl:l,circuit:p,roundSchedule:f}))).bets=h.map(function(e){var t=e.userInfo,n=t.name,r=t.id,a=e.betsMap;return new o.a({userInfo:new u.a({name:n,id:r}),betsMap:a})}),n.raceResults=b,n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"raceStartTime",get:function(){return this.roundSchedule.race}},{key:"qualifyingStartTime",get:function(){return this.roundSchedule.qualification}},{key:"prettyTitle",get:function(){return p()(this.raceName).map(d.a).join(" ")}}]),t}(n(94).a);t.a=h},90:function(e,t,n){"use strict";var r=n(1),a=n(35);t.a=function e(t){var n=t.userInfo,i=t.betsMap;Object(r.a)(this,e),this.userInfo=n,this.betsMap=function(e){if(e instanceof Map){var t={},n=!0,r=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var o=c.value,u=Object(a.a)(o,2),l=u[0],p=u[1];p&&(t[l]=p)}}catch(f){r=!0,i=f}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t}return e}(i)}},91:function(e,t,n){"use strict";var r=n(1),a=n(5),i=n(9),c=n(7),s=n(8),o=function(){function e(){Object(r.a)(this,e),this._score=[]}return Object(a.a)(e,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._score.push(e)}},{key:"getPointsAt",value:function(e){return this._score[e]}},{key:"value",get:function(){return this._score.reduce(function(e,t){return e+t},0)}},{key:"tooltip",get:function(){return this._score.join("-")}}]),e}();function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new o;return t?function(e,t){var n=new o,r=t.slice(0,10);return e.forEach(function(e,a){if(e){var i=t.findIndex(function(t){return t===e}),c=Math.abs(i-a),s=r.some(function(t){return t===e}),o=c<5?10-2*c:s?2:0;n.add(o)}else n.add(0)}),n}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Array(t).fill(null).map(function(t,n){return e[n+1]?e[n+1]:""})}(e),Object.values(t)):n}var l=n(61);n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f});var p="official-results",f="qualification-results",d=function(e){function t(e){var n,a=e.userName,s=e.userId,o=e.userBetsMap,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(c.a)(t).call(this,{name:a,id:s}))).userPoll=o,n.userScore=u(o,l),n}return Object(s.a)(t,e),Object(a.a)(t,null,[{key:"createOfficialResults",value:function(e){return new t({userName:"Formula 1 (Race results)",userId:p,userBetsMap:e})}},{key:"createQualifyingResults",value:function(e){return new t({userName:"Formula 1 (Qualification)",userId:f,userBetsMap:e})}}]),t}(l.a);t.c=d},92:function(e,t,n){"use strict";var r=n(1),a=n(5),i=n(9),c=n(7),s=n(8),o=n(0),u=n.n(o),l=n(12),p=n(2),f=(n(52),n(58));n(332);function d(e){var t=e.firstName,n=e.lastName;return"".concat(t," ").concat(n.toUpperCase())}var h=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).handleSelect=function(e){var t=n.props,r=t.pos;(0,t.onSelect)(e?e.value:null,r)},n._renderOption=function(e){var t=e.value;return u.a.createElement(f.a.Option,Object.assign({},e,{className:"racers-select__option"}),d(t))},n._renderSingleValue=function(e){var t=e.data;return u.a.createElement(f.a.SingleValue,e,d(t))},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.racerList,r=e.placeholder,a=function(e){return e.map(function(e){return{label:d(e),value:e}})}(n);return u.a.createElement(f.b,{className:"racers-select",value:t,options:a,placeholder:r,isClearable:!0,onChange:this.handleSelect,components:{Option:this._renderOption,SingleValue:this._renderSingleValue}})}}]),t}(u.a.Component);h.defaultProps={value:null,placeholder:""};var m,b,v,y,g,O,j=h,_=n(35),w=n(13),k=n(6),S=(n(36),n(4)),T=(m=function(){function e(t){var n=this,a=t.racers,i=t.onSave,c=t.initData,s=void 0===c?{}:c,o=t.gridPositionsCount,u=void 0===o?10:o;Object(r.a)(this,e),Object(w.a)(this,"_map",b,this),Object(w.a)(this,"handleSelect",v,this),this.handleSubmit=function(){return n._onSave(n.gridMapAsJS)},this._initMap(a,s,u),this._racers=a,this._onSave=i}return Object(a.a)(e,[{key:"_initMap",value:function(e,t,n){var r=this;Array(n).fill(null).forEach(function(n,a){var i=e.find(function(e){return e.code===t[a+1]});r.handleSelect(i||null,a+1)})}},{key:"gridMapAsJS",get:function(){var e={},t=!0,n=!1,r=void 0;try{for(var a,i=this._map[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var c=a.value,s=Object(_.a)(c,2),o=s[0],u=s[1];u&&(e[o]=u.code)}}catch(l){n=!0,r=l}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"tableData",get:function(){return Array.from(this._map).map(function(e){var t=Object(_.a)(e,2);return{pos:t[0],racer:t[1]}})}},{key:"availableRacers",get:function(){var e=this;return this._racers.filter(function(t){var n=t.name;return!e.tableData.filter(function(e){var t=e.racer;return Boolean(t)}).some(function(e){return e.racer.name===n})})}}]),e}(),b=Object(k.a)(m.prototype,"_map",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(k.a)(m.prototype,"gridMapAsJS",[S.computed],Object.getOwnPropertyDescriptor(m.prototype,"gridMapAsJS"),m.prototype),Object(k.a)(m.prototype,"tableData",[S.computed],Object.getOwnPropertyDescriptor(m.prototype,"tableData"),m.prototype),Object(k.a)(m.prototype,"availableRacers",[S.computed],Object.getOwnPropertyDescriptor(m.prototype,"availableRacers"),m.prototype),v=Object(k.a)(m.prototype,"handleSelect",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e._map.set(n,t)}}}),Object(k.a)(m.prototype,"_initMap",[S.action],Object.getOwnPropertyDescriptor(m.prototype,"_initMap"),m.prototype),m),E=n(67),M=Object(l.observer)((O=g=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(c.a)(t).call(this,e)))._grid=new T(e),n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,r=t.submitButtonText;return u.a.createElement(p.i,{tag:"div"},u.a.createElement(p.A,{striped:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"),u.a.createElement("th",null,"\u041f\u0438\u043b\u043e\u0442"))),u.a.createElement("tbody",null,this._grid.tableData.map(function(t){var r=t.pos,a=t.racer;return u.a.createElement("tr",{key:r},u.a.createElement("td",{className:"text-center"},r),u.a.createElement("td",{style:{width:"85%"}},u.a.createElement(j,{value:a,racerList:e._grid.availableRacers,onSelect:e._grid.handleSelect,pos:Number(r),placeholder:n})))}))),u.a.createElement(p.k,null,u.a.createElement(E.a,{onClick:this._grid.handleSubmit},r)))}}]),t}(u.a.Component),g.defaultProps={placeholder:"",submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",gridPositionsCount:10,initData:{}},y=O))||y;t.a=M},94:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1),a=n(9),i=n(7),c=n(8),s=function(e){function t(e){var n,c=e.season,s=e.raceName,o=e.raceUrl,u=e.circuit,l=e.roundSchedule;return Object(r.a)(this,t),(n=Object(a.a)(this,Object(i.a)(t).call(this,{season:c,raceName:s}))).raceUrl=o,n.circuit=u,n.roundSchedule=l,n}return Object(c.a)(t,e),t}(n(95).a)},95:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),a=n(269),i=n.n(a),c=function e(t){var n=t.season,a=t.raceName;Object(r.a)(this,e),this.season=n,this.raceName=a,this.roundId=i()("".concat(this.raceName," ").concat(this.season))}}},[[271,1,2]]]);