(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={HOME:"/",CALENDAR:"/calendar",BETS:"/bet",ADMIN:"/admin",RESULTS:"/results",RACERS:"/racers",TEAMS:"/teams",LOGIN:"/login",LOGOUT:"/logout",BETS_HISTORY:"/bets-history"}},146:function(e,t,r){"use strict";var n=r(1),a=r(36);t.a=function e(t){var r=t.userInfo,c=t.betsMap;Object(n.a)(this,e),this.userInfo=r,this.betsMap=function(e){if(e instanceof Map){var t={},r=!0,n=!1,c=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value,u=Object(a.a)(o,2),l=u[0],p=u[1];p&&(t[l]=p)}}catch(f){n=!0,c=f}finally{try{r||null==s.return||s.return()}finally{if(n)throw c}}return t}return e}(c)}},148:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(1),a=r(9),c=r(7),i=r(8),s=function(e){function t(e){var r,i=e.season,s=e.raceName,o=e.raceUrl,u=e.circuit,l=e.roundSchedule;return Object(n.a)(this,t),(r=Object(a.a)(this,Object(c.a)(t).call(this,{season:i,raceName:s}))).raceUrl=o,r.circuit=u,r.roundSchedule=l,r}return Object(i.a)(t,e),t}(r(149).a)},149:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(1),a=r(150),c=r.n(a),i=function e(t){var r=t.season,a=t.raceName;Object(n.a)(this,e),this.season=r,this.raceName=a,this.roundId=c()("".concat(this.raceName," ").concat(this.season))}},2:function(e,t,r){"use strict";r(415),r(417);var n=r(27),a=r.n(n),c=r(155),i=r.n(c),s=r(212),o=r.n(s),u=r(213),l=r.n(u),p=r(214),f=r.n(p),h=r(216),d=r.n(h),m=r(217),b=r.n(m),v=r(218),O=r.n(v),y=r(219),g=r.n(y),j=r(220),_=r.n(j),w=r(221),k=r.n(w),T=r(231),S=r.n(T),E=r(232),N=r.n(E),x=r(236),R=r.n(x),M=r(235),U=r.n(M),Z=r(233),A=r.n(Z),P=r(234),B=r.n(P),I=r(228),D=r.n(I),C=r(229),q=r.n(C),W=r(211),z=r.n(W),L=r(237),F=r.n(L),V=r(238),H=r.n(V),Y=r(230),J=r.n(Y),G=r(239),K=r.n(G),$=r(240),Q=r.n($),X=r(241),ee=r.n(X),te=r(242),re=r.n(te),ne=r(243),ae=r.n(ne),ce=r(3),ie=r.n(ce),se=r(10),oe=r(114),ue=r.n(oe),le={get:function(){var e=Object(se.a)(ie.a.mark(function e(t){return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.get(t);case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),put:function(){var e=Object(se.a)(ie.a.mark(function e(t,r){return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",ue.a.put(t,r));case 4:e.prev=4,e.t0=e.catch(0),console.error(e.t0.message);case 7:case"end":return e.stop()}},e,this,[[0,4]])}));return function(t,r){return e.apply(this,arguments)}}()};r.d(t,"a",function(){return z.a}),r.d(t,"b",function(){return i.a}),r.d(t,"e",function(){return o.a}),r.d(t,"w",function(){return l.a}),r.d(t,"c",function(){return f.a}),r.d(t,"i",function(){return d.a}),r.d(t,"k",function(){return b.a}),r.d(t,"m",function(){return O.a}),r.d(t,"n",function(){return g.a}),r.d(t,"z",function(){return _.a}),r.d(t,"d",function(){return k.a}),r.d(t,"r",function(){return D.a}),r.d(t,"s",function(){return q.a}),r.d(t,"t",function(){return J.a}),r.d(t,"u",function(){return S.a}),r.d(t,"v",function(){return N.a}),r.d(t,"g",function(){return A.a}),r.d(t,"f",function(){return B.a}),r.d(t,"h",function(){return U.a}),r.d(t,"A",function(){return R.a}),r.d(t,"x",function(){return F.a}),r.d(t,"y",function(){return H.a}),r.d(t,"l",function(){return K.a}),r.d(t,"j",function(){return Q.a}),r.d(t,"o",function(){return ee.a}),r.d(t,"q",function(){return re.a}),r.d(t,"p",function(){return ae.a}),r.d(t,"B",function(){return le}),a.a.locale("ru")},206:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1),a=function e(t){var r=t.raceName,a=t.raceTime,c=t.qualTime,i=t.practice1Time,s=t.practice2Time,o=t.practice3Time,u=t.id;Object(n.a)(this,e),this.raceName=r,this.raceTime=a,this.qualTime=c,this.practice1Time=i,this.practice2Time=s,this.practice3Time=o,this.raceId=u}},207:function(e,t,r){"use strict";var n=r(1);t.a=function e(t){var r=t.racerId,a=t.racerFullName,c=t.racerPoints,i=t.racerUrl,s=t.racerNumber,o=t.racerNationality,u=t.constructorName,l=t.constructorUrl;Object(n.a)(this,e),this.racerId=r,this.racerFullName=a,this.racerUrl=i,this.racerPoints=c,this.racerNumber=s,this.racerNationality=o,this.constructorUrl=l,this.constructorName=u}},208:function(e,t,r){"use strict";var n=r(1);t.a=function e(t){var r=t.pos,a=t.name,c=t.id,i=t.points,s=t.url,o=t.nationality;Object(n.a)(this,e),this.pos=r,this.name=a,this.id=c,this.points=i,this.url=s,this.nationality=o}},209:function(e,t,r){"use strict";var n=r(1),a=r(5),c=r(9),i=r(7),s=r(8),o=r(0),u=r.n(o),l=r(12),p=r(2),f=(r(56),r(147));r(496);function h(e){var t=e.firstName,r=e.lastName;return"".concat(t," ").concat(r.toUpperCase())}var d=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(r=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).handleSelect=function(e){var t=r.props,n=t.pos;(0,t.onSelect)(e?e.value:null,n)},r._renderOption=function(e){var t=e.value;return u.a.createElement(f.a.Option,Object.assign({},e,{className:"racers-select__option"}),h(t))},r._renderSingleValue=function(e){var t=e.data;return u.a.createElement(f.a.SingleValue,e,h(t))},r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,r=e.racerList,n=e.placeholder,a=function(e){return e.map(function(e){return{label:h(e),value:e}})}(r);return u.a.createElement(f.b,{className:"racers-select",value:t,options:a,placeholder:n,searchable:!1,onChange:this.handleSelect,components:{Option:this._renderOption,SingleValue:this._renderSingleValue}})}}]),t}(u.a.Component);d.defaultProps={value:null,placeholder:""};var m,b,v,O,y,g,j=d,_=r(36),w=r(16),k=r(6),T=(r(40),r(4)),S=(m=function(){function e(t){var r=this,a=t.racers,c=t.onSave,i=t.initData,s=void 0===i?{}:i,o=t.gridPositionsCount,u=void 0===o?10:o;Object(n.a)(this,e),Object(w.a)(this,"_map",b,this),Object(w.a)(this,"handleSelect",v,this),this.handleSubmit=function(){return r._onSave(r.gridMapAsJS)},this._initMap(a,s,u),this._racers=a,this._onSave=c}return Object(a.a)(e,[{key:"_initMap",value:function(e,t,r){var n=this;Array(r).fill(null).forEach(function(r,a){var c=e.find(function(e){return e.code===t[a+1]});n.handleSelect(c||null,a+1)})}},{key:"gridMapAsJS",get:function(){var e={},t=!0,r=!1,n=void 0;try{for(var a,c=this._map[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var i=a.value,s=Object(_.a)(i,2),o=s[0],u=s[1];u&&(e[o]=u.code)}}catch(l){r=!0,n=l}finally{try{t||null==c.return||c.return()}finally{if(r)throw n}}return e}},{key:"tableData",get:function(){return Array.from(this._map).map(function(e){var t=Object(_.a)(e,2);return{pos:t[0],racer:t[1]}})}},{key:"availableRacers",get:function(){var e=this;return this._racers.filter(function(t){var r=t.name;return!e.tableData.filter(function(e){var t=e.racer;return Boolean(t)}).some(function(e){return e.racer.name===r})})}}]),e}(),b=Object(k.a)(m.prototype,"_map",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(k.a)(m.prototype,"gridMapAsJS",[T.computed],Object.getOwnPropertyDescriptor(m.prototype,"gridMapAsJS"),m.prototype),Object(k.a)(m.prototype,"tableData",[T.computed],Object.getOwnPropertyDescriptor(m.prototype,"tableData"),m.prototype),Object(k.a)(m.prototype,"availableRacers",[T.computed],Object.getOwnPropertyDescriptor(m.prototype,"availableRacers"),m.prototype),v=Object(k.a)(m.prototype,"handleSelect",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e._map.set(r,t)}}}),Object(k.a)(m.prototype,"_initMap",[T.action],Object.getOwnPropertyDescriptor(m.prototype,"_initMap"),m.prototype),m),E=r(68),N=Object(l.c)((g=y=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(c.a)(this,Object(i.a)(t).call(this,e)))._grid=new S(e),r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.placeholder,n=t.submitButtonText;return u.a.createElement(p.i,{tag:"div"},u.a.createElement(p.z,{striped:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"),u.a.createElement("th",null,"\u041f\u0438\u043b\u043e\u0442"))),u.a.createElement("tbody",null,this._grid.tableData.map(function(t){var n=t.pos,a=t.racer;return u.a.createElement("tr",{key:n},u.a.createElement("td",{className:"text-center"},n),u.a.createElement("td",{style:{width:"85%"}},u.a.createElement(j,{value:a,racerList:e._grid.availableRacers,onSelect:e._grid.handleSelect,pos:Number(n),placeholder:r})))}))),u.a.createElement(p.k,null,u.a.createElement(E.a,{onClick:this._grid.handleSubmit},n)))}}]),t}(u.a.Component),y.defaultProps={placeholder:"",submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",gridPositionsCount:10,initData:{}},O=g))||O;t.a=N},250:function(e,t,r){"use strict";var n=r(0),a=r.n(n);r(488);t.a=function(e){var t=e.children;return a.a.createElement("span",{className:"pseudo-link"},t)}},32:function(e,t,r){"use strict";r.d(t,"d",function(){return c}),r.d(t,"e",function(){return i}),r.d(t,"g",function(){return s}),r.d(t,"a",function(){return o}),r.d(t,"b",function(){return u}),r.d(t,"c",function(){return l}),r.d(t,"f",function(){return p});var n=r(27),a=r.n(n);function c(e){return a()(e).format("D MMMM YYYY, HH:mm")}function i(e){return a()(e).format("D MMMM YYYY, HH:mm:ss")}function s(e){return a()(e).utc().format()}function o(e){return a()(e).format("DD MMMM")}function u(e){return a()(e).format("ddd")}function l(e){return a()(e).format("HH:mm")}function p(e){return a()(e).format("D MMM YYYY")}},39:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(1),a=r(5),c=r(9),i=r(7),s=r(8),o=r(77),u=r(45),l=function(e){function t(e){var r,a=e.login,s=e.name,o=e.password,l=e.id,p=e.isAdmin,f=void 0!==p&&p,h=e.isTesting,d=void 0!==h&&h;return Object(n.a)(this,t),(r=Object(c.a)(this,Object(i.a)(t).call(this,{name:s,id:l}))).login=a,r.password=o,r.id=l||Object(u.a)(),r.isAdmin=f,r.isTesting=d,r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"toUserInfo",value:function(){return new o.a(this)}}],[{key:"fromJs",value:function(e){var r=e.login,n=e.name,a=e.password,c=e.id,i=e.isAdmin;return new t({login:r,name:n,password:a,id:c,isAdmin:void 0!==i&&i})}}]),t}(o.a)},399:function(e,t,r){"use strict";var n=r(0),a=r.n(n);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=a.a.createElement("path",{fill:"currentColor",d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"}),s=function(e){return a.a.createElement("svg",c({viewBox:"0 0 320 512"},e),i)},o=(r.p,r(57)),u=r.n(o);r(492),t.a=function(e){var t=e.direction,r=void 0===t?"down":t,n=e.className,c=void 0===n?"":n,i=u()("chevron-icon","chevron-icon--".concat(r),c);return a.a.createElement(s,{className:i})}},410:function(e,t,r){e.exports=r(768)},45:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(153),a=r.n(n),c="-26bf-11e8-";function i(){return a()()+a()(c)}},451:function(e,t,r){},453:function(e,t,r){},455:function(e,t,r){},459:function(e,t,r){},461:function(e,t,r){},463:function(e,t,r){},465:function(e,t,r){},469:function(e,t,r){},471:function(e,t,r){},473:function(e,t,r){},475:function(e,t,r){},477:function(e,t,r){},479:function(e,t,r){},484:function(e,t,r){},486:function(e,t,r){},488:function(e,t,r){},490:function(e,t,r){},492:function(e,t,r){},494:function(e,t,r){},496:function(e,t,r){},509:function(e,t,r){},56:function(e,t,r){"use strict";var n=r(1),a=r(5),c=function(){function e(t,r,a,c){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";Object(n.a)(this,e),this.firstName=t,this.lastName=r,this.number=a,this.abbreviation=c,this.points=i,this.nationality=s,this.dateOfBirth=o}return Object(a.a)(e,[{key:"name",get:function(){return"".concat(this.firstName," ").concat(this.lastName)}},{key:"shortName",get:function(){return"".concat(this.firstName[0],". ").concat(this.lastName)}},{key:"code",get:function(){return this.abbreviation}}],[{key:"create",value:function(t){var r=t.firstName,n=t.lastName,a=t.number,c=t.abbreviation,i=t.points;return new e(r,n,a,c,void 0===i?0:i,t.nationality,t.dateOfBirth)}}]),e}();t.a=c},679:function(e,t,r){var n={"./ar":317,"./ar.js":317,"./az":318,"./az.js":318,"./be":319,"./be.js":319,"./bg":320,"./bg.js":320,"./bs":321,"./bs.js":321,"./ca":322,"./ca.js":322,"./cs":323,"./cs.js":323,"./cy":324,"./cy.js":324,"./da":325,"./da.js":325,"./de":326,"./de.js":326,"./el":327,"./el.js":327,"./en":188,"./en.js":188,"./es":328,"./es.js":328,"./et":329,"./et.js":329,"./eu":330,"./eu.js":330,"./fa":331,"./fa.js":331,"./fi":332,"./fi.js":332,"./fr":333,"./fr.js":333,"./hr":334,"./hr.js":334,"./hu":335,"./hu.js":335,"./id":336,"./id.js":336,"./it":337,"./it.js":337,"./ja":338,"./ja.js":338,"./ka":339,"./ka.js":339,"./ko":340,"./ko.js":340,"./lt":341,"./lt.js":341,"./lv":342,"./lv.js":342,"./mk":343,"./mk.js":343,"./mn":344,"./mn.js":344,"./ms":345,"./ms.js":345,"./nb_NO":346,"./nb_NO.js":346,"./nl":347,"./nl.js":347,"./pl":348,"./pl.js":348,"./pt":349,"./pt.js":349,"./pt_BR":350,"./pt_BR.js":350,"./ro":351,"./ro.js":351,"./ru":352,"./ru.js":352,"./sl":353,"./sl.js":353,"./sq":354,"./sq.js":354,"./sr":355,"./sr.js":355,"./sv":356,"./sv.js":356,"./tr":357,"./tr.js":357,"./ua":358,"./ua.js":358,"./uk":359,"./uk.js":359,"./vi":360,"./vi.js":360,"./zh":361,"./zh.js":361,"./zh_TW":362,"./zh_TW.js":362};function a(e){var t=c(e);return r(t)}function c(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}a.keys=function(){return Object.keys(n)},a.resolve=c,e.exports=a,a.id=679},68:function(e,t,r){"use strict";var n=r(94),a=r(0),c=r.n(a),i=r(2);r(479);t.a=function(e){var t=e.className,r=e.onClick,a=e.disabled,s=e.children,o=e.size,u=Object(n.a)(e,["className","onClick","disabled","children","size"]);return c.a.createElement(i.b,Object.assign({className:"button button--primary ".concat(t),onClick:r,disabled:a,color:"primary",size:o},u),s)}},687:function(e,t){},689:function(e,t){},721:function(e,t){},722:function(e,t){},768:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(34),i=r.n(c),s=r(784),o=r(4),u=r(12),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var f,h,d,m,b={isProductionMode:function(){return!0},getUserStoreApiUrl:function(){return"https://api.myjson.com/bins/ei8zv"},getRaceStoreApiUrl:function(){return"https://api.myjson.com/bins/fp47f"},getLocalStorageUserKey:function(){return"f1betsappuserid"},getTickInterval:function(){return"1"},getCurrentSeason:function(){return"2019"},getVoteClosingTime:function(){return parseInt("15#minutes",10)}},v=r(2),O=r(1),y=r(5),g=r(9),j=r(7),_=r(8),w=r(788),k=(r(451),r(453),r(16)),T=r(49),S=r(6),E=(r(40),r(455),r(14)),N=r(39),x=r(780),R=function(e){var t=e.path,r=void 0===t?"/":t,n=e.className,c=void 0===n?"":n,i=e.disabled,s=void 0!==i&&i,o=e.children;return s?o:a.a.createElement(x.a,{to:r,className:c},o)},M=function(e){var t=e.user,r=t.isAdmin,n=t.name;return a.a.createElement(v.A,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},a.a.createElement(v.f,{header:!0},n),r&&a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.ADMIN,className:"nav-bar-drop-down-menu__link"},"\u0410\u0434\u043c\u0438\u043d\u043a\u0430")),a.a.createElement(v.f,{disabled:!0},a.a.createElement(R,{path:E.a.BETS,disabled:!0,className:"nav-bar-drop-down-menu__link"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c")),a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.BETS_HISTORY,className:"nav-bar-drop-down-menu__link"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439")),a.a.createElement(v.f,{divider:!0}),a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.LOGOUT,className:"nav-bar-drop-down-menu__link"},"\u0412\u044b\u0445\u043e\u0434"))))},U=Object(u.b)(function(e){return{isAuthenticated:e.appStore.isUserAuthenticated,authenticatedUser:e.appStore.authenticatedUser,isBetsAllowed:e.appStore.isBetsAllowed,isUserAlreadyBet:e.appStore.isUserAlreadyBet}})(f=Object(u.c)((h=function(e){function t(){var e,r;Object(O.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(r,"isOpen",d,Object(T.a)(Object(T.a)(r))),Object(k.a)(r,"handleToggle",m,Object(T.a)(Object(T.a)(r))),r}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,r=e.authenticatedUser,n=e.isBetsAllowed,c=e.isUserAlreadyBet;return a.a.createElement(v.u,{className:"navigation-bar",color:"dark",dark:!0,expand:"md",fixed:"top"},a.a.createElement(v.e,null,a.a.createElement(R,{path:E.a.HOME,className:"navbar-brand"},"Formula 1 Bets App"),a.a.createElement(v.v,{onClick:this.handleToggle}),a.a.createElement(v.d,{isOpen:this.isOpen,navbar:!0},a.a.createElement(v.r,{className:"ml-auto",navbar:!0},a.a.createElement(v.A,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},t&&a.a.createElement(v.f,{disabled:!n},a.a.createElement(R,{path:E.a.BETS,className:"nav-bar-drop-down-menu__link",disabled:!n},c?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437")),a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.RESULTS,className:"nav-bar-drop-down-menu__link"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f")),t&&a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.BETS_HISTORY,className:"nav-bar-drop-down-menu__link"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0412\u0430\u0448\u0438\u0445 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439")))),a.a.createElement(v.A,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u0427\u0435\u043c\u043f\u0438\u043e\u043d\u0430\u0442"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.CALENDAR,className:"nav-bar-drop-down-menu__link"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c")),a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.RACERS,className:"nav-bar-drop-down-menu__link"},"\u0413\u043e\u043d\u0449\u0438\u043a\u0438")),a.a.createElement(v.f,null,a.a.createElement(R,{path:E.a.TEAMS,className:"nav-bar-drop-down-menu__link"},"\u041a\u043e\u043c\u0430\u043d\u0434\u044b")))),t?r&&a.a.createElement(M,{user:r,isBetsAllowed:n}):a.a.createElement(v.s,null,a.a.createElement(R,{path:E.a.LOGIN,className:"nav-link"},"\u0412\u0445\u043e\u0434"))))))}}]),t}(a.a.Component),d=Object(S.a)(h.prototype,"isOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(S.a)(h.prototype,"handleToggle",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isOpen=!e.isOpen}}}),f=h))||f)||f,Z=r(27),A=r.n(Z),P=function(e){var t=e.value,r=e.label;return a.a.createElement("div",{className:"awesome-countdown-timer__section awesome-countdown-timer-section"},a.a.createElement("div",{className:"awesome-countdown-timer-section__time"},t),a.a.createElement("div",{className:"awesome-countdown-timer-section__label"},r))},B=function(e){var t=e.splitter,r=void 0===t?":":t;return a.a.createElement("div",{className:"awesome-countdown-timer__splitter"},r)};var I=function(e){var t=e.className,r=e.withSplitter,n=function(e){var t={months:"",days:"",hours:"",minutes:"",seconds:""};return e?(Math.floor(e.asMonths())>0&&(Math.floor(e.months())<10?t.months="0"+Math.floor(e.months()):t.months=Math.floor(e.months())),Math.floor(e.asDays())>0&&(Math.floor(e.days())<10?t.days="0"+Math.floor(e.days()):t.days=Math.floor(e.days())),Math.floor(e.asHours())>0&&(Math.floor(e.hours())<10?t.hours="0"+Math.floor(e.hours()):t.hours=Math.floor(e.hours())),Math.floor(e.asMinutes())>0&&(Math.floor(e.minutes())<10?t.minutes="0"+Math.floor(e.minutes()):t.minutes=Math.floor(e.minutes())),Math.floor(e.asSeconds())>0&&(Math.floor(e.seconds())<10?t.seconds="0"+Math.floor(e.seconds()):t.seconds=Math.floor(e.seconds())),t):t}(e.duration),c=n.months,i=n.days,s=n.hours,o=n.minutes,u=n.seconds;return a.a.createElement("div",{className:"awesome-countdown-timer ".concat(t)},c&&a.a.createElement(P,{value:c,label:"Months"}),r&&c&&a.a.createElement(B,null),i&&a.a.createElement(P,{value:i,label:"Days"}),r&&i&&a.a.createElement(B,null),s&&a.a.createElement(P,{value:s,label:"Hours"}),r&&s&&a.a.createElement(B,null),o&&a.a.createElement(P,{value:o,label:"Minutes"}),r&&o&&a.a.createElement(B,null),u&&a.a.createElement(P,{value:u,label:"Seconds"}))};I.defaultProps={className:"",withSplitter:!1};var D=I;r(459);var C=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.withSplitter,n=function(e,t){var r=e?A()(e):A()(),n=A()(t),a=A.a.duration(n.diff(r));return a.asSeconds()>=0?a:null}(e.startDate,e.endDate);return a.a.createElement(D,{className:t,duration:n,withSplitter:r})}}]),t}(n.Component);C.defaultProps={className:"",withSplitter:!1};var q,W,z,L=C,F=(r(461),function(e){var t=e.startTime,r=e.endTime,n=e.className,c=void 0===n?"":n;return a.a.createElement(L,{className:"countdown-timer "+c,startDate:t,endDate:r,withSplitter:!0})}),V=r(95),H=(r(463),function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nextRace,r=e.currentTimeUtcString;return a.a.createElement(v.e,{className:"next-race-notifier alert-info"},a.a.createElement(v.w,null,a.a.createElement(v.c,{xs:12,sm:8,md:8,className:"next-race-notifier__race-info"},"\u0414\u043e \u0441\u0442\u0430\u0440\u0442\u0430 \u0433\u043e\u043d\u043a\u0438",a.a.createElement("strong",{className:"next-race-notifier__race-title"},t.title)),a.a.createElement(v.c,{xs:12,sm:4,md:4},a.a.createElement(F,{className:"next-race-notifier__countdown-timer",startTime:r,endTime:t.raceStartTime}))))}}]),t}(a.a.Component)),Y=Object(u.b)("headerStore")(q=Object(u.c)((z=W=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.headerStore,r=e.className,n=t.nextRace,c=t.currentTimeUtcString;return a.a.createElement("header",{className:r},a.a.createElement(U,null),n&&a.a.createElement("section",{className:"colors--very-light-green"},a.a.createElement(H,{nextRace:n,currentTimeUtcString:c})))}}]),t}(a.a.Component),W.defaultProps={className:""},q=z))||q)||q;function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var G=a.a.createElement("path",{fill:"currentColor",d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"}),K=function(e){return a.a.createElement("svg",J({viewBox:"0 0 496 512"},e),G)},$=(r.p,r(465),(new Date).getFullYear()),Q=function(e){var t=e.className,r=void 0===t?"":t;return a.a.createElement("footer",{className:"".concat(r," footer")},a.a.createElement(v.e,null,a.a.createElement(v.w,{className:"footer__social-media-links"},a.a.createElement(v.c,{className:"footer__copyright"},"\xa9 2018 - ",$," F1 fun's team"),a.a.createElement(v.c,{xs:"2"},a.a.createElement(v.w,{className:"social-media-links"},a.a.createElement(v.c,{className:"social-media-links__telegram-box"},a.a.createElement("a",{href:"https://t.me/f1funteam",className:"footer__link social-media-links__link"},a.a.createElement(K,{className:"social-media-links__icon"}))))))))},X=r(45),ee=r(57),te=r.n(ee),re=r(116),ne=r(32);function ae(e){return e instanceof A.a?e:A()(e)}function ce(e,t){return ae(e).isAfter(ae(t))}function ie(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=ae(e)).add(t,r)}var se=function(){function e(t){Object(O.a)(this,e),this._date=t}return Object(y.a)(e,[{key:"title",get:function(){return"\u0413\u043e\u043d\u043a\u0430"}},{key:"day",get:function(){return Object(ne.b)(this._date)}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(ne.c)(this._date)):""}}]),e}(),oe=function(e){function t(e,r){var n;return Object(O.a)(this,t),(n=Object(g.a)(this,Object(j.a)(t).call(this,r)))._practiceNumber=e,n}return Object(_.a)(t,e),Object(y.a)(t,[{key:"title",get:function(){return"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 ".concat(this._practiceNumber)}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(ne.c)(this._date)," - ").concat(Object(ne.c)(ie(this._date,3===this._practiceNumber?1:1.5,"hour"))):""}}]),t}(se),ue=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"title",get:function(){return"\u041a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(ne.c)(this._date)," - ").concat(Object(ne.c)(ie(this._date,1,"hour"))):""}}]),t}(se),le=function(){function e(t){Object(O.a)(this,e),this._roundInfo=t,this.racerStandings=[]}return Object(y.a)(e,[{key:"addRacerStandings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.racerStandings=e,this}},{key:"_firstPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[0]||""}},{key:"_secondPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[1]||""}},{key:"_thirdPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[2]||""}},{key:"_qualificationStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.qualification:""}},{key:"raceStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.race:""}},{key:"countryName",get:function(){return this._roundInfo.circuit.countryName}},{key:"circuitUrl",get:function(){return this._roundInfo.circuit.url}},{key:"raceUrl",get:function(){return this._roundInfo.raceUrl}},{key:"flagUrl",get:function(){return Object(re.findFlagUrlByCountryName)(this.countryName)}},{key:"raceTitle",get:function(){return"Formula 1 ".concat(this._roundInfo.raceName," ").concat(this._roundInfo.season)}},{key:"practices",get:function(){return[new oe(1,this._firstPracticeStartTime),new oe(2,this._secondPracticeStartTime),new oe(3,this._thirdPracticeStartTime)]}},{key:"qualification",get:function(){return new ue(this._qualificationStartTime)}},{key:"race",get:function(){return new se(this.raceStartTime)}},{key:"weekendInterval",get:function(){return"".concat(Object(ne.f)(this._firstPracticeStartTime)," - ").concat(Object(ne.f)(this.raceStartTime))}}]),e}(),pe=(r(469),r(94)),fe=(r(471),function(e){var t=e.className,r=e.children,n=Object(pe.a)(e,["className","children"]);return a.a.createElement("a",Object.assign({className:te()("text-link",t)},n),r)}),he=(r(473),function(e){var t=e.className,r=void 0===t?"":t,n=e.countryName,c=e.flagUrl,i=e.countryUrl;return a.a.createElement("div",{className:"country-info ".concat(r)},a.a.createElement("div",{className:"country-info__flag"},a.a.createElement("img",{className:"country-info__flag-image",src:c,alt:n})),a.a.createElement(fe,{href:i,target:"_blank",className:"country-info__country-name"},n))}),de=(r(475),r(56)),me=function(e){function t(e){var r=e.firstName,n=e.lastName,a=e.number,c=e.abbreviation,i=e.points,s=e.nationality;return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).call(this,r,n,a,c,i,s))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"flagUrl",get:function(){return Object(re.findFlagUrlByNationality)(this.nationality)}}]),t}(de.a),be=(r(477),function(e){var t=e.className,r=void 0===t?"":t,n=e.flagUrl,c=void 0===n?"":n,i=e.name,s=void 0===i?"":i,o=e.code;return a.a.createElement("div",{className:"racer-view ".concat(r),title:s},c&&a.a.createElement("img",{className:"racer-view__image",src:c,alt:s}),a.a.createElement("span",null,o))}),ve=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.racers,r=e.rowSize;return Array(t.length/r).fill(0).map(function(e,n){return t.slice(n*r,n*r+r)}).map(function(e,t){return a.a.createElement("div",{key:t,className:"racer-standings-widget__row"},e.map(function(e,n){return a.a.createElement("div",{className:"racer-standings-widget__racer",key:e.code},a.a.createElement("div",{className:"racer-standings-widget__racer-pos-number"},n+(t*r+1)),a.a.createElement(be,{className:"racer-standings-widget__racer-name",code:e.code,name:e.name}))}))})}}]),t}(a.a.Component);ve.defaultProps={rowSize:20};var Oe=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.raceInfo,r=e.infoText,n=e.commandButton,c=t.flagUrl,i=t.countryName,s=t.raceTitle,o=t.weekendInterval,u=t.practices,l=t.qualification,p=t.race,f=t.circuitUrl,h=t.raceUrl,d=t.racerStandings;return a.a.createElement(v.e,{className:"race-info-panel"},a.a.createElement(v.w,null,a.a.createElement(v.c,{xs:12},a.a.createElement(he,{className:"race-info-panel__country-info",countryName:i,flagUrl:c,countryUrl:f}),a.a.createElement(fe,{target:"_blank",href:h,className:"race-info-panel__grand-prix-title"},s))),a.a.createElement(v.w,null,a.a.createElement(v.c,{className:"race-info-panel__weekend-interval"},o)),a.a.createElement(v.w,{className:"justify-content-around section race-info-panel__weekend-schedule"},a.a.createElement(v.c,{className:"race-info-panel__practice-list",md:5},u.map(function(e){var t=e.title,r=e.day,n=e.timeInterval;return a.a.createElement(v.w,{className:"race-info-panel__stage-info",key:t.split(" ").join("_")},a.a.createElement(v.c,{xs:5},t),a.a.createElement(v.c,{xs:2},r.toUpperCase()),a.a.createElement(v.c,null,n))})),a.a.createElement(v.c,{className:"race-info-panel__race-description",md:5},a.a.createElement(v.w,{className:"race-info-panel__stage-info"},a.a.createElement(v.c,{xs:5},l.title),a.a.createElement(v.c,{xs:2},l.day.toUpperCase()),a.a.createElement(v.c,null,l.timeInterval)),a.a.createElement(v.w,{className:"race-info-panel__stage-info"},a.a.createElement(v.c,{xs:5},p.title),a.a.createElement(v.c,{xs:2},p.day.toUpperCase()),a.a.createElement(v.c,null,p.timeInterval)))),d.length>0&&a.a.createElement(ve,{racers:d}),a.a.createElement(v.w,null,a.a.createElement(v.c,null,a.a.createElement(n,null))),a.a.createElement("hr",{className:"race-info-panel__underscore"}),r&&a.a.createElement(v.w,null,a.a.createElement(v.c,null,a.a.createElement(v.l,{color:"muted"},r))))}}]),t}(a.a.Component);Oe.defaultProps={infoText:""};var ye,ge,je,_e,we,ke,Te=Oe,Se=r(68),Ee=(ye=Object(u.b)(function(e){return{isBetsAllowed:e.homePageStore.isBetsAllowed,isUserAlreadyBet:e.homePageStore.isUserAlreadyBet,isAuthenticated:e.homePageStore.isAuthenticated}}),Object(w.a)(ge=ye(ge=Object(u.c)(ge=function(e){function t(){var e,r;Object(O.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleBetButtonClick=function(){r.props.isBetsAllowed?r.props.history.push(E.a.BETS):r.props.history.push(E.a.RESULTS)},r}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isBetsAllowed,r=e.isUserAlreadyBet,n=e.isAuthenticated,c="\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432";return c=t?n?r?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0412\u043e\u0439\u0442\u0438 \u0434\u043b\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f":"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432",a.a.createElement(Se.a,{onClick:this.handleBetButtonClick},c)}}]),t}(a.a.Component))||ge)||ge)||ge),Ne="\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f. \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0412\u0430\u0448\u0435 \u0443\u0447\u0430\u0441\u0442\u0438\u0435.",xe=Object(u.b)("homePageStore")(je=Object(w.a)(je=Object(u.c)(je=function(e){function t(){var e,r;Object(O.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(c)))).handleShowMoreButtonClick=function(){r.props.history.push(E.a.RESULTS)},r.showMoreButton=function(){return a.a.createElement(Se.a,{onClick:r.handleShowMoreButtonClick},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432")},r}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props.homePageStore,r=t.nextRaceInfo,n=t.previousRaces,c=t.isBetsAllowed;return a.a.createElement("div",{className:"home-page"},a.a.createElement("section",{className:"colors--very-light-red section"},r&&a.a.createElement(Te,{raceInfo:r,commandButton:Ee,infoText:c?"\u0421\u043f\u0435\u0448\u0438\u0442\u0435 \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043a\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0435\u0449\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f.":Ne})),n.length>0&&a.a.createElement("section",{className:"section text-center"},"\u0420\u0430\u043d\u0435\u0435 \u0432 \u0441\u0435\u0440\u0438\u0430\u043b\u0435 :)"),n.map(function(t,r){var n=te()("section",{"colors--very-light-green":r%2===0,"colors--light-gray":r%2!==0});return a.a.createElement("section",{key:t.countryName,className:n},a.a.createElement(Te,{raceInfo:t,commandButton:e.showMoreButton,infoText:Ne}))}))}}]),t}(n.Component))||je)||je)||je,Re=r(785),Me=r(69),Ue=r(35),Ze={LOGIN:"login",PASSWORD:"password"},Ae=Object(Ue.a)({},Ze,{NAME:"name"}),Pe=(_e={},Object(Me.a)(_e,Ze.LOGIN,{name:Ze.LOGIN,label:"\u041b\u043e\u0433\u0438\u043d",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, superman",rules:"required|string|alpha_num|between:2,15"}),Object(Me.a)(_e,Ze.PASSWORD,{name:Ze.PASSWORD,label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, ******",rules:"required|string|alpha_num|between:5,15"}),_e),Be=Object(Ue.a)({},Pe,Object(Me.a)({},Ae.NAME,{name:Ae.NAME,label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, John Doe",rules:"required|string|between:3,25"})),Ie=Object(u.c)(function(e){var t=e.form,r=t.$(Ze.LOGIN),n=r.error,c=Boolean(n),i=t.$(Ze.PASSWORD),s=i.error,o=Boolean(s);return a.a.createElement(v.i,null,a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:r.id},r.label),a.a.createElement(v.m,Object.assign({},r.bind(),{invalid:c,valid:r.isDirty&&!c})),a.a.createElement(v.j,{valid:!c},r.error)),a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:i.id},i.label),a.a.createElement(v.m,Object.assign({},i.bind({type:"password"}),{invalid:o,valid:i.isDirty&&!o})),a.a.createElement(v.j,{valid:!o},s)),a.a.createElement(v.b,{color:"primary",type:"submit",onClick:t.onSubmit,disabled:t.isEmpty||!t.isValid,style:{width:"100%"}},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),De=Object(u.c)(function(e){var t=e.form,r=t.$(Ae.NAME),n=r.error,c=Boolean(n),i=t.$(Ae.LOGIN),s=i.error,o=Boolean(s),u=t.$(Ae.PASSWORD),l=u.error,p=Boolean(l);return a.a.createElement(v.i,null,a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:r.id},r.label),a.a.createElement(v.m,Object.assign({},r.bind(),{invalid:c,valid:r.isDirty&&!c})),a.a.createElement(v.j,{valid:!c},n)),a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:i.id},i.label),a.a.createElement(v.m,Object.assign({},i.bind(),{invalid:o,valid:i.isDirty&&!o})),a.a.createElement(v.j,{valid:!o},s)),a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:u.id},u.label),a.a.createElement(v.m,Object.assign({},u.bind({type:"password"}),{invalid:p,valid:u.isDirty&&!p})),a.a.createElement(v.j,{valid:!p},l),a.a.createElement(v.l,{color:"muted"},"\u0412\u0410\u0416\u041d\u041e! \u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u0412\u0430\u0448\u0438 \u043f\u0430\u0440\u043e\u043b\u0438 \u043e\u0442 \u0431\u0430\u043d\u043a\u043e\u0432\u043a\u0438\u0445 \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0430\u043a\u0430\u0443\u043d\u0442\u043e\u0432. ",a.a.createElement("br",null),"\u042d\u0442\u043e\u0442 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043a\u0430\u043a-\u0442\u043e \u043e\u0441\u043e\u0431\u043e \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0435\u0433\u043e \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u043b\u043e\u0443\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u0438\u043a\u0438. ",a.a.createElement("br",null),"\u041d\u0443, \u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b \u0435\u0441\u043b\u0438 \u0447\u0442\u043e :)")),a.a.createElement(Se.a,{type:"submit",disabled:t.isEmpty||!t.isValid,onClick:t.onSubmit,style:{width:"100%"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),Ce=(r(484),Object(u.b)("loginPageStore")(we=Object(w.a)(we=Object(u.c)(we=function(e){function t(){var e,r;Object(O.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleRegisterNew=function(){r.props.loginPageStore.toggleRegisterNewForm()},r}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.loginPageStore,t=e.isRegisterNew,r=e.isUserAuthenticated,n=e.form;return r?a.a.createElement(Re.a,{to:this._redirectPath}):a.a.createElement(v.e,{tag:"section",className:"section"},a.a.createElement(v.w,null,a.a.createElement(v.c,{lg:{size:6,offset:3},md:{size:8,offset:2}},a.a.createElement(v.w,null,a.a.createElement(v.c,null,a.a.createElement("h1",null,t?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442":"\u0412\u0445\u043e\u0434 \u0432 F1 Bets App"),a.a.createElement("div",{className:"text-muted"},"\u0438\u043b\u0438",a.a.createElement(v.b,{color:"link",onClick:this.handleRegisterNew},t?" \u0432\u043e\u0439\u0442\u0438 \u0432 \u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442":" \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))),a.a.createElement(v.w,{className:"login-form-container"},a.a.createElement(v.c,null,t?a.a.createElement(De,{form:n}):a.a.createElement(Ie,{form:n}))))))}},{key:"_redirectPath",get:function(){return(this.props.location.state||{from:{pathname:"/"}}).from}}]),t}(a.a.Component))||we)||we)||we),qe=Object(u.b)("logoutPageStore")(ke=Object(u.c)(ke=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.logoutPageStore.logout()}},{key:"render",value:function(){var e=this.props.logoutPageStore.isUserAuthenticated;return a.a.createElement(v.e,null,a.a.createElement(v.w,{className:"section"},e?a.a.createElement(v.c,null,"\u0418\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430..."):a.a.createElement(v.c,{lg:{size:6,offset:3},md:{size:8,offset:2}},a.a.createElement("div",null,"\u041c\u044b \u0431\u0443\u0434\u0435\u043c \u0441\u043a\u0443\u0447\u0430\u0442\u044c \u043f\u043e \u0442\u0435\u0431\u0435 :)"),a.a.createElement("div",null,a.a.createElement(x.a,{to:E.a.HOME},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))))}}]),t}(a.a.Component))||ke)||ke,We=function(){function e(){Object(O.a)(this,e),this._score=[]}return Object(y.a)(e,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._score.push(e)}},{key:"getPointsAt",value:function(e){return this._score[e]}},{key:"value",get:function(){return this._score.reduce(function(e,t){return e+t},0)}},{key:"tooltip",get:function(){return this._score.join("-")}}]),e}();function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new We;return t?function(e,t){var r=new We,n=t.slice(0,10);return e.forEach(function(e,a){if(e){var c=t.findIndex(function(t){return t===e}),i=Math.abs(c-a),s=n.some(function(t){return t===e}),o=i<5?10-2*i:s?2:0;r.add(o)}else r.add(0)}),r}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Array(t).fill(null).map(function(t,r){return e[r+1]?e[r+1]:""})}(e),Object.values(t)):r}var Le=r(77),Fe=function(e){function t(e){var r,n=e.userName,a=e.userId,c=e.userBetsMap,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,{name:n,id:a}))).userPoll=c,r.userScore=ze(c,i),r}return Object(_.a)(t,e),Object(y.a)(t,null,[{key:"createOfficialResults",value:function(e){return new t({userName:"Formula 1 (Official)",userId:"official-results",userBetsMap:e})}}]),t}(Le.a),Ve=function(e){var t=e.hasRaceResults;return a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{className:"text-uppercase"},a.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),a.a.createElement("th",{className:"text-center"},"1"),a.a.createElement("th",{className:"text-center"},"2"),a.a.createElement("th",{className:"text-center"},"3"),a.a.createElement("th",{className:"text-center"},"4"),a.a.createElement("th",{className:"text-center"},"5"),a.a.createElement("th",{className:"text-center"},"6"),a.a.createElement("th",{className:"text-center"},"7"),a.a.createElement("th",{className:"text-center"},"8"),a.a.createElement("th",{className:"text-center"},"9"),a.a.createElement("th",{className:"text-center"},"10"),t&&a.a.createElement("th",{className:"text-center"},"PTS")))},He=(r(486),function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,r=e.points,n=e.isBadgeVisible,c=te()("polling-result-cell",{"text-success":n&&10===r,"text-warning":n&&r>0&&r<10,"text-secondary text--line-through":n&&0===r});return a.a.createElement("div",{className:c},t,n&&t&&a.a.createElement(v.a,{className:"polling-result-cell__badge",color:"light",pill:!0},r))}}]),t}(a.a.Component));He.defaultProps={points:0,isBadgeVisible:!1,text:""};var Ye=He,Je=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userPollData,r=e.isCurrentUserRow,n=void 0!==r&&r,c=e.hasRaceResults,i=void 0!==c&&c,s=e.isOfficialResultsRow,o=void 0!==s&&s,u=t.id,l=t.name,p=t.userPoll,f=t.userScore,h=te()({"table-info":n,"table-success":o,"font-weight-bold":o});return a.a.createElement("tr",{className:h},a.a.createElement("td",null,l),Array(10).fill(1).map(function(e,t){return a.a.createElement("td",{key:u+t,className:"text-center"},a.a.createElement(Ye,{points:f.getPointsAt(t),text:p[t+1],isBadgeVisible:i&&!o}))}),i&&a.a.createElement("td",{className:"text-center"},a.a.createElement("span",{title:f.tooltip},!o&&f.value)))}}]),t}(a.a.Component),Ge=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rows,r=e.currentUser,n=e.hasRaceResults;return a.a.createElement(v.z,{size:"sm",responsive:!0},a.a.createElement(Ve,{hasRaceResults:n}),a.a.createElement("tbody",null,t.map(function(e){return a.a.createElement(Je,{userPollData:e,key:e.id,isOfficialResultsRow:"official-results"===e.id,isCurrentUserRow:r&&r.id===e.id,hasRaceResults:n})})))}}]),t}(a.a.Component);Ge.defaultProps={rows:[],currentUser:null,hasRaceResults:!1};var Ke,$e,Qe,Xe,et,tt,rt,nt,at,ct,it,st,ot,ut,lt,pt,ft,ht=Ge,dt=r(63),mt=r(93),bt=r.n(mt),vt=function(){function e(t){var r=this,n=t.race,a=t.finishedRacers,c=void 0===a?[]:a;Object(O.a)(this,e),this._officialResults=null,this._officialResultsBetMap=null,this.raceId=n.roundId,this.raceTitle=n.prettyTitle+" "+n.season,c.length>0&&(this._officialResultsBetMap=this._convertToBetMap(c),this._officialResults=Fe.createOfficialResults(this._officialResultsBetMap)),this._userVotes=n.bets.map(function(e){return new Fe({userName:e.userInfo.name,userId:e.userInfo.id,userBetsMap:e.betsMap},r._officialResultsBetMap)})}return Object(y.a)(e,[{key:"_convertToBetMap",value:function(e){return e.reduce(function(e,t,r){return Object(Ue.a)({},e,Object(Me.a)({},r+1,t.code))},{})}},{key:"hasOfficialResults",get:function(){return null!==this._officialResults}},{key:"userBetsResults",get:function(){if(this.hasOfficialResults){var e=bt()(this._userVotes,function(e){return-e.userScore.value});return[this._officialResults].concat(Object(dt.a)(e))}return Object(dt.a)(this._userVotes)}},{key:"userVotes",get:function(){return this._userVotes}}]),e}(),Ot=r(250),yt=(r(490),r(399)),gt=Object(u.c)(($e=function(e){function t(){var e,r;Object(O.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(r,"_isOpen",Qe,Object(T.a)(Object(T.a)(r))),Object(k.a)(r,"_toggle",Xe,Object(T.a)(Object(T.a)(r))),r}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.usersVotes,t=void 0===e?[]:e,r=bt()(t,function(e){return-e.totalPoints});return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"results-page__race-header",onClick:this._toggle},a.a.createElement(Ot.a,null,"\u0421\u0432\u043e\u0434\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f"," ",a.a.createElement(yt.a,{direction:this._isOpen?"top":"down"}))),a.a.createElement(v.d,{isOpen:this._isOpen},a.a.createElement(v.z,{className:"user-standings-table",size:"sm",responsive:!0},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{className:"text-uppercase"},a.a.createElement("th",{className:"user-standings-table__pos-column"},"\u041f\u043e\u0437"),a.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),a.a.createElement("th",{className:"text-right"},"\u043e\u0447\u043a\u0438"))),a.a.createElement("tbody",null,r.map(function(e,t){return a.a.createElement("tr",{key:e.userId},a.a.createElement("td",{className:"user-standings-table__pos-column"},t+1),a.a.createElement("td",null,e.userName),a.a.createElement("td",{className:"text-right"},e.totalPoints))})))))}}]),t}(a.a.Component),Qe=Object(S.a)($e.prototype,"_isOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xe=Object(S.a)($e.prototype,"_toggle",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._isOpen=!e._isOpen}}}),Ke=$e))||Ke,jt=function e(t){var r=t.userId,n=t.userName,a=t.totalPoints,c=void 0===a?0:a;Object(O.a)(this,e),this.userId=r,this.userName=n,this.totalPoints=c},_t=(r(494),Object(u.b)(function(e){return{currentUser:e.resultsPageStore.authenticatedUser,raceResultsWithBets:e.resultsPageStore.raceResultsWithBets,userStandings:e.resultsPageStore.userStandings}})(et=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,r=e.raceResultsWithBets,n=e.userStandings;return a.a.createElement(v.e,{tag:"section",className:"results-page"},n.length>0&&a.a.createElement(v.w,null,a.a.createElement(v.c,null,a.a.createElement(gt,{usersVotes:n}))),r.reverse().map(function(e){var r=e.raceId,n=e.raceTitle,c=e.hasOfficialResults,i=e.userBetsResults;return 0===i.length?null:a.a.createElement(v.w,{key:r},a.a.createElement(v.c,null,a.a.createElement("h2",{className:"results-page__race-header"},n),a.a.createElement(ht,{rows:i,currentUser:t,hasRaceResults:c})))}))}}]),t}(a.a.Component))||et),wt=r(3),kt=r.n(wt),Tt=r(10),St=r(146),Et=r(209),Nt=function(e){function t(){var e,r;Object(O.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleSave=function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var n,a,c,i;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,a=n.user,c=n.onBetsSubmit,i=new St.a({userInfo:a.toUserInfo(),betsMap:t}),e.next=4,c(i);case 4:r.goToResultsPage();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.a.createElement(Et.a,{racers:this.props.racers,initData:this.props.userBet,placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0412\u0430\u0448 \u043f\u0440\u043e\u0433\u043d\u043e\u0437",submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437",gridPositionsCount:10,onSave:this.handleSave})}},{key:"goToResultsPage",value:function(){this.props.history.push(E.a.RESULTS)}}]),t}(n.Component),xt=Object(w.a)(Nt),Rt=Object(u.b)("betPageStore")(Object(u.c)(function(e){var t=e.betPageStore,r=t.racers,n=t.currentUser,c=t.userBet,i=t.onBetsSubmit,s=t.isBetsAllowed,o=t.nextRaceTitle;return a.a.createElement(v.e,null,a.a.createElement(v.w,null,a.a.createElement(v.c,null,a.a.createElement("h1",{className:"page-title"},s?"\u0414\u0435\u043b\u0430\u0439\u0442\u0435 \u0412\u0430\u0448\u0438 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b!":"\u041f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f."))),a.a.createElement(v.w,null,a.a.createElement(v.c,null,s?a.a.createElement(xt,{racers:r,user:n,userBet:c,onBetsSubmit:i}):a.a.createElement("div",{className:"alert alert-warning",role:"alert"},"\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 ",o," \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f.",a.a.createElement("br",null),"\u041d\u043e\u0432\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0443\u044e \u0433\u043e\u043d\u043a\u0443 \u0443 \u0412\u0430\u0441 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043d\u0430\u0447\u0430\u043b\u0430 \u044d\u0442\u043e\u0439."))))})),Mt=r(781),Ut=function(e){var t=e.component,r=e.isAuthenticated,n=void 0!==r&&r,c=e.isCurrentUserAdmin,i=void 0!==c&&c,s=e.isPrivate,o=void 0!==s&&s,u=e.onlyForAdmins,l=void 0!==u&&u,p=Object(pe.a)(e,["component","isAuthenticated","isCurrentUserAdmin","isPrivate","onlyForAdmins"]);return a.a.createElement(Mt.a,Object.assign({},p,{render:function(e){return l&&!i?a.a.createElement(Re.a,{to:{pathname:E.a.HOME}}):o&&!n?a.a.createElement(Re.a,{to:{pathname:E.a.LOGIN,state:{from:e.location}}}):a.a.createElement(t,p)}}))},Zt=a.a.lazy(function(){return r.e(1).then(r.bind(null,789))}),At=a.a.lazy(function(){return r.e(2).then(r.bind(null,783))}),Pt=a.a.lazy(function(){return r.e(3).then(r.bind(null,787))}),Bt=a.a.lazy(function(){return r.e(4).then(r.bind(null,786))}),It=a.a.lazy(function(){return r.e(5).then(r.bind(null,782))}),Dt=[{exact:!0,path:E.a.HOME,component:xe,id:Object(X.a)()},{path:E.a.LOGIN,component:Ce,id:Object(X.a)()},{path:E.a.LOGOUT,component:qe,id:Object(X.a)()},{isPrivate:!0,path:E.a.BETS,component:Rt,id:Object(X.a)()},{path:E.a.RESULTS,component:_t,id:Object(X.a)()},{isPrivate:!0,path:E.a.BETS_HISTORY,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(It,null))},id:Object(X.a)()},{path:E.a.RACERS,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(Pt,null))},id:Object(X.a)()},{path:E.a.TEAMS,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(Zt,null))},id:Object(X.a)()},{path:E.a.CALENDAR,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(Bt,null))},id:Object(X.a)()},{isPrivate:!0,onlyForAdmins:!0,path:E.a.ADMIN,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(At,null))},id:Object(X.a)()}],Ct=Object(u.b)(function(e){return{pendingTasksCount:e.appStore._appModel._operationManager.pendingTasksCount,qualificationStartTime:e.appStore.nextRace&&e.appStore.nextRace.qualifyingStartTime,isBetsAllowed:e.appStore.isBetsAllowed,currentTime:e.appStore.currentTime}})(Object(u.c)(function(e){var t=e.pendingTasksCount,r=e.qualificationStartTime,n=e.isBetsAllowed,c=e.currentTime;return a.a.createElement("div",{className:"text-center bg-danger",style:{display:"none"}},a.a.createElement(v.e,null,a.a.createElement(v.w,null,a.a.createElement(v.c,null,"DEVELOPMENT MODE ON!!!"),a.a.createElement(v.c,null,t)),a.a.createElement(v.w,{className:"text-left"},a.a.createElement(v.c,null,"Qualification start Time: ",Object(ne.d)(r)),a.a.createElement(v.c,{className:n?"bg-success":"bg-warning"},"Is Bets Allowed: ",n.toString()),a.a.createElement(v.c,null,"Current Time: ",Object(ne.e)(c)))))})),qt=(r(509),function(){return a.a.createElement("div",{className:"loader__overlay"},a.a.createElement("div",{className:"loader"},a.a.createElement("div",{className:"loader__plate loader__plate--first"}),a.a.createElement("div",{className:"loader__plate loader__plate--second"}),a.a.createElement("div",{className:"loader__plate loader__plate--third"})))}),Wt=Object(u.b)("appStore")(tt=Object(w.a)(tt=Object(u.c)(tt=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.appStore.startTimeWatcher()}},{key:"componentWillUnmount",value:function(){this.props.appStore.stopTimeWatcher()}},{key:"render",value:function(){var e=this.props.appStore,t=e.hasPendingTasks,r=e.isUserAuthenticated,n=e.isUserAdmin,c=e.isProduction;return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(qt,null),a.a.createElement("div",{className:"layout"},!c&&a.a.createElement(Ct,null),a.a.createElement(Y,{className:"layout__header"}),a.a.createElement("main",{className:"layout__main colors--very-light-grey"},Dt.map(function(e){return a.a.createElement(Ut,Object.assign({key:e.id,isAuthenticated:r,isCurrentUserAdmin:n},e))})),a.a.createElement(Q,{className:"layout__footer"})))}}]),t}(n.Component))||tt)||tt)||tt,zt=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"startTimeWatcher",value:function(){this._appModel.timeWatcher.start()}},{key:"stopTimeWatcher",value:function(){this._appModel.timeWatcher.stop()}},{key:"isProduction",get:function(){return this._appModel.isProduction}},{key:"currentTime",get:function(){return this._appModel.timeWatcher.currentTime}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}},{key:"hasPendingTasks",get:function(){return this._appModel.operationManager.hasPendingTasks}},{key:"authenticatedUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"isUserAuthenticated",get:function(){return this._appModel.isUserAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appModel.isUserAlreadyBet}},{key:"isUserAdmin",get:function(){return this._appModel.isUserAdmin}}]),e}(),Lt=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"nextRace",get:function(){return this._appModel.nextRace}},{key:"currentTimeUtcString",get:function(){return this._appModel.timeWatcher.currentTimeUtcString}}]),e}(),Ft=r(36),Vt=(rt=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"nextRace",get:function(){return this._appModel.nextRace}},{key:"isAuthenticated",get:function(){return this._appModel.session.isAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appModel.isUserAlreadyBet}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}},{key:"nextRaceInfo",get:function(){var e=this._appModel.timeWatcher.currentTime,t=this._appModel.formulaOneOfficial.currentSeasonRounds.map(function(e){return new le(e)}).filter(function(t){return ce(t.raceStartTime,e)});return Object(Ft.a)(t,1)[0]}},{key:"previousRaces",get:function(){var e=this,t=this._appModel.timeWatcher.currentTime;return this._appModel.formulaOneOfficial.currentSeasonRounds.map(function(e){return new le(e)}).filter(function(e){return!ce(e.raceStartTime,t)}).map(function(t,r){if(e._raceResults.length>0&&r<e._raceResults.length){var n=e._raceResults[r].racersStandings.map(function(e){return new me(e)});return t.addRacerStandings(n)}return t}).reverse()}},{key:"_raceResults",get:function(){return this._appModel.formulaOneOfficial.currentSeasonRacesResults}}]),e}(),Object(S.a)(rt.prototype,"nextRaceInfo",[o.computed],Object.getOwnPropertyDescriptor(rt.prototype,"nextRaceInfo"),rt.prototype),Object(S.a)(rt.prototype,"previousRaces",[o.computed],Object.getOwnPropertyDescriptor(rt.prototype,"previousRaces"),rt.prototype),Object(S.a)(rt.prototype,"_raceResults",[o.computed],Object.getOwnPropertyDescriptor(rt.prototype,"_raceResults"),rt.prototype),rt),Ht=(nt=function(){function e(t,r){var n=this;Object(O.a)(this,e),Object(k.a)(this,"isRaceResultsPanelVisible",at,this),Object(k.a)(this,"selectedRace",ct,this),this.addNewBet=function(e){return n._appModel.addNewBet(e)},this._appModel=t,this._storeApiUrl=r,this._raceInfoService=this._appModel._raceInfoService}return Object(y.a)(e,[{key:"showRaceResultsPanel",value:function(){this.isRaceResultsPanelVisible=!0}},{key:"addOrUpdateRaceResults",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r=this;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedRace){e.next=3;break}return window.alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u043d\u043a\u0443!"),e.abrupt("return");case 3:if(!(Object.values(t).filter(function(e){return Boolean(e)}).length<10)){e.next=6;break}return window.alert("\u041d\u0435 \u0432\u0441\u0435 \u0433\u043e\u043d\u0448\u0438\u043a\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u044b!"),e.abrupt("return");case 6:return e.next=8,this._appModel.operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._raceInfoService.updateRaceResult(r.selectedRace.roundId,t);case 2:r.isRaceResultsPanelVisible=!1;case 3:case"end":return e.stop()}},e,this)})));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"users",get:function(){return this._appModel.usersModel.users}},{key:"races",get:function(){return this._appModel.races}},{key:"racers",get:function(){return this._appModel.racers}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),at=Object(S.a)(nt.prototype,"isRaceResultsPanelVisible",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ct=Object(S.a)(nt.prototype,"selectedRace",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(nt.prototype,"users",[o.computed],Object.getOwnPropertyDescriptor(nt.prototype,"users"),nt.prototype),Object(S.a)(nt.prototype,"races",[o.computed],Object.getOwnPropertyDescriptor(nt.prototype,"races"),nt.prototype),Object(S.a)(nt.prototype,"racers",[o.computed],Object.getOwnPropertyDescriptor(nt.prototype,"racers"),nt.prototype),Object(S.a)(nt.prototype,"showRaceResultsPanel",[o.action],Object.getOwnPropertyDescriptor(nt.prototype,"showRaceResultsPanel"),nt.prototype),Object(S.a)(nt.prototype,"addOrUpdateRaceResults",[o.action],Object.getOwnPropertyDescriptor(nt.prototype,"addOrUpdateRaceResults"),nt.prototype),nt),Yt=(it=function(){function e(t,r){var n=this;Object(O.a)(this,e),Object(k.a)(this,"isUserFormVisible",st,this),Object(k.a)(this,"userForEdit",ot,this),this.deleteUser=function(){var e=Object(Tt.a)(kt.a.mark(function e(t){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")){e.next=3;break}return e.next=3,n._appModel.usersModel.deleteUser(t);case 3:return e.next=5,n._appModel.usersModel.fetchUsers();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this._appModel=t,this._storeApiUrl=r,this._appModel.usersModel.fetchUsers()}return Object(y.a)(e,[{key:"toggleUserForm",value:function(e){this.isUserFormVisible=e}},{key:"setUserForEdit",value:function(e){this.userForEdit=e,this.toggleUserForm(!0)}},{key:"addOrUpdate",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r=this;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this._appModel.operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appModel.usersModel.addOrUpdate(t);case 2:return r.userForEdit=null,r.toggleUserForm(!1),e.next=6,r._appModel.usersModel.fetchUsers();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"users",get:function(){return this._appModel.usersModel.users}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),st=Object(S.a)(it.prototype,"isUserFormVisible",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ot=Object(S.a)(it.prototype,"userForEdit",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(it.prototype,"users",[o.computed],Object.getOwnPropertyDescriptor(it.prototype,"users"),it.prototype),Object(S.a)(it.prototype,"toggleUserForm",[o.action],Object.getOwnPropertyDescriptor(it.prototype,"toggleUserForm"),it.prototype),Object(S.a)(it.prototype,"setUserForEdit",[o.action],Object.getOwnPropertyDescriptor(it.prototype,"setUserForEdit"),it.prototype),Object(S.a)(it.prototype,"addOrUpdate",[o.action],Object.getOwnPropertyDescriptor(it.prototype,"addOrUpdate"),it.prototype),it),Jt=function(){function e(t){Object(O.a)(this,e);var r=b.getRaceStoreApiUrl(),n=b.getUserStoreApiUrl();this._racesSectionStore=new Ht(t,r),this._usersSectionStore=new Yt(t,n)}return Object(y.a)(e,[{key:"racesSectionStore",get:function(){return this._racesSectionStore}},{key:"usersSectionStore",get:function(){return this._usersSectionStore}}]),e}(),Gt=(ut=function(){function e(t){var r=this;Object(O.a)(this,e),this.onBetsSubmit=function(e){return r._appModel.addNewBet(e)},this._appModel=t}return Object(y.a)(e,[{key:"racers",get:function(){return this._appModel.racers}},{key:"currentUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"nextRaceTitle",get:function(){return this._appModel.nextRace?this._appModel.nextRace.prettyTitle:""}},{key:"userBet",get:function(){var e=this;if(!this._appModel.isUserAlreadyBet)return{};var t=this._appModel.nextRace.bets.find(function(t){return t.userInfo.id===e.currentUser.id});return t?t.betsMap:{}}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}}]),e}(),Object(S.a)(ut.prototype,"currentUser",[o.computed],Object.getOwnPropertyDescriptor(ut.prototype,"currentUser"),ut.prototype),Object(S.a)(ut.prototype,"nextRaceTitle",[o.computed],Object.getOwnPropertyDescriptor(ut.prototype,"nextRaceTitle"),ut.prototype),Object(S.a)(ut.prototype,"userBet",[o.computed],Object.getOwnPropertyDescriptor(ut.prototype,"userBet"),ut.prototype),ut),Kt=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"userBets",get:function(){return this._appModel.authUserBets}}]),e}(),$t=r(150),Qt=r.n($t),Xt=r(206),er=(lt=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"races",get:function(){return this._appModel.formulaOneOfficial.currentSeasonRounds.map(function(e){var t=e.raceName,r=e.roundSchedule;return new Xt.a({raceName:t,raceTime:r.race,qualTime:r.qualification,practice1Time:r.practices[0],practice2Time:r.practices[1],practice3Time:r.practices[2],id:Qt()(t)})})}},{key:"nextRace",get:function(){var e=this._appModel.timeWatcher.currentTime,t=this.races.filter(function(t){return ce(t.raceTime,e)});return Object(Ft.a)(t,1)[0]}},{key:"isRaceWeekend",get:function(){return!this._appModel.isBetsAllowed}},{key:"currentSeason",get:function(){return this._appModel.formulaOneOfficial.currentSeason}}]),e}(),Object(S.a)(lt.prototype,"races",[o.computed],Object.getOwnPropertyDescriptor(lt.prototype,"races"),lt.prototype),Object(S.a)(lt.prototype,"nextRace",[o.computed],Object.getOwnPropertyDescriptor(lt.prototype,"nextRace"),lt.prototype),Object(S.a)(lt.prototype,"isRaceWeekend",[o.computed],Object.getOwnPropertyDescriptor(lt.prototype,"isRaceWeekend"),lt.prototype),lt),tr=r(406),rr=r.n(tr),nr=r(407),ar=r.n(nr),cr=function(e){e.invalidate("This is a generic error message!")},ir=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cr;return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).call(this,{fields:e},{options:{showErrorsOnChange:!0,validateOnChange:!0},plugins:{dvr:ar.a},hooks:{onSuccess:r,onError:n}}))}return Object(_.a)(t,e),t}(rr.a),sr=(pt=function(){function e(t){var r=this;Object(O.a)(this,e),Object(k.a)(this,"isRegisterNew",ft,this),this._appModel=t,this._loginForm=new ir(Pe,function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var n;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appModel.session.login(t.values());case 2:if(!0===(n=e.sent)){e.next=6;break}return alert(n),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),this._registerNewAccountForm=new ir(Be,function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var n;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appModel.session.signIn(t.values());case 2:if(!0===(n=e.sent)){e.next=6;break}return alert(n),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}return Object(y.a)(e,[{key:"toggleRegisterNewForm",value:function(){this.isRegisterNew=!this.isRegisterNew}},{key:"login",value:function(e){var t=e.login,r=e.password;return this._appModel.session.login({login:t,password:r})}},{key:"signIn",value:function(e){var t=e.name,r=e.login,n=e.password;return this._appModel.session.signIn({name:t,login:r,password:n})}},{key:"isUserAuthenticated",get:function(){return this._appModel.session.isAuthenticated}},{key:"form",get:function(){return this.isRegisterNew?this._registerNewAccountForm:this._loginForm}}]),e}(),ft=Object(S.a)(pt.prototype,"isRegisterNew",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(S.a)(pt.prototype,"form",[o.computed],Object.getOwnPropertyDescriptor(pt.prototype,"form"),pt.prototype),Object(S.a)(pt.prototype,"toggleRegisterNewForm",[o.action],Object.getOwnPropertyDescriptor(pt.prototype,"toggleRegisterNewForm"),pt.prototype),pt),or=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"logout",value:function(){return this._appModel.session.logout()}},{key:"isUserAuthenticated",get:function(){return this._appModel.session.isAuthenticated}}]),e}(),ur=r(114),lr=r.n(ur);function pr(e){return fr.apply(this,arguments)}function fr(){return(fr=Object(Tt.a)(kt.a.mark(function e(t){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lr.a.get(t);case 3:return e.abrupt("return",e.sent.data.MRData);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))).apply(this,arguments)}function hr(e){return dr.apply(this,arguments)}function dr(){return(dr=Object(Tt.a)(kt.a.mark(function e(t){var r;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pr("".concat(t,"?limit=0"));case 3:return r=e.sent.total,e.abrupt("return",pr("".concat(t,"?limit=").concat(r)));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))).apply(this,arguments)}var mr,br,vr,Or,yr,gr=function e(t){Object(O.a)(this,e);var r=t.locality,n=t.country,a=t.lat,c=t.long,i=t.alt;this.locality=r,this.country=n,this.lat=a,this.long=c,this.alt=i},jr=function e(t){Object(O.a)(this,e);var r=t.circuitId,n=t.url,a=t.circuitName;this.circuitId=r,this.url=n,this.circuitName=a,this.location=new gr(t.Location)},_r=function e(t){var r=t.season;Object(O.a)(this,e),this.season=r},wr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).round=e.round,r.url=e.url,r.raceName=e.raceName,r.date=e.date,r.time=e.time,r.circuit=new jr(e.Circuit),r}return Object(_.a)(t,e),t}(_r),kr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).races=e.Races.map(function(e){return new wr(e)}),r}return Object(_.a)(t,e),t}(_r),Tr=function e(t){var r=t.constructorId,n=t.url,a=t.name,c=t.nationality;Object(O.a)(this,e),this.constructorId=r,this.url=n,this.name=a,this.nationality=c},Sr=function e(t){var r=t.driverId,n=t.url,a=t.permanentNumber,c=t.givenName,i=t.familyName,s=t.dateOfBirth,o=t.code,u=t.nationality;Object(O.a)(this,e),this.driverId=r,this.url=n,this.permanentNumber=a,this.givenName=c,this.familyName=i,this.dateOfBirth=s,this.code=o,this.nationality=u},Er=function e(t){Object(O.a)(this,e),this.rank=t.rank,this.lap=t.lap,this.time=t.Time,this.averageSpeed=t.AverageSpeed},Nr=function e(t){Object(O.a)(this,e);var r=t.number,n=t.position,a=t.points,c=t.grid,i=t.laps,s=t.status,o=t.Time;this.number=r,this.position=n,this.points=a,this.driver=new Sr(t.Driver),this.constructor=new Tr(t.Constructor),this.grid=c,this.laps=i,this.status=s,this.time=Object(Ue.a)({},o),this.fastestLap=t.FastestLap?new Er(t.FastestLap):void 0},xr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).results=e.Results.map(function(e){return new Nr(e)}),r}return Object(_.a)(t,e),t}(wr),Rr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).races=e.Races.map(function(e){return new xr(e)}),r}return Object(_.a)(t,e),t}(kr),Mr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return e}),r}return Object(_.a)(t,e),t}(_r),Ur=function(e){function t(e){var r,n=e.season,a=e.round;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,{season:n}))).round=a,r}return Object(_.a)(t,e),t}(_r),Zr=function e(t){var r=t.position,n=t.positionText,a=t.points,c=t.wins;Object(O.a)(this,e),this.position=r,this.positionText=n,this.points=a,this.wins=c},Ar=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).driver=new Sr(e.Driver),r.constructors=e.Constructors.map(function(e){return new Tr(e)}),r}return Object(_.a)(t,e),t}(Zr),Pr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).driverStandings=e.DriverStandings.map(function(e){return new Ar(e)}),r}return Object(_.a)(t,e),t}(Ur),Br=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return new Pr(e)}),r}return Object(_.a)(t,e),t}(Mr),Ir=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).constructor=new Tr(e.Constructor),r}return Object(_.a)(t,e),t}(Zr),Dr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).constructorStandings=e.ConstructorStandings.map(function(e){return new Ir(e)}),r}return Object(_.a)(t,e),t}(Ur),Cr=function(e){function t(e){var r,n=e.season,a=e.StandingsLists;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,{season:n,StandingsLists:a}))).standingsLists=a.map(function(e){return new Dr(e)}),r}return Object(_.a)(t,e),t}(Mr),qr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).drivers=e.Drivers.map(function(e){return new Sr(e)}),r}return Object(_.a)(t,e),t}(_r),Wr=function(){function e(){Object(O.a)(this,e)}return Object(y.a)(e,null,[{key:"_createJsonUrl",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"".concat("https://ergast.com/api/f1","/").concat(t.filter(function(e){return Boolean(e)}).join("/"),".json")}},{key:"getDriverStandings",value:function(){var t=Object(Tt.a)(kt.a.mark(function t(r){var n;return kt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pr(e._createJsonUrl(r,"driverStandings"));case 2:return n=t.sent,t.abrupt("return",new Br(n.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getConstructorStandings",value:function(){var t=Object(Tt.a)(kt.a.mark(function t(r){var n;return kt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pr(e._createJsonUrl(r,"constructorStandings"));case 2:return n=t.sent,t.abrupt("return",new Cr(n.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getRaceSchedule",value:function(){var t=Object(Tt.a)(kt.a.mark(function t(){var r,n,a,c=arguments;return kt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:"2018",n=c.length>1&&void 0!==c[1]?c[1]:"all",t.next=4,pr(e._createJsonUrl(r,"all"!==n?n:void 0));case 4:return a=t.sent,t.abrupt("return",new kr(a.RaceTable));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getRaceResults",value:function(){var t=Object(Tt.a)(kt.a.mark(function t(r){var n,a,c=arguments;return kt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"2018",t.next=3,pr(e._createJsonUrl(n,r,"results"));case 3:return a=t.sent,t.abrupt("return",new Rr(a.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getAllRacesResults",value:function(){var t=Object(Tt.a)(kt.a.mark(function t(){var r,n,a=arguments;return kt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:"2018",t.next=3,hr(e._createJsonUrl(r,"results"));case 3:return n=t.sent,t.abrupt("return",new Rr(n.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var t=Object(Tt.a)(kt.a.mark(function t(){var r,n,a=arguments;return kt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:"2018",t.next=3,pr(e._createJsonUrl(r,"drivers"));case 3:return n=t.sent,t.abrupt("return",new qr(n.DriverTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(),zr=r(207),Lr=(mr=function(){function e(t){var r=this;Object(O.a)(this,e),Object(k.a)(this,"racerStandingList",br,this),this.loadRacerStandings=function(){return r._appModel.operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){var t,n,a,c;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr.getDriverStandings(r.currentSeason);case 2:t=e.sent,n=Object(Ft.a)(t.standingsLists,1),(a=n[0])&&(c=a.driverStandings.map(function(e){var t=e.driver,r=Object(Ft.a)(e.constructors,1)[0];return new zr.a({pos:e.position,racerFullName:"".concat(t.givenName," ").concat(t.familyName),racerPoints:e.points,racerId:t.code,racerNumber:t.permanentNumber,racerUrl:t.url,constructorName:r?r.name:"",constructorUrl:r?r.url:"",racerNationality:t.nationality})}),Object(o.runInAction)(function(){r.racerStandingList=c}));case 5:case"end":return e.stop()}},e,this)})))},this._appModel=t}return Object(y.a)(e,[{key:"currentSeason",get:function(){return this._appModel.formulaOneOfficial.currentSeason}}]),e}(),br=Object(S.a)(mr.prototype,"racerStandingList",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mr),Fr=(vr=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"authenticatedUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"raceResultsWithBets",get:function(){var e=this._appModel.formulaOneOfficial.currentSeasonRacesResults;return this._appModel._racesModel.races.map(function(t,r){return new vt({race:t,finishedRacers:r<e.length?e[r].racersStandings:void 0})})}},{key:"userStandingsByRound",get:function(){return this.raceResultsWithBets.filter(function(e){return e.hasOfficialResults}).map(function(e){return e.userVotes}).map(function(e,t){return{title:"gp"+(t+1),userStandings:e.map(function(e){return new jt({userId:e.id,userName:e.name,totalPoints:e.userScore.value})})}})}},{key:"userStandings",get:function(){var e=Array.from(this.userStandingsByRound.reduce(function(e,t){return t.userStandings.forEach(function(t){e.set(t.userId,[].concat(Object(dt.a)(e.get(t.userId)||[]),[t]))}),e},new Map([])).values()).map(function(e){var t=bt()(e,function(e){return e.totalPoints});return t.slice(Math.max(t.length-7,0))}),t=new Map([]);return e.forEach(function(e){e.forEach(function(e){if(t.has(e.userId)){var r=e;r.totalPoints+=t.get(e.userId).totalPoints,t.set(e.userId,r)}else t.set(e.userId,e)})}),Array.from(t.values())}}]),e}(),Object(S.a)(vr.prototype,"authenticatedUser",[o.computed],Object.getOwnPropertyDescriptor(vr.prototype,"authenticatedUser"),vr.prototype),Object(S.a)(vr.prototype,"raceResultsWithBets",[o.computed],Object.getOwnPropertyDescriptor(vr.prototype,"raceResultsWithBets"),vr.prototype),Object(S.a)(vr.prototype,"userStandingsByRound",[o.computed],Object.getOwnPropertyDescriptor(vr.prototype,"userStandingsByRound"),vr.prototype),Object(S.a)(vr.prototype,"userStandings",[o.computed],Object.getOwnPropertyDescriptor(vr.prototype,"userStandings"),vr.prototype),vr),Vr=r(208),Hr=(Or=function(){function e(t){var r=this;Object(O.a)(this,e),Object(k.a)(this,"teamsStandingList",yr,this),this.fetchStandings=function(){return r._appModel.operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){var t,n;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr.getConstructorStandings(r.currentSeason);case 2:t=e.sent,(n=t.standingsLists[0])&&Object(o.runInAction)(function(){r.teamsStandingList=n.constructorStandings.map(function(e){var t=e.constructor;return new Vr.a({pos:e.position,name:t.name,id:t.constructorId,points:e.points,url:t.url,nationality:t.nationality})})});case 5:case"end":return e.stop()}},e,this)})))},this._appModel=t}return Object(y.a)(e,[{key:"currentSeason",get:function(){return this._appModel.formulaOneOfficial.currentSeason}}]),e}(),yr=Object(S.a)(Or.prototype,"teamsStandingList",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Or);function Yr(e){var t=new zt(e),r=new Lt(e),n=function(e){return{homePageStore:new Vt(e),resultsPageStore:new Fr(e),racerStandingsPageStore:new Lr(e),teamsStandingsPageStore:new Hr(e),adminPageStore:new Jt(e),loginPageStore:new sr(e),logoutPageStore:new or(e),calendarPageStore:new er(e),userBetsHistoryPageStore:new Kt(e),betPageStore:new Gt(e)}}(e);return Object(Ue.a)({},n,{appStore:t,headerStore:r})}var Jr=function(){function e(t){var r=t.userStoreApiUrl;Object(O.a)(this,e),this._apiUrl=r}return Object(y.a)(e,[{key:"fetchAll",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.B.get(this._apiUrl);case 2:return e.t0=N.a.fromJs,e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=function(e){return e.id===t},r=e.sent.find(e.t0)){e.next=6;break}throw new Error("User can't be found!");case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findById",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findBy(function(e){return e.id===t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findBy",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=t,r=e.sent.find(e.t0)){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r,n;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof N.a){e.next=2;break}throw new Error("variable user must be instanceof class User");case 2:return e.next=4,this.fetchAll();case 4:return r=e.sent,(n=r.findIndex(function(e){return e.id===t.id}))>-1?r[n]=t:r.push(t),e.abrupt("return",v.B.put(this._apiUrl,r));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.fetchAll();case 4:return r=e.sent,e.abrupt("return",v.B.put(this._apiUrl,r.filter(function(e){return e.id!==t})));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Gr=function(e){function t(e){var r,n=e.season,a=e.raceName,c=e.bets,i=void 0===c?[]:c,s=e.raceResults,o=void 0===s?{}:s;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,{season:n,raceName:a}))).bets=i,r.raceResults=o,r}return Object(_.a)(t,e),t}(r(149).a),Kr=function(){function e(t){var r=t.raceInfoStoreApiUrl;Object(O.a)(this,e),this._apiUrl=r}return Object(y.a)(e,[{key:"fetchAll",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.B.get(this._apiUrl);case 2:return e.t0=function(e){return new Gr(e)},e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"saveAll",value:function(e){return v.B.put(this._apiUrl,e)}},{key:"addOrUpdateBet",value:function(){var t=Object(Tt.a)(kt.a.mark(function t(r,n){var a,c;return kt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchAll();case 2:return a=t.sent,c=[],c=a.some(function(e){return e.roundId===n.roundId})?a.map(function(t){if(t.roundId===n.roundId){var a=t.bets.findIndex(function(e){return e.userInfo.id===r.userInfo.id});return a>-1?e._updateBet(t,r,a):e._addBet(t,r)}return t}):[].concat(Object(dt.a)(a),[new Gr(Object(Ue.a)({},n,{bets:[r]}))]),t.abrupt("return",this.saveAll(c));case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"updateRaceResult",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t,r){var n,a;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:return n=e.sent,(a=n.findIndex(function(e){return e.roundId===t}))>-1&&(n[a].raceResults=Object(Ue.a)({},n[a].raceResults,r)),e.abrupt("return",this.saveAll(n));case 6:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"_addBet",value:function(e,t){return e.bets.push(t),e}},{key:"_updateBet",value:function(e,t,r){return e.bets[r]=t,e}}]),e}(),$r=function(){function e(t){var r=t.localStorageUserKey,n=t.userService,a=t.cryptoService;Object(O.a)(this,e),this._localStorageUserKey=r,this._userService=n,this._cryptoService=a}return Object(y.a)(e,[{key:"authenticate",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(){var t,r,n,a=arguments;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,r=null,t){e.next=8;break}if(r=window.localStorage.getItem(this._localStorageUserKey)){e.next=6;break}return e.abrupt("return",null);case 6:e.next=9;break;case 8:r=t.id;case 9:return e.next=11,this._userService.findById(r);case 11:if(!(n=e.sent)){e.next=15;break}return this._authenticate(n),e.abrupt("return",n);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r,n,a;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.password,e.next=3,this._userService.findBy(function(e){return e.login===r});case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u043d\u0435\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435.");case 6:if(!this._cryptoService.isPasswordValid(n,a.password)){e.next=10;break}if(!this._authenticate(a)){e.next=9;break}return e.abrupt("return",a);case 9:return e.abrupt("return",!1);case 10:return e.abrupt("return","\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c.");case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){window.localStorage.removeItem(this._localStorageUserKey)}},{key:"signIn",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r,n,a,c;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.name,a=t.password,c=new N.a({login:r,name:n,password:this._cryptoService.encodePassword(a)}),e.next=4,this._userService.findBy(function(e){return e.login===c.login});case 4:if(!e.sent){e.next=7;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d.");case 7:return e.prev=7,e.next=10,this._userService.addOrUpdate(c);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return","Server Error. Cannot add or update user");case 15:if(!this._authenticate(c)){e.next=17;break}return e.abrupt("return",c);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,this,[[7,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_authenticate",value:function(e){var t=e.id;return!!t&&(window.localStorage.setItem(this._localStorageUserKey,t),!0)}}]),e}(),Qr=r(205),Xr=r.n(Qr);var en={encodePassword:function(e){return Xr.a.hashSync(e,8)},isPasswordValid:function(e,t){return Xr.a.compareSync(e,t)}},tn=r(148);function rn(e,t){var r={season:e.season,raceName:e.raceName,raceUrl:e.url,circuit:{url:e.circuit.url,countryName:e.circuit.location.country,circuitName:e.circuit.circuitName,circuitId:e.circuit.circuitId}},n=t.find(function(t){return t.round===Number(e.round)});return n&&(r.roundSchedule={practices:[n.practice_1,n.practice_2,n.practice_3],qualification:n.qualification,race:n.race}),new tn.a(r)}var nn=function e(t){var r=t.season,n=t.round,a=t.racersStandings;Object(O.a)(this,e),this.season=r,this.round=Number(n),this.racersStandings=a};function an(e){var t=e.season,r=e.round,n=e.results;return new nn({season:t,round:r,racersStandings:n.map(function(e){return t=e.driver,r=e.points,new de.a(t.givenName,t.familyName,t.permanentNumber,t.code,r,t.nationality,t.dateOfBirth);var t,r})})}var cn,sn,on,un=function(){function e(t){var r=t.formulaOneOfficialDataRepository;Object(O.a)(this,e),this._repository=r}return Object(y.a)(e,[{key:"fetchSeasonRoundsSchedule",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r,n;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getF1Calendar(t);case 2:return r=e.sent,e.next=5,this._repository.getRaceSchedule(t);case 5:return n=e.sent,e.abrupt("return",n.races.map(function(e){return rn(e,r)}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRacesResults",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getRacesResults(t);case 2:return r=e.sent,e.abrupt("return",r.races.map(function(e){return an(e)}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRacers",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r,n,a;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getDrivers(t);case 2:return r=e.sent,n=Object(Ft.a)(r,1),a=n[0],e.abrupt("return",a.driverStandings.map(function(e){var t=e.driver;return de.a.create(Object(Ue.a)({},t,{firstName:t.givenName,lastName:t.familyName,abbreviation:t.code,number:t.permanentNumber}))}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ln=function e(t){var r=t.round,n=t.practice_1,a=t.practice_2,c=t.practice_3,i=t.qualification,s=t.race;Object(O.a)(this,e),this.round=r,this.practice_1=n,this.practice_2=a,this.practice_3=c,this.qualification=i,this.race=s},pn=new Map([["2018",[new ln({round:1,practice_1:"20180323T010000Z",practice_2:"20180323T050000Z",practice_3:"20180324T030000Z",qualification:"20180324T060000Z",race:"20180325T051000Z"}),new ln({round:2,practice_1:"20180406T110000Z",practice_2:"20180406T150000Z",practice_3:"20180407T120000Z",qualification:"20180407T150000Z",race:"20180408T151000Z"}),new ln({round:3,practice_1:"20180413T020000Z",practice_2:"20180413T060000Z",practice_3:"20180414T030000Z",qualification:"20180414T060000Z",race:"20180415T061000Z"}),new ln({round:4,practice_1:"20180427T090000Z",practice_2:"20180427T130000Z",practice_3:"20180428T100000Z",qualification:"20180428T130000Z",race:"20180429T121000Z"}),new ln({round:5,practice_1:"20180511T090000Z",practice_2:"20180511T130000Z",practice_3:"20180512T100000Z",qualification:"20180512T130000Z",race:"20180513T131000Z"}),new ln({round:6,practice_1:"20180524T090000Z",practice_2:"20180524T130000Z",practice_3:"20180526T100000Z",qualification:"20180526T130000Z",race:"20180527T131000Z"}),new ln({round:7,practice_1:"20180608T140000Z",practice_2:"20180608T180000Z",practice_3:"20180609T150000Z",qualification:"20180609T180000Z",race:"20180610T181000Z"}),new ln({round:8,practice_1:"20180622T100000Z",practice_2:"20180622T140000Z",practice_3:"20180623T110000Z",qualification:"20180623T140000Z",race:"20180624T141000Z"}),new ln({round:9,practice_1:"20180629T090000Z",practice_2:"20180629T130000Z",practice_3:"20180630T100000Z",qualification:"20180630T130000Z",race:"20180701T131000Z"}),new ln({round:10,practice_1:"20180706T090000Z",practice_2:"20180706T130000Z",practice_3:"20180707T100000Z",qualification:"20180707T130000Z",race:"20180708T131000Z"}),new ln({round:11,practice_1:"20180720T090000Z",practice_2:"20180720T130000Z",practice_3:"20180721T100000Z",qualification:"20180721T130000Z",race:"20180722T131000Z"}),new ln({round:12,practice_1:"20180727T090000Z",practice_2:"20180727T130000Z",practice_3:"20180728T100000Z",qualification:"20180728T130000Z",race:"20180729T131000Z"}),new ln({round:13,practice_1:"20180824T090000Z",practice_2:"20180824T130000Z",practice_3:"20180825T100000Z",qualification:"20180825T130000Z",race:"20180826T131000Z"}),new ln({round:14,practice_1:"20180831T090000Z",practice_2:"20180831T130000Z",practice_3:"20180901T100000Z",qualification:"20180901T130000Z",race:"20180902T131000Z"}),new ln({round:15,practice_1:"20180914T083000Z",practice_2:"20180914T123000Z",practice_3:"20180915T100000Z",qualification:"20180915T130000Z",race:"20180916T121000Z"}),new ln({round:16,practice_1:"20180928T080000Z",practice_2:"20180928T120000Z",practice_3:"20180929T090000Z",qualification:"20180929T120000Z",race:"20180930T111000Z"}),new ln({round:17,practice_1:"20181005T010000Z",practice_2:"20181005T050000Z",practice_3:"20181006T030000Z",qualification:"20181006T060000Z",race:"20181007T051000Z"}),new ln({round:18,practice_1:"20181019T150000Z",practice_2:"20181019T190000Z",practice_3:"20181020T180000Z",qualification:"20181020T210000Z",race:"20181021T181000Z"}),new ln({round:19,practice_1:"20181026T150000Z",practice_2:"20181026T190000Z",practice_3:"20181027T150000Z",qualification:"20181027T180000Z",race:"20181028T191000Z"}),new ln({round:20,practice_1:"20181109T140000Z",practice_2:"20181109T180000Z",practice_3:"20181110T150000Z",qualification:"20181110T180000Z",race:"20181111T181000Z"}),new ln({round:21,practice_1:"20181123T090000Z",practice_2:"20181123T130000Z",practice_3:"20181124T100000Z",qualification:"20181124T130000Z",race:"20181125T131000Z"})]],["2019",[new ln({round:1,practice_1:"20190315T010000Z",practice_2:"20190315T050000Z",practice_3:"20190316T030000Z",qualification:"20190316T060000Z",race:"20190317T051000Z"}),new ln({round:2,practice_1:"20190329T110000Z",practice_2:"20190329T150000Z",practice_3:"20190330T120000Z",qualification:"20190330T150000Z",race:"20190331T151000Z"}),new ln({round:3,practice_1:"20190412T020000Z",practice_2:"20190412T060000Z",practice_3:"20190413T030000Z",qualification:"20190413T060000Z",race:"20190414T061000Z"}),new ln({round:4,practice_1:"20190426T090000Z",practice_2:"20190426T130000Z",practice_3:"20190427T100000Z",qualification:"20190427T130000Z",race:"20190428T121000Z"}),new ln({round:5,practice_1:"20190510T090000Z",practice_2:"20190510T130000Z",practice_3:"20190511T100000Z",qualification:"20190511T130000Z",race:"20190512T131000Z"}),new ln({round:6,practice_1:"20190523T090000Z",practice_2:"20190523T130000Z",practice_3:"20190525T100000Z",qualification:"20190525T130000Z",race:"20190526T131000Z"}),new ln({round:7,practice_1:"20190607T150000Z",practice_2:"20190607T190000Z",practice_3:"20190608T160000Z",qualification:"20190608T190000Z",race:"20190609T191000Z"}),new ln({round:8,practice_1:"20190621T090000Z",practice_2:"20190621T130000Z",practice_3:"20190622T100000Z",qualification:"20190622T130000Z",race:"20190623T131000Z"}),new ln({round:9,practice_1:"20190628T090000Z",practice_2:"20190628T130000Z",practice_3:"20190629T100000Z",qualification:"20190629T130000Z",race:"20190630T131000Z"}),new ln({round:10,practice_1:"20190712T090000Z",practice_2:"20190712T130000Z",practice_3:"20190713T100000Z",qualification:"20190713T130000Z",race:"20190714T131000Z"}),new ln({round:11,practice_1:"20190726T090000Z",practice_2:"20190726T130000Z",practice_3:"20190727T100000Z",qualification:"20190727T130000Z",race:"20190728T131000Z"}),new ln({round:12,practice_1:"20190802T090000Z",practice_2:"20190802T130000Z",practice_3:"20190803T100000Z",qualification:"20190803T130000Z",race:"20190804T131000Z"}),new ln({round:13,practice_1:"20190830T090000Z",practice_2:"20190830T130000Z",practice_3:"20190831T100000Z",qualification:"20190831T130000Z",race:"20190901T131000Z"}),new ln({round:14,practice_1:"20190906T090000Z",practice_2:"20190906T130000Z",practice_3:"20190907T100000Z",qualification:"20190907T130000Z",race:"20190908T131000Z"}),new ln({round:15,practice_1:"20190920T083000Z",practice_2:"20190920T123000Z",practice_3:"20190921T100000Z",qualification:"20190921T130000Z",race:"20190922T121000Z"}),new ln({round:16,practice_1:"20190927T080000Z",practice_2:"20190927T120000Z",practice_3:"20190928T090000Z",qualification:"20190928T120000Z",race:"20190929T111000Z"}),new ln({round:17,practice_1:"20191011T010000Z",practice_2:"20191011T050000Z",practice_3:"20191012T030000Z",qualification:"20191012T060000Z",race:"20191013T051000Z"}),new ln({round:18,practice_1:"20191025T150000Z",practice_2:"20191025T190000Z",practice_3:"20191026T150000Z",qualification:"20191026T180000Z",race:"20191027T191000Z"}),new ln({round:19,practice_1:"20191101T160000Z",practice_2:"20191101T200000Z",practice_3:"20191102T180000Z",qualification:"20191102T210000Z",race:"20191103T191000Z"}),new ln({round:20,practice_1:"20191115T140000Z",practice_2:"20191115T180000Z",practice_3:"20191116T150000Z",qualification:"20191116T180000Z",race:"20191117T181000Z"}),new ln({round:21,practice_1:"20191129T090000Z",practice_2:"20191129T130000Z",practice_3:"20191130T100000Z",qualification:"20191130T130000Z",race:"20191201T131000Z"})]]]),fn=function(){function e(){Object(O.a)(this,e)}return Object(y.a)(e,[{key:"getF1Calendar",value:function(e){var t=pn.get(e);return Promise.resolve(t)}},{key:"getRaceSchedule",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr.getRaceSchedule(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRacesResults",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr.getAllRacesResults(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr.getDriverStandings(t);case 2:return e.abrupt("return",e.sent.standingsLists);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();var hn,dn,mn,bn,vn,On,yn,gn,jn,_n,wn,kn,Tn,Sn,En=(cn=function(){function e(t){Object(O.a)(this,e),Object(k.a)(this,"_currentTime",sn,this),Object(k.a)(this,"_tick",on,this),this._tickInterval=t}return Object(y.a)(e,[{key:"start",value:function(){this._interval=setInterval(this._tick,1e3*this._tickInterval),this._tick()}},{key:"stop",value:function(){this._interval&&clearInterval(this._interval)}},{key:"currentTime",get:function(){return this._currentTime}},{key:"currentTimeUtcString",get:function(){return Object(ne.g)(this._currentTime)}}]),e}(),sn=Object(S.a)(cn.prototype,"_currentTime",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A()()}}),on=Object(S.a)(cn.prototype,"_tick",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._currentTime=A()()}}}),Object(S.a)(cn.prototype,"currentTime",[o.computed],Object.getOwnPropertyDescriptor(cn.prototype,"currentTime"),cn.prototype),Object(S.a)(cn.prototype,"currentTimeUtcString",[o.computed],Object.getOwnPropertyDescriptor(cn.prototype,"currentTimeUtcString"),cn.prototype),cn),Nn=(hn=function(){function e(){Object(O.a)(this,e),Object(k.a)(this,"pendingTasksCount",dn,this)}return Object(y.a)(e,[{key:"runWithProgress",value:function(e){this.pendingTasksCount++,e(),this.pendingTasksCount--}},{key:"runWithProgressAsync",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r=this;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingTasksCount++,e.prev=1,e.next=4,t();case 4:return e.abrupt("return",e.sent);case 5:return e.prev=5,Object(o.runInAction)(function(){r.pendingTasksCount--}),e.finish(5);case 8:case"end":return e.stop()}},e,this,[[1,,5,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"hasPendingTasks",get:function(){return this.pendingTasksCount>0}}]),e}(),dn=Object(S.a)(hn.prototype,"pendingTasksCount",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(S.a)(hn.prototype,"hasPendingTasks",[o.computed],Object.getOwnPropertyDescriptor(hn.prototype,"hasPendingTasks"),hn.prototype),Object(S.a)(hn.prototype,"runWithProgress",[o.action],Object.getOwnPropertyDescriptor(hn.prototype,"runWithProgress"),hn.prototype),Object(S.a)(hn.prototype,"runWithProgressAsync",[o.action],Object.getOwnPropertyDescriptor(hn.prototype,"runWithProgressAsync"),hn.prototype),hn),xn=(mn=function(){function e(t){var r=this,n=t.authenticationService,a=t.operationManager;Object(O.a)(this,e),Object(k.a)(this,"authenticatedUser",bn,this),this._authService=n,this._operationManager=a,this._operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){var t;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.authenticate();case 2:return(t=e.sent)instanceof N.a&&Object(o.runInAction)(function(){r.authenticatedUser=t}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})))}return Object(y.a)(e,[{key:"login",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r,n,a=this;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){var t;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._authService.login({login:r,password:n});case 2:if(!((t=e.sent)instanceof N.a)){e.next=6;break}return Object(o.runInAction)(function(){a.authenticatedUser=t}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.isAuthenticated&&(this._authService.logout(),this.authenticatedUser=null)}},{key:"signIn",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r,n,a,c=this;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.name,a=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){var t;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c._authService.signIn({login:r,name:n,password:a});case 2:if(!((t=e.sent)instanceof N.a)){e.next=6;break}return Object(o.runInAction)(function(){c.authenticatedUser=t}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isAuthenticated",get:function(){return null!==this.authenticatedUser}},{key:"isCurrentUserAdmin",get:function(){return this.isAuthenticated&&this.authenticatedUser.isAdmin}}]),e}(),bn=Object(S.a)(mn.prototype,"authenticatedUser",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(mn.prototype,"isAuthenticated",[o.computed],Object.getOwnPropertyDescriptor(mn.prototype,"isAuthenticated"),mn.prototype),Object(S.a)(mn.prototype,"isCurrentUserAdmin",[o.computed],Object.getOwnPropertyDescriptor(mn.prototype,"isCurrentUserAdmin"),mn.prototype),Object(S.a)(mn.prototype,"login",[o.action],Object.getOwnPropertyDescriptor(mn.prototype,"login"),mn.prototype),Object(S.a)(mn.prototype,"logout",[o.action],Object.getOwnPropertyDescriptor(mn.prototype,"logout"),mn.prototype),Object(S.a)(mn.prototype,"signIn",[o.action],Object.getOwnPropertyDescriptor(mn.prototype,"signIn"),mn.prototype),mn),Rn=(vn=function(){function e(t){var r=t.formulaOneOfficialModel,n=t.operationManager,a=t.raceInfoService,c=t.timeWatcher;Object(O.a)(this,e),Object(k.a)(this,"races",On,this),this._formulaOneOfficialModel=r,this._operationManager=n,this._timeWatcher=c,this._raceInfoService=a}return Object(y.a)(e,[{key:"fetchRaces",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(){var t=this;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){var r,n;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._formulaOneOfficialModel.currentSeasonRounds,e.next=3,t._raceInfoService.fetchAll();case 3:n=e.sent,Object(o.runInAction)(function(){t.races=Object(dt.a)(r.map(function(e){var t=n.find(function(t){return t.roundId===e.roundId});return new V.a(Object(Ue.a)({},e,{bets:t?t.bets:[],raceResults:t?t.raceResults:{}}))}))});case 5:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addNewBet",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r=this;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r._raceInfoService.addOrUpdateBet(t,r.nextRace);case 3:return e.next=5,r.fetchRaces();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Can't update Bet in 'RacesStore'",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nextRace",get:function(){var e=this._timeWatcher.currentTime,t=this.races.filter(function(t){return ce(t.raceStartTime,e)});return Object(Ft.a)(t,1)[0]}}]),e}(),On=Object(S.a)(vn.prototype,"races",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(S.a)(vn.prototype,"nextRace",[o.computed],Object.getOwnPropertyDescriptor(vn.prototype,"nextRace"),vn.prototype),Object(S.a)(vn.prototype,"fetchRaces",[o.action],Object.getOwnPropertyDescriptor(vn.prototype,"fetchRaces"),vn.prototype),Object(S.a)(vn.prototype,"addNewBet",[o.action],Object.getOwnPropertyDescriptor(vn.prototype,"addNewBet"),vn.prototype),vn),Mn=(yn=function(){function e(t){var r=this,n=t.userService,a=t.sessionModel,c=t.operationManager;Object(O.a)(this,e),Object(k.a)(this,"users",gn,this),this._userService=n,this._operationManager=c,this._session=a,this._operationManager.runWithProgressAsync(function(){return r.fetchUsers()})}return Object(y.a)(e,[{key:"fetchUsers",value:function(){var e=this;try{return this._operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function t(){var r;return kt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._userService.fetchAll();case 2:r=t.sent,Object(o.runInAction)(Object(Tt.a)(kt.a.mark(function t(){return kt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.users=r;case 1:case"end":return t.stop()}},t,this)})));case 4:case"end":return t.stop()}},t,this)})))}catch(t){console.log("Can't load 'users' in UserModel!!\n",t)}}},{key:"deleteUser",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._userService.delete(t);case 2:return e.next=4,this.fetchUsers();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(t){var r=this;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._userService.addOrUpdate(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"currentUser",get:function(){return this._session.authenticatedUser}}]),e}(),gn=Object(S.a)(yn.prototype,"users",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(S.a)(yn.prototype,"currentUser",[o.computed],Object.getOwnPropertyDescriptor(yn.prototype,"currentUser"),yn.prototype),Object(S.a)(yn.prototype,"fetchUsers",[o.action],Object.getOwnPropertyDescriptor(yn.prototype,"fetchUsers"),yn.prototype),Object(S.a)(yn.prototype,"addOrUpdate",[o.action],Object.getOwnPropertyDescriptor(yn.prototype,"addOrUpdate"),yn.prototype),yn),Un=(jn=function(){function e(t){var r=t.formulaOneOfficialDataService,n=t.operationManager;Object(O.a)(this,e),Object(k.a)(this,"currentSeasonRounds",_n,this),Object(k.a)(this,"currentSeasonRacesResults",wn,this),Object(k.a)(this,"currentSeasonRacers",kn,this),this._service=r,this._operationManager=n,this._currentSeason=b.getCurrentSeason()}return Object(y.a)(e,[{key:"fetchAll",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchRacesSchedule();case 2:return e.next=4,this._fetchRacers();case 4:return e.next=6,this._fetchRacesResults();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacesSchedule",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(){var t=this;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){var r;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._service.fetchSeasonRoundsSchedule(t.currentSeason);case 2:r=e.sent,Object(o.runInAction)(function(){t.currentSeasonRounds=r});case 4:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacesResults",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(){var t=this;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){var r;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._service.fetchRacesResults(t.currentSeason);case 2:r=e.sent,Object(o.runInAction)(function(){t.currentSeasonRacesResults=r});case 4:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacers",value:function(){var e=Object(Tt.a)(kt.a.mark(function e(){var t=this;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){var r;return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._service.fetchRacers(t.currentSeason);case 2:r=e.sent,Object(o.runInAction)(function(){t.currentSeasonRacers=r});case 4:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"currentSeason",get:function(){return this._currentSeason}}]),e}(),_n=Object(S.a)(jn.prototype,"currentSeasonRounds",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wn=Object(S.a)(jn.prototype,"currentSeasonRacesResults",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kn=Object(S.a)(jn.prototype,"currentSeasonRacers",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jn),Zn=b.getVoteClosingTime(),An=(Tn=function(){function e(t){var r=this;Object(O.a)(this,e);var n=t.userService,a=t.authenticationService,c=t.raceInfoService,i=t.formulaOneOfficialDataService,s=new Nn,u=b.getTickInterval();this._isProductionMode=b.isProductionMode(),this._raceInfoService=c,this._timeWatcher=new En(u),this._operationManager=s,this._sessionModel=new xn({authenticationService:a,operationManager:s}),this._usersModel=new Mn({operationManager:s,userService:n,sessionModel:this._sessionModel}),this._formulaOneOfficialModel=new Un({formulaOneOfficialDataService:i,operationManager:s}),this._racesModel=new Rn({formulaOneOfficialModel:this._formulaOneOfficialModel,raceInfoService:c,operationManager:s,timeWatcher:this._timeWatcher}),this._operationManager.runWithProgressAsync(Object(Tt.a)(kt.a.mark(function e(){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._formulaOneOfficialModel.fetchAll();case 2:return e.abrupt("return",r._racesModel.fetchRaces());case 3:case"end":return e.stop()}},e,this)}))),Object(o.when)(function(){return r.nextRace&&ce(r._timeWatcher.currentTime,r.nextRace.raceStartTime)},Object(Tt.a)(kt.a.mark(function e(){return kt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._racesModel.fetchRaces();case 2:case"end":return e.stop()}},e,this)})))}return Object(y.a)(e,[{key:"addNewBet",value:function(e){return this._racesModel.addNewBet(e)}},{key:"isUserAlreadyBet",get:function(){var e=this;return!!this._sessionModel.authenticatedUser&&(!!this.nextRace&&this.nextRace.bets.some(function(t){return t.userInfo.id===e._sessionModel.authenticatedUser.id}))}},{key:"races",get:function(){return this._racesModel.races}},{key:"racers",get:function(){return this._formulaOneOfficialModel.currentSeasonRacers}},{key:"isProduction",get:function(){return this._isProductionMode}},{key:"isBetsAllowed",get:function(){var e=this.nextRace&&this.nextRace.raceStartTime,t=this.nextRace&&this.nextRace.qualifyingStartTime;return!(!t||!e)&&(t&&e&&!function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"minute";return e=ae(e),t=ae(t),r=ae(r),e.isBetween(t,r,n)}(this.timeWatcher.currentTime,function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=ae(e)).subtract(t,r)}(t,Zn),e))}},{key:"isUserAuthenticated",get:function(){return this._sessionModel.isAuthenticated}},{key:"isUserAdmin",get:function(){return this._sessionModel.isCurrentUserAdmin}},{key:"nextRace",get:function(){return this._racesModel.nextRace}},{key:"authUserBets",get:function(){if(!this._sessionModel.authenticatedUser)return[];var e=[],t=this._sessionModel.authenticatedUser.id;return this.races.forEach(function(r){var n=r.bets,a=r.prettyTitle,c=r.roundId;if(n.some(function(e){return e.userInfo.id===t})){var i=n[n.findIndex(function(e){return e.userInfo.id===t})];e.push({raceId:c,title:a,bet:i.betsMap})}}),e}},{key:"session",get:function(){return this._sessionModel}},{key:"usersModel",get:function(){return this._usersModel}},{key:"timeWatcher",get:function(){return this._timeWatcher}},{key:"operationManager",get:function(){return this._operationManager}},{key:"formulaOneOfficial",get:function(){return this._formulaOneOfficialModel}}]),e}(),Object(S.a)(Tn.prototype,"isUserAlreadyBet",[o.computed],Object.getOwnPropertyDescriptor(Tn.prototype,"isUserAlreadyBet"),Tn.prototype),Object(S.a)(Tn.prototype,"races",[o.computed],Object.getOwnPropertyDescriptor(Tn.prototype,"races"),Tn.prototype),Object(S.a)(Tn.prototype,"racers",[o.computed],Object.getOwnPropertyDescriptor(Tn.prototype,"racers"),Tn.prototype),Object(S.a)(Tn.prototype,"isBetsAllowed",[o.computed],Object.getOwnPropertyDescriptor(Tn.prototype,"isBetsAllowed"),Tn.prototype),Object(S.a)(Tn.prototype,"authUserBets",[o.computed],Object.getOwnPropertyDescriptor(Tn.prototype,"authUserBets"),Tn.prototype),Tn),Pn=function(){function e(t){var r=t.configProvider;Object(O.a)(this,e);var n=function(e){var t=e.getUserStoreApiUrl(),r=e.getRaceStoreApiUrl(),n=e.getLocalStorageUserKey(),a=new fn,c=new Jr({userStoreApiUrl:t}),i=new Kr({raceInfoStoreApiUrl:r});return{userService:c,authenticationService:new $r({localStorageUserKey:n,userService:c,cryptoService:en}),raceInfoService:i,formulaOneOfficialDataService:new un({formulaOneOfficialDataRepository:a})}}(r),a=new An(n);this._stores=Yr(a)}return Object(y.a)(e,[{key:"getStores",value:function(){return this._stores}}]),e}(),Bn=Object(w.a)(Sn=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(a.a.Component))||Sn;Object(o.configure)({enforceActions:"strict"});var In=new Pn({configProvider:b}).getStores();i.a.render(a.a.createElement(u.a,In,a.a.createElement(s.a,null,a.a.createElement(Bn,null,a.a.createElement(Wt,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");l?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):p(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):p(e)})}}()},77:function(e,t,r){"use strict";var n=r(1);t.a=function e(t){var r=t.name,a=t.id;Object(n.a)(this,e),this.name=r,this.id=a}},95:function(e,t,r){"use strict";var n=r(1),a=r(5),c=r(9),i=r(7),s=r(8),o=r(146),u=r(77),l=r(400),p=r.n(l),f=r(401),h=r.n(f),d=function(e){function t(e){var r,a=e.season,s=e.raceName,l=e.raceUrl,p=e.circuit,f=e.roundSchedule,h=e.bets,d=void 0===h?[]:h,m=e.raceResults,b=void 0===m?{}:m;return Object(n.a)(this,t),(r=Object(c.a)(this,Object(i.a)(t).call(this,{season:a,raceName:s,raceUrl:l,circuit:p,roundSchedule:f}))).bets=d.map(function(e){var t=e.userInfo,r=t.name,n=t.id,a=e.betsMap;return new o.a({userInfo:new u.a({name:r,id:n}),betsMap:a})}),r.raceResults=b,r}return Object(s.a)(t,e),Object(a.a)(t,[{key:"raceStartTime",get:function(){return this.roundSchedule.race}},{key:"qualifyingStartTime",get:function(){return this.roundSchedule.qualification}},{key:"prettyTitle",get:function(){return p()(this.raceName).map(h.a).join(" ")}}]),t}(r(148).a);t.a=d}},[[410,7,6]]]);