(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{397:function(e,t,r){e.exports=r(767)},418:function(e,t,r){},420:function(e,t,r){},422:function(e,t,r){},426:function(e,t,r){},428:function(e,t,r){},430:function(e,t,r){},432:function(e,t,r){},434:function(e,t,r){},436:function(e,t,r){},443:function(e,t,r){},456:function(e,t,r){},458:function(e,t,r){},460:function(e,t,r){},462:function(e,t,r){},466:function(e,t,r){},468:function(e,t,r){},470:function(e,t,r){},472:function(e,t,r){},474:function(e,t,r){},476:function(e,t,r){},480:function(e,t,r){},482:function(e,t,r){},484:function(e,t,r){},486:function(e,t,r){},488:function(e,t,r){},490:function(e,t,r){},678:function(e,t,r){var a={"./ar":304,"./ar.js":304,"./az":305,"./az.js":305,"./be":306,"./be.js":306,"./bg":307,"./bg.js":307,"./bs":308,"./bs.js":308,"./ca":309,"./ca.js":309,"./cs":310,"./cs.js":310,"./cy":311,"./cy.js":311,"./da":312,"./da.js":312,"./de":313,"./de.js":313,"./el":314,"./el.js":314,"./en":180,"./en.js":180,"./es":315,"./es.js":315,"./et":316,"./et.js":316,"./eu":317,"./eu.js":317,"./fa":318,"./fa.js":318,"./fi":319,"./fi.js":319,"./fr":320,"./fr.js":320,"./hr":321,"./hr.js":321,"./hu":322,"./hu.js":322,"./id":323,"./id.js":323,"./it":324,"./it.js":324,"./ja":325,"./ja.js":325,"./ka":326,"./ka.js":326,"./ko":327,"./ko.js":327,"./lt":328,"./lt.js":328,"./lv":329,"./lv.js":329,"./mk":330,"./mk.js":330,"./mn":331,"./mn.js":331,"./ms":332,"./ms.js":332,"./nb_NO":333,"./nb_NO.js":333,"./nl":334,"./nl.js":334,"./pl":335,"./pl.js":335,"./pt":336,"./pt.js":336,"./pt_BR":337,"./pt_BR.js":337,"./ro":338,"./ro.js":338,"./ru":339,"./ru.js":339,"./sl":340,"./sl.js":340,"./sq":341,"./sq.js":341,"./sr":342,"./sr.js":342,"./sv":343,"./sv.js":343,"./tr":344,"./tr.js":344,"./ua":345,"./ua.js":345,"./uk":346,"./uk.js":346,"./vi":347,"./vi.js":347,"./zh":348,"./zh.js":348,"./zh_TW":349,"./zh_TW.js":349};function n(e){var t=c(e);return r(t)}function c(e){var t=a[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}n.keys=function(){return Object.keys(a)},n.resolve=c,e.exports=n,n.id=678},686:function(e,t){},688:function(e,t){},720:function(e,t){},721:function(e,t){},767:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(34),i=r.n(c),s=r(771),o=r(4),u=r(10),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var h={isProductionMode:function(){return!0},getUserStoreApiUrl:function(){return"https://api.myjson.com/bins/ei8zv"},getRaceStoreApiUrl:function(){return"https://api.myjson.com/bins/fp47f"},getLocalStorageUserKey:function(){return"f1betsappuserid"},getTickInterval:function(){return"1"}},m=r(90),f=r(140),d=r(141),b=(r(402),r(404),r(28)),v=r.n(b),O=r(147),g=r.n(O),y=r(200),j=r.n(y),w=r(201),_=r.n(w),E=r(202),k=r.n(E),S=r(204),N=r.n(S),T=r(205),x=r.n(T),R=r(206),M=r.n(R),U=r(207),A=r.n(U),P=r(208),I=r.n(P),B=r(209),C=r.n(B),D=r(219),Z=r.n(D),V=r(220),W=r.n(V),L=r(224),F=r.n(L),z=r(223),q=r.n(z),H=r(221),G=r.n(H),J=r(222),Y=r.n(J),K=r(216),$=r.n(K),Q=r(217),X=r.n(Q),ee=r(199),te=r.n(ee),re=r(225),ae=r.n(re),ne=r(226),ce=r.n(ne),ie=r(218),se=r.n(ie),oe=r(227),ue=r.n(oe),le=r(228),pe=r.n(le),he=r(229),me=r.n(he),fe=r(230),de=r.n(fe),be=r(231),ve=r.n(be);v.a.locale("ru"),m.c.add(f.a,d.a),m.a.watch();var Oe=r(1),ge=r(3),ye=r(6),je=r(5),we=r(7),_e=r(772),Ee=(r(418),r(420),r(11)),ke=r(16),Se=r(8),Ne=(r(31),r(422),r(46)),Te=r.n(Ne),xe=r(38);var Re=function e(t){var r=t.userInfo,a=t.betsMap;Object(Oe.a)(this,e),this.userInfo=r,this.betsMap=function(e){if(e instanceof Map){var t={},r=!0,a=!1,n=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var s=c.value,o=Object(xe.a)(s,2),u=o[0],l=o[1];l&&(t[u]=l)}}catch(p){a=!0,n=p}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}return t}return e}(a)},Me=function e(t){var r=t.name,a=t.id;Object(Oe.a)(this,e),this.name=r,this.id=a},Ue=r(145),Ae=r.n(Ue),Pe="-26bf-11e8-";function Ie(){return Ae()()+Ae()(Pe)}var Be=r(386),Ce=r.n(Be),De=r(387),Ze=r.n(De),Ve=function(){function e(t){var r=t.id,a=t.title,n=t.officialData,c=t.season,i=void 0===c?"2018":c,s=t.bets,o=void 0===s?[]:s;Object(Oe.a)(this,e),this.id=r||Ae()(),this.title=a,this.season=i,this.officialData=n,this.bets=o.map(function(e){var t=e.userInfo,r=t.name,a=t.id,n=e.betsMap;return new Re({userInfo:new Me({name:r,id:a}),betsMap:n})})}return Object(ge.a)(e,[{key:"raceStartTime",get:function(){return this.officialData.race.start}},{key:"qualifyingStartTime",get:function(){return this.officialData.qualifying.start}},{key:"location",get:function(){return this.officialData.location}},{key:"prettyTitle",get:function(){return Ce()(this.title).map(Ze.a).join(" ")}}],[{key:"fromJs",value:function(t){return new e({id:t.id,title:t.title,officialData:t.officialData,season:t.season,bets:t.bets})}}]),e}(),We=r(86);function Le(e){return v()(e).format("D MMMM YYYY, HH:mm")}function Fe(e){return v()(e).format("DD MMMM")}function ze(e){return v()(e).format("HH:mm")}function qe(e){return v()(e).format("D MMM YYYY")}function He(e){return e instanceof v.a?e:v()(e)}function Ge(e,t){return He(e).isAfter(He(t))}function Je(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=He(e)).add(t,r)}var Ye=function(){function e(t){Object(Oe.a)(this,e),this._date=t}return Object(ge.a)(e,[{key:"title",get:function(){return"\u0413\u043e\u043d\u043a\u0430"}},{key:"day",get:function(){return e=this._date,v()(e).format("ddd");var e}},{key:"timeInterval",get:function(){return this._date?"".concat(ze(this._date)):""}}]),e}(),Ke=function(e){function t(e,r){var a;return Object(Oe.a)(this,t),(a=Object(ye.a)(this,Object(je.a)(t).call(this,r)))._practiceNumber=e,a}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"title",get:function(){return"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 ".concat(this._practiceNumber)}},{key:"timeInterval",get:function(){return this._date?"".concat(ze(this._date)," - ").concat(ze(Je(this._date,3===this._practiceNumber?1:1.5,"hour"))):""}}]),t}(Ye),$e=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"title",get:function(){return"\u041a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"}},{key:"timeInterval",get:function(){return this._date?"".concat(ze(this._date)," - ").concat(ze(Je(this._date,1,"hour"))):""}}]),t}(Ye),Qe=function(){function e(t){Object(Oe.a)(this,e),this._roundInfo=t,this.racerStandings=[]}return Object(ge.a)(e,[{key:"addRacerStandings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.racerStandings=e,this}},{key:"_firstPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[0]||""}},{key:"_secondPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[1]||""}},{key:"_thirdPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[2]||""}},{key:"_qualificationStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.qualification:""}},{key:"raceStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.race:""}},{key:"countryName",get:function(){return this._roundInfo.circuit.countryName}},{key:"circuitUrl",get:function(){return this._roundInfo.circuit.url}},{key:"raceUrl",get:function(){return this._roundInfo.raceUrl}},{key:"flagUrl",get:function(){return Object(We.findFlagUrlByCountryName)(this.countryName)}},{key:"raceTitle",get:function(){return"Formula 1 ".concat(this._roundInfo.season," ").concat(this._roundInfo.raceName)}},{key:"practices",get:function(){return[new Ke(1,this._firstPracticeStartTime),new Ke(2,this._secondPracticeStartTime),new Ke(3,this._thirdPracticeStartTime)]}},{key:"qualification",get:function(){return new $e(this._qualificationStartTime)}},{key:"race",get:function(){return new Ye(this.raceStartTime)}},{key:"weekendInterval",get:function(){return"".concat(qe(this._firstPracticeStartTime)," - ").concat(qe(this.raceStartTime))}}]),e}(),Xe=(r(426),r(88)),et=(r(428),function(e){var t=e.className,r=e.children,a=Object(Xe.a)(e,["className","children"]);return n.a.createElement("a",Object.assign({className:Te()("text-link",t)},a),r)}),tt=(r(430),function(e){var t=e.className,r=void 0===t?"":t,a=e.countryName,c=e.flagUrl,i=e.countryUrl;return n.a.createElement("div",{className:"country-info ".concat(r)},n.a.createElement("div",{className:"country-info__flag"},n.a.createElement("img",{className:"country-info__flag-image",src:c,alt:a})),n.a.createElement(et,{href:i,target:"_blank",className:"country-info__country-name"},a))}),rt=(r(432),function(){function e(t,r,a,n){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";Object(Oe.a)(this,e),this.firstName=t,this.lastName=r,this.number=a,this.abbreviation=n,this.points=c,this.nationality=i,this.dateOfBirth=s}return Object(ge.a)(e,[{key:"name",get:function(){return"".concat(this.firstName," ").concat(this.lastName)}},{key:"shortName",get:function(){return"".concat(this.firstName[0],". ").concat(this.lastName)}},{key:"code",get:function(){return this.abbreviation}}],[{key:"create",value:function(t){var r=t.firstName,a=t.lastName,n=t.number,c=t.abbreviation,i=t.points;return new e(r,a,n,c,void 0===i?0:i,t.nationality,t.dateOfBirth)}}]),e}()),at=function(e){function t(e){var r=e.firstName,a=e.lastName,n=e.number,c=e.abbreviation,i=e.points,s=e.nationality;return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).call(this,r,a,n,c,i,s))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"flagUrl",get:function(){return Object(We.findFlagUrlByNationality)(this.nationality)}}]),t}(rt),nt=(r(434),function(e){var t=e.className,r=void 0===t?"":t,a=e.flagUrl,c=void 0===a?"":a,i=e.name,s=void 0===i?"":i,o=e.code;return n.a.createElement("div",{className:"racer-view ".concat(r),title:s},c&&n.a.createElement("img",{className:"racer-view__image",src:c,alt:s}),n.a.createElement("span",null,o))}),ct=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.racers,r=e.rowSize;return Array(t.length/r).fill(0).map(function(e,a){return t.slice(a*r,a*r+r)}).map(function(e,t){return n.a.createElement("div",{key:t,className:"racer-standings-widget__row"},e.map(function(e,a){return n.a.createElement("div",{className:"racer-standings-widget__racer",key:e.abbreviation},n.a.createElement("div",{className:"racer-standings-widget__racer-pos-number"},a+(t*r+1)),n.a.createElement(nt,{className:"racer-standings-widget__racer-name",code:e.abbreviation,name:e.name}))}))})}}]),t}(n.a.Component);ct.defaultProps={rowSize:20};var it=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.raceInfo,r=e.infoText,a=e.commandButton,c=t.flagUrl,i=t.countryName,s=t.raceTitle,o=t.weekendInterval,u=t.practices,l=t.qualification,p=t.race,h=t.circuitUrl,m=t.raceUrl,f=t.racerStandings;return n.a.createElement(j.a,{className:"race-info-panel"},n.a.createElement(_.a,null,n.a.createElement(k.a,{xs:12},n.a.createElement(tt,{className:"race-info-panel__country-info",countryName:i,flagUrl:c,countryUrl:h}),n.a.createElement(et,{target:"_blank",href:m,className:"race-info-panel__grand-prix-title"},s))),n.a.createElement(_.a,null,n.a.createElement(k.a,{className:"race-info-panel__weekend-interval"},o)),n.a.createElement(_.a,{className:"justify-content-around section race-info-panel__weekend-schedule"},n.a.createElement(k.a,{className:"race-info-panel__practice-list",md:5},u.map(function(e){var t=e.title,r=e.day,a=e.timeInterval;return n.a.createElement(_.a,{className:"race-info-panel__stage-info",key:t.split(" ").join("_")},n.a.createElement(k.a,{xs:5},t),n.a.createElement(k.a,{xs:2},r.toUpperCase()),n.a.createElement(k.a,null,a))})),n.a.createElement(k.a,{className:"race-info-panel__race-description",md:5},n.a.createElement(_.a,{className:"race-info-panel__stage-info"},n.a.createElement(k.a,{xs:5},l.title),n.a.createElement(k.a,{xs:2},l.day.toUpperCase()),n.a.createElement(k.a,null,l.timeInterval)),n.a.createElement(_.a,{className:"race-info-panel__stage-info"},n.a.createElement(k.a,{xs:5},p.title),n.a.createElement(k.a,{xs:2},p.day.toUpperCase()),n.a.createElement(k.a,null,p.timeInterval)))),f.length>0&&n.a.createElement(ct,{racers:f}),n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement(a,null))),n.a.createElement("hr",{className:"race-info-panel__underscore"}),r&&n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement(ue.a,{color:"muted"},r))))}}]),t}(n.a.Component);it.defaultProps={infoText:""};var st,ot,ut,lt=it,pt=(r(436),function(e){var t=e.className,r=e.onClick,a=e.disabled,c=e.children,i=e.size,s=Object(Xe.a)(e,["className","onClick","disabled","children","size"]);return n.a.createElement(g.a,Object.assign({className:"button button--primary ".concat(t),onClick:r,disabled:a,color:"primary",size:i},s),c)}),ht=(st=Object(u.b)(function(e){return{isBetsAllowed:e.homePageStore.isBetsAllowed,isUserAlreadyBet:e.homePageStore.isUserAlreadyBet,isAuthenticated:e.homePageStore.isAuthenticated}}),Object(_e.a)(ot=st(ot=Object(u.c)(ot=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n)))).handleBetButtonClick=function(){r.props.isBetsAllowed?r.props.history.push(fa.BETS):r.props.history.push(fa.RESULTS)},r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isBetsAllowed,r=e.isUserAlreadyBet,a=e.isAuthenticated,c="\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432";return c=t?a?r?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0412\u043e\u0439\u0442\u0438 \u0434\u043b\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f":"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432",n.a.createElement(pt,{onClick:this.handleBetButtonClick},c)}}]),t}(n.a.Component))||ot)||ot)||ot),mt=Object(u.b)("homePageStore")(ut=Object(_e.a)(ut=Object(u.c)(ut=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(c)))).handleShowMoreButtonClick=function(){r.props.history.push(fa.RESULTS)},r.showMoreButton=function(){return n.a.createElement(pt,{onClick:r.handleShowMoreButtonClick},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432")},r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this,t=this.props.homePageStore,r=t.nextRaceInfo,a=t.previousRaces,c=t.isBetsAllowed;return n.a.createElement("div",{className:"home-page"},n.a.createElement("section",{className:"colors--very-light-red section"},r&&n.a.createElement(lt,{raceInfo:r,commandButton:ht,infoText:c?"\u0421\u043f\u0435\u0448\u0438\u0442\u0435 \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043a\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0435\u0449\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f.":"\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f. \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0432\u0441\u0435\u043c \u043a\u0442\u043e \u043f\u0440\u0438\u043d\u044f\u043b \u0443\u0447\u0430\u0441\u0442\u0438\u0435."})),a.length>0&&n.a.createElement("section",{className:"section text-center"},"\u0420\u0430\u043d\u0435\u0435 \u0432 \u0441\u0435\u0440\u0438\u0430\u043b\u0435 :)"),a.map(function(t,r){var a=Te()("section",{"colors--very-light-green":r%2===0,"colors--light-gray":r%2!==0});return n.a.createElement("section",{key:t.countryName,className:a},n.a.createElement(lt,{raceInfo:t,commandButton:e.showMoreButton,infoText:"\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f. \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0432\u0441\u0435\u043c \u043a\u0442\u043e \u043f\u0440\u0438\u043d\u044f\u043b \u0443\u0447\u0430\u0441\u0442\u0438\u0435."}))}))}}]),t}(a.Component))||ut)||ut)||ut,ft=r(2),dt=r.n(ft),bt=r(9),vt=function(e){function t(e){var r,a=e.login,n=e.name,c=e.password,i=e.id,s=e.isAdmin,o=void 0!==s&&s,u=e.isTesting,l=void 0!==u&&u;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,{name:n,id:i}))).login=a,r.password=c,r.id=i||Ie(),r.isAdmin=o,r.isTesting=l,r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"toUserInfo",value:function(){return new Me(this)}}],[{key:"fromJs",value:function(e){var r=e.login,a=e.name,n=e.password,c=e.id,i=e.isAdmin;return new t({login:r,name:a,password:n,id:c,isAdmin:void 0!==i&&i})}}]),t}(Me),Ot=r(89);r(443);function gt(e){var t=e.firstName,r=e.lastName;return"".concat(t," ").concat(r.toUpperCase())}var yt=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n)))).handleSelect=function(e){var t=r.props,a=t.pos;(0,t.onSelect)(e?e.value:null,a)},r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,r=e.racerList,a=e.placeholder,c=function(e){return e.map(function(e){return{label:gt(e),value:e}})}(r);return n.a.createElement(Ot.a,{className:"racers-select",value:t,options:c,placeholder:a,searchable:!1,valueRenderer:gt,optionClassName:"racers-select__option",onChange:this.handleSelect})}}]),t}(n.a.Component);yt.defaultProps={value:null,placeholder:""};var jt,wt,_t,Et,kt,St,Nt=yt,Tt=(jt=function(){function e(t){var r=this,a=t.racers,n=t.onSave,c=t.initData,i=void 0===c?{}:c,s=t.gridPositionsCount,o=void 0===s?10:s;Object(Oe.a)(this,e),Object(Ee.a)(this,"_map",wt,this),Object(Ee.a)(this,"handleSelect",_t,this),this.handleSubmit=function(){return r._onSave(r.gridMapAsJS)},this._initMap(a,i,o),this._racers=a,this._onSave=n}return Object(ge.a)(e,[{key:"_initMap",value:function(e,t,r){var a=this;Array(r).fill(null).forEach(function(r,n){var c=e.find(function(e){return e.abbreviation===t[n+1]});a.handleSelect(c||null,n+1)})}},{key:"gridMapAsJS",get:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,c=this._map[Symbol.iterator]();!(t=(n=c.next()).done);t=!0){var i=n.value,s=Object(xe.a)(i,2),o=s[0],u=s[1];u&&(e[o]=u.abbreviation)}}catch(l){r=!0,a=l}finally{try{t||null==c.return||c.return()}finally{if(r)throw a}}return e}},{key:"tableData",get:function(){return Array.from(this._map).map(function(e){var t=Object(xe.a)(e,2);return{pos:t[0],racer:t[1]}})}},{key:"availableRacers",get:function(){var e=this;return this._racers.filter(function(t){var r=t.name;return!e.tableData.filter(function(e){var t=e.racer;return Boolean(t)}).some(function(e){return e.racer.name===r})})}}]),e}(),wt=Object(Se.a)(jt.prototype,"_map",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(Se.a)(jt.prototype,"gridMapAsJS",[o.computed],Object.getOwnPropertyDescriptor(jt.prototype,"gridMapAsJS"),jt.prototype),Object(Se.a)(jt.prototype,"tableData",[o.computed],Object.getOwnPropertyDescriptor(jt.prototype,"tableData"),jt.prototype),Object(Se.a)(jt.prototype,"availableRacers",[o.computed],Object.getOwnPropertyDescriptor(jt.prototype,"availableRacers"),jt.prototype),_t=Object(Se.a)(jt.prototype,"handleSelect",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e._map.set(r,t)}}}),Object(Se.a)(jt.prototype,"_initMap",[o.action],Object.getOwnPropertyDescriptor(jt.prototype,"_initMap"),jt.prototype),jt),xt=Object(u.c)((St=kt=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e)))._grid=new Tt(e),r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.placeholder,a=t.submitButtonText;return n.a.createElement(N.a,{tag:"div"},n.a.createElement(I.a,{striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"text-center"},"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"),n.a.createElement("th",null,"\u041f\u0438\u043b\u043e\u0442"))),n.a.createElement("tbody",null,this._grid.tableData.map(function(t){var a=t.pos,c=t.racer;return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"text-center"},a),n.a.createElement("td",{style:{width:"85%"}},n.a.createElement(Nt,{value:c,racerList:e._grid.availableRacers,onSelect:e._grid.handleSelect,pos:Number(a),placeholder:r})))}))),n.a.createElement(x.a,null,n.a.createElement(pt,{onClick:this._grid.handleSubmit},a)))}}]),t}(n.a.Component),kt.defaultProps={placeholder:"",submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",gridPositionsCount:10,initData:{}},Et=St))||Et,Rt=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n)))).handleSave=function(){var e=Object(bt.a)(dt.a.mark(function e(t){var a,n,c,i;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props,n=a.user,c=a.onBetsSubmit,i=new Re({userInfo:n.toUserInfo(),betsMap:t}),e.next=4,c(i);case 4:r.goToResultsPage();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){return n.a.createElement(xt,{racers:this.props.racers,initData:this.props.userBet,placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0412\u0430\u0448 \u043f\u0440\u043e\u0433\u043d\u043e\u0437",submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437",gridPositionsCount:10,onSave:this.handleSave})}},{key:"goToResultsPage",value:function(){this.props.history.push(fa.RESULTS)}}]),t}(a.Component),Mt=Object(_e.a)(Rt),Ut=Object(u.b)("betPageStore")(Object(u.c)(function(e){var t=e.betPageStore,r=t.racers,a=t.currentUser,c=t.userBet,i=t.onBetsSubmit,s=t.isBetsAllowed,o=t.nextRaceTitle;return n.a.createElement(j.a,null,n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement("h1",{className:"page-title"},s?"\u0414\u0435\u043b\u0430\u0439\u0442\u0435 \u0412\u0430\u0448\u0438 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b!":"\u041f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f."))),n.a.createElement(_.a,null,n.a.createElement(k.a,null,s?n.a.createElement(Mt,{racers:r,user:a,userBet:c,onBetsSubmit:i}):n.a.createElement("div",{className:"alert alert-warning",role:"alert"},"\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 ",o," \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f.",n.a.createElement("br",null),"\u041d\u043e\u0432\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0443\u044e \u0433\u043e\u043d\u043a\u0443 \u0443 \u0412\u0430\u0441 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043d\u0430\u0447\u0430\u043b\u0430 \u044d\u0442\u043e\u0439."))))})),At=function(){function e(){Object(Oe.a)(this,e),this._score=[]}return Object(ge.a)(e,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._score.push(e)}},{key:"getPointsAt",value:function(e){return this._score[e]}},{key:"value",get:function(){return this._score.reduce(function(e,t){return e+t},0)}},{key:"tooltip",get:function(){return this._score.join("-")}}]),e}();function Pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new At;return t?function(e,t){var r=new At,a=t.slice(0,10);return e.forEach(function(e,n){if(e){var c=t.findIndex(function(t){return t===e}),i=Math.abs(c-n),s=a.some(function(t){return t===e}),o=i<5?10-2*i:s?2:0;r.add(o)}else r.add(0)}),r}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Array(t).fill(null).map(function(t,r){return e[r+1]?e[r+1]:""})}(e),Object.values(t)):r}var It=function(e){function t(e){var r,a=e.userName,n=e.userId,c=e.userBetsMap,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,{name:a,id:n}))).userPoll=c,r.userScore=Pt(c,i),r}return Object(we.a)(t,e),Object(ge.a)(t,null,[{key:"createOfficialResults",value:function(e){return new t({userName:"Formula 1 (Official)",userId:"official-results",userBetsMap:e})}}]),t}(Me),Bt=function(e){var t=e.hasRaceResults;return n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",{className:"text-uppercase"},n.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),n.a.createElement("th",{className:"text-center"},"1"),n.a.createElement("th",{className:"text-center"},"2"),n.a.createElement("th",{className:"text-center"},"3"),n.a.createElement("th",{className:"text-center"},"4"),n.a.createElement("th",{className:"text-center"},"5"),n.a.createElement("th",{className:"text-center"},"6"),n.a.createElement("th",{className:"text-center"},"7"),n.a.createElement("th",{className:"text-center"},"8"),n.a.createElement("th",{className:"text-center"},"9"),n.a.createElement("th",{className:"text-center"},"10"),t&&n.a.createElement("th",{className:"text-center"},"PTS")))},Ct=(r(456),function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,r=e.points,a=e.isBadgeVisible,c=Te()("polling-result-cell",{"text-success":a&&10===r,"text-warning":a&&r>0&&r<10,"text-secondary text--line-through":a&&0===r});return n.a.createElement("div",{className:c},t,a&&t&&n.a.createElement(te.a,{className:"polling-result-cell__badge",color:"light",pill:!0},r))}}]),t}(n.a.Component));Ct.defaultProps={points:0,isBadgeVisible:!1,text:""};var Dt=Ct,Zt=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userPollData,r=e.isCurrentUserRow,a=void 0!==r&&r,c=e.hasRaceResults,i=void 0!==c&&c,s=e.isOfficialResultsRow,o=void 0!==s&&s,u=t.id,l=t.name,p=t.userPoll,h=t.userScore,m=Te()({"table-info":a,"table-success":o,"font-weight-bold":o});return n.a.createElement("tr",{className:m},n.a.createElement("td",null,l),Array(10).fill(1).map(function(e,t){return n.a.createElement("td",{key:u+t,className:"text-center"},n.a.createElement(Dt,{points:h.getPointsAt(t),text:p[t+1],isBadgeVisible:i&&!o}))}),i&&n.a.createElement("td",{className:"text-center"},n.a.createElement("span",{title:h.tooltip},!o&&h.value)))}}]),t}(n.a.Component),Vt=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rows,r=e.currentUser,a=e.hasRaceResults;return n.a.createElement(I.a,{size:"sm",responsive:!0},n.a.createElement(Bt,{hasRaceResults:a}),n.a.createElement("tbody",null,t.map(function(e){return n.a.createElement(Zt,{userPollData:e,key:e.id,isOfficialResultsRow:"official-results"===e.id,isCurrentUserRow:r&&r.id===e.id,hasRaceResults:a})})))}}]),t}(n.a.Component);Vt.defaultProps={rows:[],currentUser:null,hasRaceResults:!1};var Wt,Lt,Ft,zt,qt,Ht,Gt=Vt,Jt=(r(458),r(72)),Yt=r(62),Kt=r(42),$t=r(87),Qt=r.n($t),Xt=function(){function e(t){var r=this,a=t.race,n=t.racers,c=void 0===n?[]:n;Object(Oe.a)(this,e),this._officialResults=null,this._officialResultsBetMap=null,this.raceId=a.id,this.raceTitle=a.prettyTitle,c.length>0&&(this._officialResultsBetMap=this._convertToBetMap(c),this._officialResults=It.createOfficialResults(this._officialResultsBetMap)),this._userVotes=a.bets.map(function(e){return new It({userName:e.userInfo.name,userId:e.userInfo.id,userBetsMap:e.betsMap},r._officialResultsBetMap)})}return Object(ge.a)(e,[{key:"_convertToBetMap",value:function(e){return e.reduce(function(e,t,r){return Object(Kt.a)({},e,Object(Yt.a)({},r+1,t.abbreviation))},{})}},{key:"hasOfficialResults",get:function(){return null!==this._officialResults}},{key:"userBetsResults",get:function(){if(this.hasOfficialResults){var e=Qt()(this._userVotes,function(e){return-e.userScore.value});return[this._officialResults].concat(Object(Jt.a)(e))}return Object(Jt.a)(this._userVotes)}},{key:"userVotes",get:function(){return this._userVotes}}]),e}(),er=(r(460),function(e){var t=e.children;return n.a.createElement("span",{className:"pseudo-link"},t)}),tr=(r(462),r(143)),rr=(r(466),function(e){var t=e.direction,r=void 0===t?"down":t,a=e.className,c=void 0===a?"":a,i=Te()("chevron-icon","chevron-icon--".concat(r),c);return n.a.createElement(tr.a,{className:i,icon:f.a})}),ar=Object(u.c)((Lt=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n))),Object(Ee.a)(r,"_isOpen",Ft,Object(ke.a)(Object(ke.a)(r))),Object(Ee.a)(r,"_toggle",zt,Object(ke.a)(Object(ke.a)(r))),r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props.usersVotes,t=void 0===e?[]:e,r=Qt()(t,function(e){return-e.totalPoints});return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"results-page__race-header",onClick:this._toggle},n.a.createElement(er,null,"\u0421\u0432\u043e\u0434\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f"," ",n.a.createElement(rr,{direction:this._isOpen?"top":"down"}))),n.a.createElement(C.a,{isOpen:this._isOpen},n.a.createElement(I.a,{className:"user-standings-table",size:"sm",responsive:!0},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",{className:"text-uppercase"},n.a.createElement("th",{className:"user-standings-table__pos-column"},"\u041f\u043e\u0437"),n.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),n.a.createElement("th",{className:"text-right"},"\u043e\u0447\u043a\u0438"))),n.a.createElement("tbody",null,r.map(function(e,t){return n.a.createElement("tr",{key:e.userId},n.a.createElement("td",{className:"user-standings-table__pos-column"},t+1),n.a.createElement("td",null,e.userName),n.a.createElement("td",{className:"text-right"},e.totalPoints))})))))}}]),t}(n.a.Component),Ft=Object(Se.a)(Lt.prototype,"_isOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zt=Object(Se.a)(Lt.prototype,"_toggle",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._isOpen=!e._isOpen}}}),Wt=Lt))||Wt,nr=function e(t){var r=t.userId,a=t.userName,n=t.totalPoints,c=void 0===n?0:n;Object(Oe.a)(this,e),this.userId=r,this.userName=a,this.totalPoints=c},cr=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,r=e.raceResultsWithBets,a=e.userStandings;return n.a.createElement(j.a,{tag:"section",className:"results-page"},n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement(ar,{usersVotes:a}))),r.reverse().map(function(e){var r=e.raceId,a=e.raceTitle,c=e.hasOfficialResults,i=e.userBetsResults;return 0===i.length?null:n.a.createElement(_.a,{key:r},n.a.createElement(k.a,null,n.a.createElement("h2",{className:"results-page__race-header"},a),n.a.createElement(Gt,{rows:i,currentUser:t,hasRaceResults:c})))}))}}]),t}(n.a.Component),ir=Object(u.b)(function(e){return{currentUser:e.resultsPageStore.authenticatedUser,raceResultsWithBets:e.resultsPageStore.raceResultsWithBets,userStandings:e.resultsPageStore.userStandings}})(Object(u.c)(cr)),sr=function e(t){var r=t.racerId,a=t.racerFullName,n=t.racerPoints,c=t.racerUrl,i=t.racerNumber,s=t.racerNationality,o=t.constructorName,u=t.constructorUrl;Object(Oe.a)(this,e),this.racerId=r,this.racerFullName=a,this.racerUrl=c,this.racerPoints=n,this.racerNumber=i,this.racerNationality=s,this.constructorUrl=u,this.constructorName=o},or=(r(468),function(e){var t=e.text,r=e.url,a=e.nationality;return n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:r},n.a.createElement("img",{className:"nationalized-link__flag",src:Object(We.findFlagUrlByNationality)(a),alt:a}),n.a.createElement("span",null,t))}),ur=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props.racers;return n.a.createElement(I.a,{responsive:!0},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",{className:"text-uppercase"},n.a.createElement("th",null,"\u043f\u043e\u0437"),n.a.createElement("th",{className:"text-right"},"\u041d\u043e\u043c"),n.a.createElement("th",{className:"text-left"},"\u0413\u043e\u043d\u0449\u0438\u043a"),n.a.createElement("th",{className:"text-left"},"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"),n.a.createElement("th",null,"\u041e\u0447\u043a\u0438"))),n.a.createElement("tbody",null,e.map(function(e,t){var r=e.racerFullName,a=e.racerUrl,c=e.racerId,i=e.racerNumber,s=e.constructorName,o=e.constructorUrl,u=e.racerPoints,l=e.racerNationality;return n.a.createElement("tr",{key:c},n.a.createElement("td",null,t+1),n.a.createElement("td",{className:"text-right"},i),n.a.createElement("td",null,n.a.createElement(or,{text:r,url:a,nationality:l})),n.a.createElement("td",null,n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o},s)),n.a.createElement("td",null,u))})))}}]),t}(n.a.Component),lr=Object(u.b)(function(e){return{racerStandingList:e.racerStandingsPageStore.racerStandingList}})(qt=Object(u.c)(qt=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props.racerStandingList;return n.a.createElement(j.a,null,n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement("h1",{className:"page-title"},"\u0422\u0443\u0440\u043d\u0438\u0440\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0438\u043b\u043e\u0442\u043e\u0432 \u0441\u0435\u0437\u043e\u043d\u0430 2018"),n.a.createElement(ur,{racers:e.slice()}))))}}]),t}(n.a.Component))||qt)||qt,pr=function e(t){var r=t.pos,a=t.name,n=t.id,c=t.points,i=t.url,s=t.nationality;Object(Oe.a)(this,e),this.pos=r,this.name=a,this.id=n,this.points=c,this.url=i,this.nationality=s},hr=(r(470),function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){return n.a.createElement(I.a,{responsive:!0},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",{className:"text-uppercase"},n.a.createElement("th",null,"\u041f\u043e\u0437"),n.a.createElement("th",null),n.a.createElement("th",{className:"text-left"},"\u041a\u043e\u043c\u0430\u043d\u0434\u0430"),n.a.createElement("th",null,"\u041e\u0447\u043a\u0438"))),n.a.createElement("tbody",null,this.props.teams.map(function(e){var t=e.pos,r=e.name,a=e.url,c=e.id,i=e.points,s=e.nationality;return n.a.createElement("tr",{key:c},n.a.createElement("td",null,t),n.a.createElement("td",{className:"text-right"},n.a.createElement("img",{className:"team-car-photo",src:"/images/cars/"+c+".jpg",alt:r})),n.a.createElement("td",null,n.a.createElement(or,{text:r,nationality:s,url:a})),n.a.createElement("td",null,i))})))}}]),t}(n.a.Component)),mr=Object(u.b)(function(e){return{teamsStandingList:e.teamsStandingsPageStore.teamsStandingList}})(Ht=Object(u.c)(Ht=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){return n.a.createElement(j.a,null,n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement("h1",{className:"page-title"},"\u0422\u0443\u0440\u043d\u0438\u0440\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043a\u043e\u043c\u0430\u043d\u0434 \u0441\u0435\u0437\u043e\u043d\u0430 2018"),n.a.createElement(hr,{teams:this.props.teamsStandingList.slice()}))))}}]),t}(n.a.Component))||Ht)||Ht,fr=(r(472),function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n)))).handleSelect=function(e){r.props.onSelect(e)},r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,r=e.raceList;return n.a.createElement(Ot.a,{value:t,labelKey:"title",options:r,searchable:!1,onChange:this.handleSelect})}}]),t}(n.a.Component));fr.defaultProps={value:null};var dr,br,vr,Or,gr,yr,jr,wr,_r,Er,kr,Sr,Nr,Tr,xr,Rr,Mr,Ur,Ar,Pr,Ir,Br,Cr,Dr,Zr,Vr,Wr,Lr=fr,Fr=Object(u.b)(function(e){return{onBetsSubmit:e.adminPageStore.racesSectionStore.addNewBet,racers:e.adminPageStore.racesSectionStore.racers,users:e.adminPageStore.racesSectionStore.users}})(dr=Object(u.c)((br=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n))),Object(Ee.a)(r,"_isDialogOpen",vr,Object(ke.a)(Object(ke.a)(r))),Object(Ee.a)(r,"_selectedUser",Or,Object(ke.a)(Object(ke.a)(r))),Object(Ee.a)(r,"handleSubmit",gr,Object(ke.a)(Object(ke.a)(r))),Object(Ee.a)(r,"handleToggleDialog",yr,Object(ke.a)(Object(ke.a)(r))),Object(Ee.a)(r,"handleUserSelect",jr,Object(ke.a)(Object(ke.a)(r))),r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.race,r=e.users,a=e.racers;return n.a.createElement(n.a.Fragment,null,n.a.createElement(pt,{onClick:this.handleToggleDialog},"Add bet"),this._isDialogOpen&&n.a.createElement(me.a,{isOpen:!0},n.a.createElement(de.a,null,"\u0413\u043e\u043b\u043e\u0432\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f (",t.title,")"),n.a.createElement(ve.a,null,n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{htmlFor:"users_select"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),n.a.createElement(Ot.a,{name:"users_select",value:this._selectedUser,labelKey:"name",options:r.slice(),searchable:!1,onChange:this.handleUserSelect})),n.a.createElement(x.a,null,n.a.createElement(xt,{racers:a,onSave:this.handleSubmit}))))))}}]),t}(n.a.Component),vr=Object(Se.a)(br.prototype,"_isDialogOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Or=Object(Se.a)(br.prototype,"_selectedUser",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gr=Object(Se.a)(br.prototype,"handleSubmit",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(bt.a)(dt.a.mark(function t(r){var a;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._selectedUser){t.next=3;break}return alert("\u0412\u044b\u0431\u0435\u0440\u0438 \u042e\u0437\u0435\u0440\u0430!!!"),t.abrupt("return");case 3:return a=new Re({userInfo:e._selectedUser.toUserInfo(),betsMap:r}),t.next=6,e.props.onBetsSubmit(a);case 6:e.handleToggleDialog();case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),yr=Object(Se.a)(br.prototype,"handleToggleDialog",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._isDialogOpen=!e._isDialogOpen}}}),jr=Object(Se.a)(br.prototype,"handleUserSelect",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e._selectedUser=t}}}),dr=br))||dr)||dr,zr=Object(u.b)(function(e){return{racesSectionStore:e.adminPageStore.racesSectionStore}})(wr=Object(u.c)(wr=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n)))).handleAddNewRace=function(){},r.handleAddRaceResults=function(){r.props.racesSectionStore.showRaceResultsPanel()},r.handleInitRacesCollection=function(){r.props.racesSectionStore.initRacesCollection()},r.handleGridSelectorSave=function(){var e=Object(bt.a)(dt.a.mark(function e(t){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.racesSectionStore.addOrUpdateRaceResults(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r.handleRaceSelect=function(e){r.props.racesSectionStore.selectedRace=e},r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props.racesSectionStore,t=e.storeApiUrl,r=e.isRaceResultsPanelVisible,a=e.selectedRace,c=e.races,i=e.racers;return n.a.createElement("section",{style:{marginTop:"10px"}},n.a.createElement(_.a,null,n.a.createElement(k.a,{className:"command-buttons-container"},n.a.createElement(g.a,{size:"sm",color:"info",className:"command-button",disabled:!0,onClick:this.handleInitRacesCollection},"Init Races"),n.a.createElement(g.a,{size:"sm",color:"info",className:"command-button",onClick:this.handleAddNewRace},"Add New Race"),n.a.createElement(g.a,{size:"sm",color:"info",className:"command-button",onClick:this.handleAddRaceResults},"Add Race Results"))),r&&[n.a.createElement(_.a,{key:1},n.a.createElement(k.a,{md:2},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u043d\u043a\u0443:"),n.a.createElement(k.a,null,n.a.createElement(Lr,{value:a,onSelect:this.handleRaceSelect,raceList:c.slice()}))),n.a.createElement(_.a,{key:2},n.a.createElement(k.a,null,n.a.createElement(xt,{racers:i.slice(),onSave:this.handleGridSelectorSave})))],n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement(I.a,{bordered:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\u2116"),n.a.createElement("th",null,"Title"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bets"),n.a.createElement("th",null,"Commands"))),n.a.createElement("tbody",null,c.map(function(e,t){var r=e.title,a=e.raceStartTime,c=e.qualifyingStartTime,i=e.bets;return n.a.createElement("tr",{key:r},n.a.createElement("td",null,t+1),n.a.createElement("td",null,r),n.a.createElement("td",null,n.a.createElement("div",null,"Qual: ",Le(c)),n.a.createElement("div",null,"Race: ",Le(a))),n.a.createElement("td",null,"We have ",i.length," bets"),n.a.createElement("td",null,n.a.createElement(Fr,{race:e})))}))))),n.a.createElement(_.a,null,n.a.createElement(k.a,null,"Details:"," ",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t},t))))}}]),t}(a.Component))||wr)||wr,qr=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n)))).handleOkClick=function(){var e=r.props.user,t=new vt({id:e&&e.id||void 0,login:r._userLoginInput.value,name:r._userNameInput.value,password:r._userPasswordInput.value,isAdmin:r._userIsAdminInput.checked});r.props.onSubmit(t)},r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.user;if(t){var r=t.login,a=t.name,n=t.password,c=t.isAdmin;this._userLoginInput.value=r,this._userNameInput.value=a,this._userPasswordInput.value=n,this._userIsAdminInput.checked=c}}},{key:"render",value:function(){var e=this;return n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement(N.a,{tag:"div",className:"user-form"},n.a.createElement(x.a,null,n.a.createElement(A.a,{for:"login",className:"user-form__label"},"Login"),n.a.createElement(M.a,{className:"user-form__input",type:"text",name:"login",id:"login",placeholder:"Login",innerRef:function(t){e._userLoginInput=t}})),n.a.createElement(x.a,null,n.a.createElement(A.a,{for:"name",className:"user-form__label"},"\u0418\u043c\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430"),n.a.createElement(M.a,{className:"user-form__input",type:"text",name:"name",id:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448\u0435 \u0438\u043c\u044f",innerRef:function(t){e._userNameInput=t}})),n.a.createElement(x.a,{className:"user-form"},n.a.createElement(A.a,{for:"password",className:"user-form__label"},"\u041f\u0430\u0440\u043e\u043b\u044c"),n.a.createElement(M.a,{className:"user-form__input user-form__input--password",type:"password",name:"password",id:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",innerRef:function(t){e._userPasswordInput=t}})),n.a.createElement(x.a,{check:!0},n.a.createElement(A.a,{check:!0},n.a.createElement(M.a,{type:"checkbox",innerRef:function(t){e._userIsAdminInput=t}})," ","Check me out")),n.a.createElement(x.a,null,n.a.createElement("button",{className:"btn btn-default user-form__button",onClick:this.handleOkClick},"OK")))))}}]),t}(n.a.Component),Hr=Object(u.b)(function(e){return{usersSectionStore:e.adminPageStore.usersSectionStore}})(_r=Object(u.c)(_r=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n)))).handleInitUsersCollection=Object(bt.a)(dt.a.mark(function e(){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.props.usersSectionStore.fetchUsers();case 1:case"end":return e.stop()}},e,this)})),r.handleAddNewUser=function(){r._toggleForm(!0)},r.handleEditUser=function(e){var t=r.props.usersSectionStore,a=t.users;(0,t.setUserForEdit)(a.find(function(t){return t.id===e})||null)},r.handleUserFormSubmit=function(){var e=Object(bt.a)(dt.a.mark(function e(t){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.usersSectionStore.addOrUpdate(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"_toggleForm",value:function(e){this.props.usersSectionStore.toggleUserForm(e)}},{key:"render",value:function(){var e=this,t=this.props.usersSectionStore,r=t.isUserFormVisible,a=t.storeApiUrl,c=t.userForEdit,i=t.users,s=t.deleteUser;return n.a.createElement("section",{style:{marginTop:"10px"}},r&&n.a.createElement(qr,{onSubmit:this.handleUserFormSubmit,user:c}),n.a.createElement(_.a,null,n.a.createElement(k.a,{className:"command-buttons-container"},n.a.createElement(g.a,{size:"sm",color:"info",className:"command-button",disabled:!0,onClick:this.handleInitUsersCollection},"Init User's Col"),n.a.createElement(g.a,{size:"sm",color:"info",className:"command-button",onClick:this.handleAddNewUser},"Add New User"))),n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement(I.a,{bordered:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User Name"),n.a.createElement("th",null,"Login"),n.a.createElement("th",null,"isAdmin"),n.a.createElement("th",null,"isTesting"),n.a.createElement("th",null,"Action"))),n.a.createElement("tbody",null,i.map(function(t){var r=t.id,a=t.name,c=t.login,i=t.isAdmin,o=t.isTesting;return n.a.createElement("tr",{key:r},n.a.createElement("td",{title:r},a),n.a.createElement("td",null,c),n.a.createElement("td",null,n.a.createElement("div",null,n.a.createElement("input",{type:"checkbox",checked:i,readOnly:!0}))),n.a.createElement("td",null,n.a.createElement("input",{type:"checkbox",checked:o,readOnly:!0})),n.a.createElement("td",null,n.a.createElement(g.a,{onClick:function(){return e.handleEditUser(r)}},"edit"),n.a.createElement(g.a,{onClick:function(){s(r)}},"delete")))}))))),n.a.createElement(_.a,null,n.a.createElement(k.a,null,"Details:"," ",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a},a))))}}]),t}(a.Component))||_r)||_r,Gr=Object(u.b)(function(e){return{usersCount:e.adminPageStore.usersSectionStore.users.length}})(Er=Object(u.c)((kr=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n))),Object(Ee.a)(r,"activeTab",Sr,Object(ke.a)(Object(ke.a)(r))),Object(Ee.a)(r,"toggle",Nr,Object(ke.a)(Object(ke.a)(r))),r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this,t=this.props.usersCount;return n.a.createElement("div",null,n.a.createElement($.a,{tabs:!0},n.a.createElement(X.a,null,n.a.createElement(se.a,{className:"".concat("1"===this.activeTab?"active":""),onClick:function(){e.toggle("1")}},"Races")),n.a.createElement(X.a,null,n.a.createElement(se.a,{className:"".concat("2"===this.activeTab?"active":""),onClick:function(){e.toggle("2")}},"Users"," ",n.a.createElement(te.a,{color:"secondary",pill:!0},t)))),n.a.createElement(ae.a,{activeTab:this.activeTab},n.a.createElement(ce.a,{tabId:"1"},n.a.createElement(_.a,{style:{marginTop:"1rem"}},n.a.createElement(k.a,{sm:"12"},n.a.createElement("h4",null,"Races details"),n.a.createElement(zr,null)))),n.a.createElement(ce.a,{tabId:"2"},n.a.createElement(_.a,{style:{marginTop:"1rem"}},n.a.createElement(k.a,{sm:"12"},n.a.createElement("h4",null,"Users Details"),n.a.createElement(Hr,null))))))}}]),t}(a.Component),Sr=Object(Se.a)(kr.prototype,"activeTab",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1"}}),Nr=Object(Se.a)(kr.prototype,"toggle",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.activeTab!==t&&(e.activeTab=t)}}}),Er=kr))||Er)||Er,Jr=Object(u.c)(Tr=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){return n.a.createElement(j.a,{tag:"section"},n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement("h1",{className:"page-title"},"Admin Page"))),n.a.createElement(Gr,null))}}]),t}(n.a.Component))||Tr,Yr=r(770),Kr={LOGIN:"login",PASSWORD:"password"},$r=Object(Kt.a)({},Kr,{NAME:"name"}),Qr=(xr={},Object(Yt.a)(xr,Kr.LOGIN,{name:Kr.LOGIN,label:"\u041b\u043e\u0433\u0438\u043d",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, superman",rules:"required|string|alpha_num|between:2,15"}),Object(Yt.a)(xr,Kr.PASSWORD,{name:Kr.PASSWORD,label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, ******",rules:"required|string|alpha_num|between:5,15"}),xr),Xr=Object(Kt.a)({},Qr,Object(Yt.a)({},$r.NAME,{name:$r.NAME,label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, John Doe",rules:"required|string|between:3,25"})),ea=Object(u.c)(function(e){var t=e.form,r=t.$(Kr.LOGIN),a=r.error,c=Boolean(a),i=t.$(Kr.PASSWORD),s=i.error,o=Boolean(s);return n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{htmlFor:r.id},r.label),n.a.createElement(M.a,Object.assign({},r.bind(),{invalid:c,valid:r.isDirty&&!c})),n.a.createElement(pe.a,{valid:!c},r.error)),n.a.createElement(x.a,null,n.a.createElement(A.a,{htmlFor:i.id},i.label),n.a.createElement(M.a,Object.assign({},i.bind({type:"password"}),{invalid:o,valid:i.isDirty&&!o})),n.a.createElement(pe.a,{valid:!o},s)),n.a.createElement(g.a,{color:"primary",type:"submit",onClick:t.onSubmit,disabled:t.isEmpty||!t.isValid,style:{width:"100%"}},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),ta=Object(u.c)(function(e){var t=e.form,r=t.$($r.NAME),a=r.error,c=Boolean(a),i=t.$($r.LOGIN),s=i.error,o=Boolean(s),u=t.$($r.PASSWORD),l=u.error,p=Boolean(l);return n.a.createElement(N.a,null,n.a.createElement(x.a,null,n.a.createElement(A.a,{htmlFor:r.id},r.label),n.a.createElement(M.a,Object.assign({},r.bind(),{invalid:c,valid:r.isDirty&&!c})),n.a.createElement(pe.a,{valid:!c},a)),n.a.createElement(x.a,null,n.a.createElement(A.a,{htmlFor:i.id},i.label),n.a.createElement(M.a,Object.assign({},i.bind(),{invalid:o,valid:i.isDirty&&!o})),n.a.createElement(pe.a,{valid:!o},s)),n.a.createElement(x.a,null,n.a.createElement(A.a,{htmlFor:u.id},u.label),n.a.createElement(M.a,Object.assign({},u.bind({type:"password"}),{invalid:p,valid:u.isDirty&&!p})),n.a.createElement(pe.a,{valid:!p},l),n.a.createElement(ue.a,{color:"muted"},"\u0412\u0410\u0416\u041d\u041e! \u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u0412\u0430\u0448\u0438 \u043f\u0430\u0440\u043e\u043b\u0438 \u043e\u0442 \u0431\u0430\u043d\u043a\u043e\u0432\u043a\u0438\u0445 \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0430\u043a\u0430\u0443\u043d\u0442\u043e\u0432. ",n.a.createElement("br",null),"\u042d\u0442\u043e\u0442 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043a\u0430\u043a-\u0442\u043e \u043e\u0441\u043e\u0431\u043e \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0435\u0433\u043e \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u043b\u043e\u0443\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u0438\u043a\u0438. ",n.a.createElement("br",null),"\u041d\u0443, \u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b \u0435\u0441\u043b\u0438 \u0447\u0442\u043e :)")),n.a.createElement(pt,{type:"submit",disabled:t.isEmpty||!t.isValid,onClick:t.onSubmit,style:{width:"100%"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),ra=(r(474),Object(u.b)("loginPageStore")(Rr=Object(_e.a)(Rr=Object(u.c)(Rr=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n)))).handleRegisterNew=function(){r.props.loginPageStore.toggleRegisterNewForm()},r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props.loginPageStore,t=e.isRegisterNew,r=e.isUserAuthenticated,a=e.form;return r?n.a.createElement(Yr.a,{to:this._redirectPath}):n.a.createElement(j.a,{tag:"section",className:"section"},n.a.createElement(_.a,null,n.a.createElement(k.a,{lg:{size:6,offset:3},md:{size:8,offset:2}},n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement("h1",null,t?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442":"\u0412\u0445\u043e\u0434 \u0432 F1 Bets App"),n.a.createElement("div",{className:"text-muted"},"\u0438\u043b\u0438",n.a.createElement(g.a,{color:"link",onClick:this.handleRegisterNew},t?" \u0432\u043e\u0439\u0442\u0438 \u0432 \u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442":" \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))),n.a.createElement(_.a,{className:"login-form-container"},n.a.createElement(k.a,null,t?n.a.createElement(ta,{form:a}):n.a.createElement(ea,{form:a}))))))}},{key:"_redirectPath",get:function(){return(this.props.location.state||{from:{pathname:"/"}}).from}}]),t}(n.a.Component))||Rr)||Rr)||Rr),aa=function e(t){var r=t.raceName,a=t.raceTime,n=t.qualTime,c=t.practice1Time,i=t.practice2Time,s=t.practice3Time,o=t.id;Object(Oe.a)(this,e),this.raceName=r,this.raceTime=a,this.qualTime=n,this.practice1Time=c,this.practice2Time=i,this.practice3Time=s,this.raceId=o},na=Object(u.c)((Ur=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n))),Object(Ee.a)(r,"_isOpen",Ar,Object(ke.a)(Object(ke.a)(r))),Object(Ee.a)(r,"_toggle",Pr,Object(ke.a)(Object(ke.a)(r))),r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.isNextRace,a=e.isRaceWeekend,c=e.race,i=Te()(t,{"calendar-table__row--highlighted":r});return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{onClick:this._toggle,className:i},n.a.createElement("td",{className:"calendar-table__command-column"},n.a.createElement(rr,{direction:this._isOpen?"right":"down"})),n.a.createElement("td",null,n.a.createElement(er,null,c.raceName),r&&n.a.createElement(te.a,{className:"calendar-table__badge",color:"info"},a?"Now":"Next")),n.a.createElement("td",{className:"calendar-table__date-column"},n.a.createElement(er,null,Fe(c.raceTime))),n.a.createElement("td",{className:"calendar-table__time-column"},n.a.createElement(er,null,ze(c.raceTime)))),this._isOpen&&n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{className:"calendar-table__row calendar-table__row--nested"},n.a.createElement("td",null),n.a.createElement("td",null,"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 1"),n.a.createElement("td",null,Fe(c.practice1Time)),n.a.createElement("td",null,ze(c.practice1Time))),n.a.createElement("tr",{className:"calendar-table__row calendar-table__row--nested"},n.a.createElement("td",null),n.a.createElement("td",null,"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 2"),n.a.createElement("td",null,Fe(c.practice2Time)),n.a.createElement("td",null,ze(c.practice2Time))),n.a.createElement("tr",{className:"calendar-table__row calendar-table__row--nested"},n.a.createElement("td",null),n.a.createElement("td",null,"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 3"),n.a.createElement("td",null,Fe(c.practice3Time)),n.a.createElement("td",null,ze(c.practice3Time))),n.a.createElement("tr",{className:"calendar-table__row calendar-table__row--nested"},n.a.createElement("td",null),n.a.createElement("td",null,"\u041a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"),n.a.createElement("td",null,Fe(c.qualTime)),n.a.createElement("td",null,ze(c.qualTime)))))}}]),t}(n.a.Component),Ar=Object(Se.a)(Ur.prototype,"_isOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pr=Object(Se.a)(Ur.prototype,"_toggle",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._isOpen=!e._isOpen}}}),Mr=Ur))||Mr,ca=(r(476),function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.races,r=e.nextRace,a=e.isRaceWeekend;return n.a.createElement(I.a,{size:"sm",responsive:!0},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",null,n.a.createElement("th",{className:"calendar-table__command-column"}),n.a.createElement("th",{className:"calendar-table__grand-prix-column"},"\u0413\u0440\u0430\u043d \u041f\u0440\u0438"),n.a.createElement("th",{className:"calendar-table__date-column"},"\u0414\u0430\u0442\u0430"),n.a.createElement("th",{className:"calendar-table__time-column"},"\u0412\u0440\u0435\u043c\u044f"))),n.a.createElement("tbody",null,t.map(function(e){return n.a.createElement(na,{key:e.raceId,className:"calendar-table__row calendar-table__row--expandable",race:e,isNextRace:e.raceId===r.raceId,isRaceWeekend:a})})))}}]),t}(n.a.Component)),ia=Object(u.b)("calendarPageStore")(Ir=Object(u.c)(Ir=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props.calendarPageStore,t=e.races,r=e.nextRace,a=e.isRaceWeekend;return n.a.createElement(j.a,{tag:"section",style:{marginTop:"1rem",marginBottom:"1rem"}},n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement("h1",{className:"page-title"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c \u0433\u043e\u043d\u043e\u043a \u0441\u0435\u0437\u043e\u043d\u0430 2018 \u0433\u043e\u0434\u0430"))),n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement(ca,{races:t,nextRace:r,isRaceWeekend:a}))))}}]),t}(n.a.Component))||Ir)||Ir,sa=r(768),oa=Object(u.b)("logoutPageStore")(Br=Object(u.c)(Br=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"componentDidMount",value:function(){this.props.logoutPageStore.logout()}},{key:"render",value:function(){var e=this.props.logoutPageStore.isUserAuthenticated;return n.a.createElement(j.a,null,n.a.createElement(_.a,{className:"section"},e?n.a.createElement(k.a,null,"\u0418\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430..."):n.a.createElement(k.a,{lg:{size:6,offset:3},md:{size:8,offset:2}},n.a.createElement("div",null,"\u041c\u044b \u0431\u0443\u0434\u0435\u043c \u0441\u043a\u0443\u0447\u0430\u0442\u044c \u043f\u043e \u0442\u0435\u0431\u0435 :)"),n.a.createElement("div",null,n.a.createElement(sa.a,{to:fa.HOME},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))))}}]),t}(n.a.Component))||Br)||Br,ua=(r(480),Object(u.b)("userBetsHistoryPageStore")(Cr=Object(u.c)(Cr=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props.userBetsHistoryPageStore.userBets;return n.a.createElement(j.a,null,n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement("h1",{className:"page-title"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0412\u0430\u0448\u0438\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"))),0===e.length&&n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement("p",null,"\u041f\u043e\u0445\u043e\u0436\u0435 \u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u0434\u0435\u043b\u0430\u043b\u0438 \u0441\u0442\u0430\u0432\u043e\u043a"," ",n.a.createElement(sa.a,{to:fa.BETS,role:"button",className:"btn btn-primary"},"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435")))),e.map(function(e){var t=e.raceId,r=e.title,a=e.bet;return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement("h2",{className:"grand-prix-title"},r))),n.a.createElement(_.a,null,n.a.createElement(k.a,null,n.a.createElement(la,{bet:a,raceId:t}))))}))}}]),t}(n.a.Component))||Cr)||Cr),la=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"renderBets",value:function(e,t){return Array(10).fill(1).map(function(r,a){return n.a.createElement("td",{key:t+a,className:"text-center"},e[a+1])})}},{key:"render",value:function(){var e=this.props,t=e.bet,r=e.raceId;return n.a.createElement(I.a,{size:"sm"},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",null,n.a.createElement("th",{className:"text-center"},"1"),n.a.createElement("th",{className:"text-center"},"2"),n.a.createElement("th",{className:"text-center"},"3"),n.a.createElement("th",{className:"text-center"},"4"),n.a.createElement("th",{className:"text-center"},"5"),n.a.createElement("th",{className:"text-center"},"6"),n.a.createElement("th",{className:"text-center"},"7"),n.a.createElement("th",{className:"text-center"},"8"),n.a.createElement("th",{className:"text-center"},"9"),n.a.createElement("th",{className:"text-center"},"10"))),n.a.createElement("tbody",null,n.a.createElement("tr",{key:r},this.renderBets(t,r))))}}]),t}(n.a.Component),pa=ua,ha=r(769),ma=function(e){var t=e.component,r=e.isAuthenticated,a=void 0!==r&&r,c=e.isCurrentUserAdmin,i=void 0!==c&&c,s=e.isPrivate,o=void 0!==s&&s,u=e.onlyForAdmins,l=void 0!==u&&u,p=Object(Xe.a)(e,["component","isAuthenticated","isCurrentUserAdmin","isPrivate","onlyForAdmins"]);return n.a.createElement(ha.a,Object.assign({},p,{render:function(e){return l&&!i?n.a.createElement(Yr.a,{to:{pathname:fa.HOME}}):o&&!a?n.a.createElement(Yr.a,{to:{pathname:fa.LOGIN,state:{from:e.location}}}):n.a.createElement(t,p)}}))},fa={HOME:"/",CALENDAR:"/calendar",BETS:"/bet",ADMIN:"/admin",RESULTS:"/results",RACERS:"/racers",TEAMS:"/teams",LOGIN:"/login",LOGOUT:"/logout",BETS_HISTORY:"/bets-history"},da=[{exact:!0,path:fa.HOME,component:mt,id:Ie()},{isPrivate:!0,path:fa.BETS,component:Ut,id:Ie()},{isPrivate:!0,path:fa.BETS_HISTORY,component:pa,id:Ie()},{path:fa.RESULTS,component:ir,id:Ie()},{path:fa.RACERS,component:lr,id:Ie()},{path:fa.TEAMS,component:mr,id:Ie()},{path:fa.LOGIN,component:ra,id:Ie()},{isPrivate:!0,onlyForAdmins:!0,path:fa.ADMIN,component:Jr,id:Ie()},{path:fa.CALENDAR,component:ia,id:Ie()},{path:fa.LOGOUT,component:oa,id:Ie()}],ba=function(e){var t=e.path,r=void 0===t?"/":t,a=e.className,c=void 0===a?"":a,i=e.disabled,s=void 0!==i&&i,o=e.children;return s?o:n.a.createElement(sa.a,{to:r,className:c},o)},va=function(e){var t=e.user,r=t.isAdmin,a=t.name;return n.a.createElement(F.a,{nav:!0,inNavbar:!0},n.a.createElement(q.a,{nav:!0,caret:!0},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),n.a.createElement(G.a,{className:"nav-bar-drop-down-menu",right:!0},n.a.createElement(Y.a,{header:!0},a),r&&n.a.createElement(Y.a,null,n.a.createElement(ba,{path:fa.ADMIN,className:"nav-bar-drop-down-menu__link"},"\u0410\u0434\u043c\u0438\u043d\u043a\u0430")),n.a.createElement(Y.a,{disabled:!0},n.a.createElement(ba,{path:fa.BETS,disabled:!0,className:"nav-bar-drop-down-menu__link"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c")),n.a.createElement(Y.a,null,n.a.createElement(ba,{path:fa.BETS_HISTORY,className:"nav-bar-drop-down-menu__link"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439")),n.a.createElement(Y.a,{divider:!0}),n.a.createElement(Y.a,null,n.a.createElement(ba,{path:fa.LOGOUT,className:"nav-bar-drop-down-menu__link"},"\u0412\u044b\u0445\u043e\u0434"))))},Oa=Object(u.b)(function(e){return{isAuthenticated:e.appStore.isUserAuthenticated,authenticatedUser:e.appStore.authenticatedUser,isBetsAllowed:e.appStore.isBetsAllowed,isUserAlreadyBet:e.appStore.isUserAlreadyBet}})(Dr=Object(u.c)((Zr=function(e){function t(){var e,r;Object(Oe.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(ye.a)(this,(e=Object(je.a)(t)).call.apply(e,[this].concat(n))),Object(Ee.a)(r,"isOpen",Vr,Object(ke.a)(Object(ke.a)(r))),Object(Ee.a)(r,"handleToggle",Wr,Object(ke.a)(Object(ke.a)(r))),r}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,r=e.authenticatedUser,a=e.isBetsAllowed,c=e.isUserAlreadyBet;return n.a.createElement(Z.a,{className:"navigation-bar",color:"dark",dark:!0,expand:"md",fixed:"top"},n.a.createElement(j.a,null,n.a.createElement(ba,{path:fa.HOME,className:"navbar-brand"},"Formula 1 Bets App"),n.a.createElement(W.a,{onClick:this.handleToggle}),n.a.createElement(C.a,{isOpen:this.isOpen,navbar:!0},n.a.createElement($.a,{className:"ml-auto",navbar:!0},n.a.createElement(F.a,{nav:!0,inNavbar:!0},n.a.createElement(q.a,{nav:!0,caret:!0},"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435"),n.a.createElement(G.a,{className:"nav-bar-drop-down-menu",right:!0},t&&n.a.createElement(Y.a,{disabled:!a},n.a.createElement(ba,{path:fa.BETS,className:"nav-bar-drop-down-menu__link",disabled:!a},c?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437")),n.a.createElement(Y.a,null,n.a.createElement(ba,{path:fa.RESULTS,className:"nav-bar-drop-down-menu__link"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f")),t&&n.a.createElement(Y.a,null,n.a.createElement(ba,{path:fa.BETS_HISTORY,className:"nav-bar-drop-down-menu__link"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0412\u0430\u0448\u0438\u0445 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439")))),n.a.createElement(F.a,{nav:!0,inNavbar:!0},n.a.createElement(q.a,{nav:!0,caret:!0},"\u0427\u0435\u043c\u043f\u0438\u043e\u043d\u0430\u0442"),n.a.createElement(G.a,{className:"nav-bar-drop-down-menu",right:!0},n.a.createElement(Y.a,null,n.a.createElement(ba,{path:fa.CALENDAR,className:"nav-bar-drop-down-menu__link"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c")),n.a.createElement(Y.a,null,n.a.createElement(ba,{path:fa.RACERS,className:"nav-bar-drop-down-menu__link"},"\u0413\u043e\u043d\u0449\u0438\u043a\u0438")),n.a.createElement(Y.a,null,n.a.createElement(ba,{path:fa.TEAMS,className:"nav-bar-drop-down-menu__link"},"\u041a\u043e\u043c\u0430\u043d\u0434\u044b")))),t?r&&n.a.createElement(va,{user:r,isBetsAllowed:a}):n.a.createElement(X.a,null,n.a.createElement(ba,{path:fa.LOGIN,className:"nav-link"},"\u0412\u0445\u043e\u0434"))))))}}]),t}(n.a.Component),Vr=Object(Se.a)(Zr.prototype,"isOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wr=Object(Se.a)(Zr.prototype,"handleToggle",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isOpen=!e.isOpen}}}),Dr=Zr))||Dr)||Dr,ga=function(e){var t=e.value,r=e.label;return n.a.createElement("div",{className:"awesome-countdown-timer__section awesome-countdown-timer-section"},n.a.createElement("div",{className:"awesome-countdown-timer-section__time"},t),n.a.createElement("div",{className:"awesome-countdown-timer-section__label"},r))},ya=function(e){var t=e.splitter,r=void 0===t?":":t;return n.a.createElement("div",{className:"awesome-countdown-timer__splitter"},r)};var ja=function(e){var t=e.className,r=e.withSplitter,a=function(e){var t={months:"",days:"",hours:"",minutes:"",seconds:""};return e?(Math.floor(e.asMonths())>0&&(Math.floor(e.months())<10?t.months="0"+Math.floor(e.months()):t.months=Math.floor(e.months())),Math.floor(e.asDays())>0&&(Math.floor(e.days())<10?t.days="0"+Math.floor(e.days()):t.days=Math.floor(e.days())),Math.floor(e.asHours())>0&&(Math.floor(e.hours())<10?t.hours="0"+Math.floor(e.hours()):t.hours=Math.floor(e.hours())),Math.floor(e.asMinutes())>0&&(Math.floor(e.minutes())<10?t.minutes="0"+Math.floor(e.minutes()):t.minutes=Math.floor(e.minutes())),Math.floor(e.asSeconds())>0&&(Math.floor(e.seconds())<10?t.seconds="0"+Math.floor(e.seconds()):t.seconds=Math.floor(e.seconds())),t):t}(e.duration),c=a.months,i=a.days,s=a.hours,o=a.minutes,u=a.seconds;return n.a.createElement("div",{className:"awesome-countdown-timer ".concat(t)},c&&n.a.createElement(ga,{value:c,label:"Months"}),r&&c&&n.a.createElement(ya,null),i&&n.a.createElement(ga,{value:i,label:"Days"}),r&&i&&n.a.createElement(ya,null),s&&n.a.createElement(ga,{value:s,label:"Hours"}),r&&s&&n.a.createElement(ya,null),o&&n.a.createElement(ga,{value:o,label:"Minutes"}),r&&o&&n.a.createElement(ya,null),u&&n.a.createElement(ga,{value:u,label:"Seconds"}))};ja.defaultProps={className:"",withSplitter:!1};var wa=ja;r(482);var _a=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.withSplitter,a=function(e,t){var r=e?v()(e):v()(),a=v()(t),n=v.a.duration(a.diff(r));return n.asSeconds()>=0?n:null}(e.startDate,e.endDate);return n.a.createElement(wa,{className:t,duration:a,withSplitter:r})}}]),t}(a.Component);_a.defaultProps={className:"",withSplitter:!1};var Ea,ka,Sa,Na,Ta,xa=_a,Ra=(r(484),function(e){var t=e.startTime,r=e.endTime,a=e.className,c=void 0===a?"":a;return n.a.createElement(xa,{className:"countdown-timer "+c,startDate:t,endDate:r,withSplitter:!0})}),Ma=(r(486),function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nextRace,r=e.currentTimeUtcString;return n.a.createElement(j.a,{className:"next-race-notifier alert-info"},n.a.createElement(_.a,null,n.a.createElement(k.a,{xs:12,sm:8,md:8,className:"next-race-notifier__race-info"},"\u0414\u043e \u0441\u0442\u0430\u0440\u0442\u0430 \u0433\u043e\u043d\u043a\u0438",n.a.createElement("strong",{className:"next-race-notifier__race-title"},t.title)),n.a.createElement(k.a,{xs:12,sm:4,md:4},n.a.createElement(Ra,{className:"next-race-notifier__countdown-timer",startTime:r,endTime:t.raceStartTime}))))}}]),t}(n.a.Component)),Ua=Object(u.b)("headerStore")(Ea=Object(u.c)((Sa=ka=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this.props,t=e.headerStore,r=e.className,a=t.nextRace,c=t.currentTimeUtcString;return n.a.createElement("header",{className:r},n.a.createElement(Oa,null),a&&n.a.createElement("section",{className:"colors--very-light-green"},n.a.createElement(Ma,{nextRace:a,currentTimeUtcString:c})))}}]),t}(n.a.Component),ka.defaultProps={className:""},Ea=Sa))||Ea)||Ea,Aa=(r(488),function(e){var t=e.className,r=void 0===t?"":t;return n.a.createElement("footer",{className:"".concat(r," footer")},n.a.createElement(j.a,null,n.a.createElement(_.a,{className:"footer__social-media-links"},n.a.createElement(k.a,{className:"footer__copyright"},"\xa9 2018 - F1 fun's team"),n.a.createElement(k.a,{xs:"2"},n.a.createElement(_.a,{className:"social-media-links"},n.a.createElement(k.a,{className:"social-media-links__telegram-box"},n.a.createElement("a",{href:"https://t.me/f1funteam",className:"footer__link social-media-links__link"},n.a.createElement(tr.a,{icon:d.a}))))))))}),Pa=Object(u.b)(function(e){return{pendingTasksCount:e.appStore._appViewModel._operationManager.pendingTasksCount,qualificationStartTime:e.appStore.nextRace&&e.appStore.nextRace.qualifyingStartTime,isBetsAllowed:e.appStore.isBetsAllowed,currentTime:e.appStore.currentTime}})(Object(u.c)(function(e){var t,r=e.pendingTasksCount,a=e.qualificationStartTime,c=e.isBetsAllowed,i=e.currentTime;return n.a.createElement("div",{className:"text-center bg-danger",style:{display:"none"}},n.a.createElement(j.a,null,n.a.createElement(_.a,null,n.a.createElement(k.a,null,"DEVELOPMENT MODE ON!!!"),n.a.createElement(k.a,null,r)),n.a.createElement(_.a,{className:"text-left"},n.a.createElement(k.a,null,"Qualification start Time: ",Le(a)),n.a.createElement(k.a,{className:c?"bg-success":"bg-warning"},"Is Bets Allowed: ",c.toString()),n.a.createElement(k.a,null,"Current Time: ",(t=i,v()(t).format("D MMMM YYYY, HH:mm:ss"))))))})),Ia=(r(490),function(){return n.a.createElement("div",{className:"loader__overlay"},n.a.createElement("div",{className:"loader"},n.a.createElement("div",{className:"loader__plate loader__plate--first"}),n.a.createElement("div",{className:"loader__plate loader__plate--second"}),n.a.createElement("div",{className:"loader__plate loader__plate--third"})))}),Ba=Object(u.b)("appStore")(Na=Object(_e.a)(Na=Object(u.c)(Na=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"componentDidMount",value:function(){this.props.appStore.startTimeWatcher()}},{key:"componentWillUnmount",value:function(){this.props.appStore.stopTimeWatcher()}},{key:"render",value:function(){var e=this.props.appStore,t=e.hasPendingTasks,r=e.isUserAuthenticated,a=e.isUserAdmin,c=e.isProduction;return n.a.createElement(n.a.Fragment,null,t&&n.a.createElement(Ia,null),n.a.createElement("div",{className:"layout"},!c&&n.a.createElement(Pa,null),n.a.createElement(Ua,{className:"layout__header"}),n.a.createElement("main",{className:"layout__main colors--very-light-grey"},da.map(function(e){return n.a.createElement(ma,Object.assign({key:e.id,isAuthenticated:r,isCurrentUserAdmin:a},e))})),n.a.createElement(Aa,{className:"layout__footer"})))}}]),t}(a.Component))||Na)||Na)||Na,Ca=function(){function e(t){Object(Oe.a)(this,e),this._appViewModel=t}return Object(ge.a)(e,[{key:"startTimeWatcher",value:function(){this._appViewModel.timeWatcher.start()}},{key:"stopTimeWatcher",value:function(){this._appViewModel.timeWatcher.stop()}},{key:"isProduction",get:function(){return this._appViewModel.isProduction}},{key:"currentTime",get:function(){return this._appViewModel.timeWatcher.currentTime}},{key:"isBetsAllowed",get:function(){return this._appViewModel.isBetsAllowed}},{key:"hasPendingTasks",get:function(){return this._appViewModel.operationManager.hasPendingTasks}},{key:"authenticatedUser",get:function(){return this._appViewModel.session.authenticatedUser}},{key:"isUserAuthenticated",get:function(){return this._appViewModel.isUserAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appViewModel.isUserAlreadyBet}},{key:"isUserAdmin",get:function(){return this._appViewModel.isUserAdmin}}]),e}(),Da=(Ta=function(){function e(t){Object(Oe.a)(this,e),this._appViewModel=t}return Object(ge.a)(e,[{key:"nextRace",get:function(){return this._appViewModel.nextRace}},{key:"isAuthenticated",get:function(){return this._appViewModel.session.isAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appViewModel.isUserAlreadyBet}},{key:"isBetsAllowed",get:function(){return this._appViewModel.isBetsAllowed}},{key:"nextRaceInfo",get:function(){var e=this._appViewModel.timeWatcher.currentTime,t=this._appViewModel.formulaOneOfficial.roundsInfo.map(function(e){return new Qe(e)}).filter(function(t){return Ge(t.raceStartTime,e)});return Object(xe.a)(t,1)[0]}},{key:"previousRaces",get:function(){var e=this,t=this._appViewModel.timeWatcher.currentTime;return this._appViewModel.formulaOneOfficial.roundsInfo.map(function(e){return new Qe(e)}).filter(function(e){return!Ge(e.raceStartTime,t)}).map(function(t,r){if(e._raceResults.length>0&&r<e._raceResults.length){var a=e._raceResults[r].racersStandings.map(function(e){return new at(e)});return t.addRacerStandings(a)}return t}).reverse()}},{key:"_raceResults",get:function(){return this._appViewModel.formulaOneOfficial.racesResults}}]),e}(),Object(Se.a)(Ta.prototype,"nextRaceInfo",[o.computed],Object.getOwnPropertyDescriptor(Ta.prototype,"nextRaceInfo"),Ta.prototype),Object(Se.a)(Ta.prototype,"previousRaces",[o.computed],Object.getOwnPropertyDescriptor(Ta.prototype,"previousRaces"),Ta.prototype),Object(Se.a)(Ta.prototype,"_raceResults",[o.computed],Object.getOwnPropertyDescriptor(Ta.prototype,"_raceResults"),Ta.prototype),Ta),Za=r(109),Va=r.n(Za);function Wa(e){return La.apply(this,arguments)}function La(){return(La=Object(bt.a)(dt.a.mark(function e(t){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va.a.get(t);case 2:return e.abrupt("return",e.sent.data.MRData);case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Fa(e){return za.apply(this,arguments)}function za(){return(za=Object(bt.a)(dt.a.mark(function e(t){var r;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa("".concat(t,"?limit=0"));case 2:return r=e.sent.total,e.abrupt("return",Wa("".concat(t,"?limit=").concat(r)));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var qa,Ha,Ga,Ja,Ya,Ka,$a,Qa,Xa,en,tn,rn,an,nn,cn,sn=function e(t){Object(Oe.a)(this,e);var r=t.locality,a=t.country,n=t.lat,c=t.long,i=t.alt;this.locality=r,this.country=a,this.lat=n,this.long=c,this.alt=i},on=function e(t){Object(Oe.a)(this,e);var r=t.circuitId,a=t.url,n=t.circuitName;this.circuitId=r,this.url=a,this.circuitName=n,this.location=new sn(t.Location)},un=function e(t){var r=t.season;Object(Oe.a)(this,e),this.season=r},ln=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e))).round=e.round,r.url=e.url,r.raceName=e.raceName,r.date=e.date,r.time=e.time,r.circuit=new on(e.Circuit),r}return Object(we.a)(t,e),t}(un),pn=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e))).races=e.Races.map(function(e){return new ln(e)}),r}return Object(we.a)(t,e),t}(un),hn=function e(t){var r=t.constructorId,a=t.url,n=t.name,c=t.nationality;Object(Oe.a)(this,e),this.constructorId=r,this.url=a,this.name=n,this.nationality=c},mn=function e(t){var r=t.driverId,a=t.url,n=t.permanentNumber,c=t.givenName,i=t.familyName,s=t.dateOfBirth,o=t.code,u=t.nationality;Object(Oe.a)(this,e),this.driverId=r,this.url=a,this.permanentNumber=n,this.givenName=c,this.familyName=i,this.dateOfBirth=s,this.code=o,this.nationality=u},fn=function e(t){Object(Oe.a)(this,e),this.rank=t.rank,this.lap=t.lap,this.time=t.Time,this.averageSpeed=t.AverageSpeed},dn=function e(t){Object(Oe.a)(this,e);var r=t.number,a=t.position,n=t.points,c=t.grid,i=t.laps,s=t.status,o=t.Time;this.number=r,this.position=a,this.points=n,this.driver=new mn(t.Driver),this.constructor=new hn(t.Constructor),this.grid=c,this.laps=i,this.status=s,this.time=Object(Kt.a)({},o),this.fastestLap=t.FastestLap?new fn(t.FastestLap):void 0},bn=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e))).results=e.Results.map(function(e){return new dn(e)}),r}return Object(we.a)(t,e),t}(ln),vn=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e))).races=e.Races.map(function(e){return new bn(e)}),r}return Object(we.a)(t,e),t}(pn),On=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return e}),r}return Object(we.a)(t,e),t}(un),gn=function(e){function t(e){var r,a=e.season,n=e.round;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,{season:a}))).round=n,r}return Object(we.a)(t,e),t}(un),yn=function e(t){var r=t.position,a=t.positionText,n=t.points,c=t.wins;Object(Oe.a)(this,e),this.position=r,this.positionText=a,this.points=n,this.wins=c},jn=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e))).driver=new mn(e.Driver),r.constructors=e.Constructors.map(function(e){return new hn(e)}),r}return Object(we.a)(t,e),t}(yn),wn=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e))).driverStandings=e.DriverStandings.map(function(e){return new jn(e)}),r}return Object(we.a)(t,e),t}(gn),_n=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return new wn(e)}),r}return Object(we.a)(t,e),t}(On),En=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e))).constructor=new hn(e.Constructor),r}return Object(we.a)(t,e),t}(yn),kn=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e))).constructorStandings=e.ConstructorStandings.map(function(e){return new En(e)}),r}return Object(we.a)(t,e),t}(gn),Sn=function(e){function t(e){var r,a=e.season,n=e.StandingsLists;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,{season:a,StandingsLists:n}))).standingsLists=n.map(function(e){return new kn(e)}),r}return Object(we.a)(t,e),t}(On),Nn=function(e){function t(e){var r;return Object(Oe.a)(this,t),(r=Object(ye.a)(this,Object(je.a)(t).call(this,e))).drivers=e.Drivers.map(function(e){return new mn(e)}),r}return Object(we.a)(t,e),t}(un),Tn=function(){function e(){Object(Oe.a)(this,e)}return Object(ge.a)(e,null,[{key:"_createJsonUrl",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"".concat("https://ergast.com/api/f1","/").concat(t.filter(function(e){return Boolean(e)}).join("/"),".json")}},{key:"getDriverStandings",value:function(){var t=Object(bt.a)(dt.a.mark(function t(r){var a;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wa(e._createJsonUrl(r,"driverStandings"));case 2:return a=t.sent,t.abrupt("return",new _n(a.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getConstructorStandings",value:function(){var t=Object(bt.a)(dt.a.mark(function t(r){var a;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wa(e._createJsonUrl(r,"constructorStandings"));case 2:return a=t.sent,t.abrupt("return",new Sn(a.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getRaceSchedule",value:function(){var t=Object(bt.a)(dt.a.mark(function t(){var r,a,n,c=arguments;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:"2018",a=c.length>1&&void 0!==c[1]?c[1]:"all",t.next=4,Wa(e._createJsonUrl(r,"all"!==a?a:void 0));case 4:return n=t.sent,t.abrupt("return",new pn(n.RaceTable));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getRaceResults",value:function(){var t=Object(bt.a)(dt.a.mark(function t(r){var a,n,c=arguments;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"2018",t.next=3,Wa(e._createJsonUrl(a,r,"results"));case 3:return n=t.sent,t.abrupt("return",new vn(n.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getAllRacesResults",value:function(){var t=Object(bt.a)(dt.a.mark(function t(){var r,a,n=arguments;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:"2018",t.next=3,Fa(e._createJsonUrl(r,"results"));case 3:return a=t.sent,t.abrupt("return",new vn(a.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var t=Object(bt.a)(dt.a.mark(function t(){var r,a,n=arguments;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:"2018",t.next=3,Wa(e._createJsonUrl(r,"drivers"));case 3:return a=t.sent,t.abrupt("return",new Nn(a.DriverTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(),xn=(qa=function(){function e(t){Object(Oe.a)(this,e),Object(Ee.a)(this,"racerStandingList",Ha,this),this._appViewModel=t,this._fetchRacerStandings()}return Object(ge.a)(e,[{key:"_fetchRacerStandings",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._appViewModel.operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){var r,a,n,c;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tn.getDriverStandings("2018");case 3:r=e.sent,a=Object(xe.a)(r.standingsLists,1),(n=a[0])&&(c=n.driverStandings.map(function(e){var t=e.driver,r=Object(xe.a)(e.constructors,1)[0];return new sr({pos:e.position,racerFullName:"".concat(t.givenName," ").concat(t.familyName),racerPoints:e.points,racerId:t.code,racerNumber:t.permanentNumber,racerUrl:t.url,constructorName:r.name,constructorUrl:r.url,racerNationality:t.nationality})}),Object(o.runInAction)(function(){t.racerStandingList=c})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Ha=Object(Se.a)(qa.prototype,"racerStandingList",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(Se.a)(qa.prototype,"_fetchRacerStandings",[o.action],Object.getOwnPropertyDescriptor(qa.prototype,"_fetchRacerStandings"),qa.prototype),qa),Rn=(Ga=function(){function e(t){Object(Oe.a)(this,e),Object(Ee.a)(this,"teamsStandingList",Ja,this),this._appViewModel=t,this._fetchStandings()}return Object(ge.a)(e,[{key:"_fetchStandings",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._appViewModel.operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){var r,a;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tn.getConstructorStandings("2018");case 3:r=e.sent,(a=r.standingsLists[0])&&Object(o.runInAction)(function(){t.teamsStandingList=a.constructorStandings.map(function(e){var t=e.constructor;return new pr({pos:e.position,name:t.name,id:t.constructorId,points:e.points,url:t.url,nationality:t.nationality})})}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Ja=Object(Se.a)(Ga.prototype,"teamsStandingList",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(Se.a)(Ga.prototype,"_fetchStandings",[o.action],Object.getOwnPropertyDescriptor(Ga.prototype,"_fetchStandings"),Ga.prototype),Ga),Mn=(Ya=function(){function e(t,r){var a=this;Object(Oe.a)(this,e),Object(Ee.a)(this,"isRaceResultsPanelVisible",Ka,this),Object(Ee.a)(this,"selectedRace",$a,this),this.addNewBet=function(e){return a._appViewModel.addNewBet(e)},this._appViewModel=t,this._storeApiUrl=r,this._raceInfoService=this._appViewModel._raceInfoService}return Object(ge.a)(e,[{key:"showRaceResultsPanel",value:function(){this.isRaceResultsPanelVisible=!0}},{key:"addOrUpdateRaceResults",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedRace){e.next=3;break}return window.alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u043d\u043a\u0443!"),e.abrupt("return");case 3:if(!(Object.values(t).filter(function(e){return Boolean(e)}).length<10)){e.next=6;break}return window.alert("\u041d\u0435 \u0432\u0441\u0435 \u0433\u043e\u043d\u0448\u0438\u043a\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u044b!"),e.abrupt("return");case 6:return e.next=8,this._appViewModel.operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._raceInfoService.addOrUpdateRaceResult(r.selectedRace.id,t);case 2:r.isRaceResultsPanelVisible=!1;case 3:case"end":return e.stop()}},e,this)})));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"users",get:function(){return this._appViewModel.usersModel.users}},{key:"races",get:function(){return this._appViewModel.races}},{key:"racers",get:function(){return this._appViewModel.racers}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),Ka=Object(Se.a)(Ya.prototype,"isRaceResultsPanelVisible",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$a=Object(Se.a)(Ya.prototype,"selectedRace",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(Se.a)(Ya.prototype,"users",[o.computed],Object.getOwnPropertyDescriptor(Ya.prototype,"users"),Ya.prototype),Object(Se.a)(Ya.prototype,"races",[o.computed],Object.getOwnPropertyDescriptor(Ya.prototype,"races"),Ya.prototype),Object(Se.a)(Ya.prototype,"racers",[o.computed],Object.getOwnPropertyDescriptor(Ya.prototype,"racers"),Ya.prototype),Object(Se.a)(Ya.prototype,"showRaceResultsPanel",[o.action],Object.getOwnPropertyDescriptor(Ya.prototype,"showRaceResultsPanel"),Ya.prototype),Object(Se.a)(Ya.prototype,"addOrUpdateRaceResults",[o.action],Object.getOwnPropertyDescriptor(Ya.prototype,"addOrUpdateRaceResults"),Ya.prototype),Ya),Un=(Qa=function(){function e(t,r){var a=this;Object(Oe.a)(this,e),Object(Ee.a)(this,"isUserFormVisible",Xa,this),Object(Ee.a)(this,"userForEdit",en,this),this.deleteUser=function(){var e=Object(bt.a)(dt.a.mark(function e(t){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")){e.next=3;break}return e.next=3,a._appViewModel.usersModel.deleteUser(t);case 3:return e.next=5,a._appViewModel.usersModel.fetchUsers();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this._appViewModel=t,this._storeApiUrl=r,this._appViewModel.usersModel.fetchUsers()}return Object(ge.a)(e,[{key:"toggleUserForm",value:function(e){this.isUserFormVisible=e}},{key:"setUserForEdit",value:function(e){this.userForEdit=e,this.toggleUserForm(!0)}},{key:"addOrUpdate",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this._appViewModel.operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appViewModel.usersModel.addOrUpdate(t);case 2:return r.userForEdit=null,r.toggleUserForm(!1),e.next=6,r._appViewModel.usersModel.fetchUsers();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"users",get:function(){return this._appViewModel.usersModel.users}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),Xa=Object(Se.a)(Qa.prototype,"isUserFormVisible",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),en=Object(Se.a)(Qa.prototype,"userForEdit",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(Se.a)(Qa.prototype,"users",[o.computed],Object.getOwnPropertyDescriptor(Qa.prototype,"users"),Qa.prototype),Object(Se.a)(Qa.prototype,"toggleUserForm",[o.action],Object.getOwnPropertyDescriptor(Qa.prototype,"toggleUserForm"),Qa.prototype),Object(Se.a)(Qa.prototype,"setUserForEdit",[o.action],Object.getOwnPropertyDescriptor(Qa.prototype,"setUserForEdit"),Qa.prototype),Object(Se.a)(Qa.prototype,"addOrUpdate",[o.action],Object.getOwnPropertyDescriptor(Qa.prototype,"addOrUpdate"),Qa.prototype),Qa),An=function(){function e(t){Object(Oe.a)(this,e);var r=h.getRaceStoreApiUrl(),a=h.getUserStoreApiUrl();this._racesSectionStore=new Mn(t,r),this._usersSectionStore=new Un(t,a)}return Object(ge.a)(e,[{key:"racesSectionStore",get:function(){return this._racesSectionStore}},{key:"usersSectionStore",get:function(){return this._usersSectionStore}}]),e}(),Pn=r(392),In=r.n(Pn),Bn=r(393),Cn=r.n(Bn),Dn=function(e){e.invalidate("This is a generic error message!")},Zn=function(e){function t(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dn;return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).call(this,{fields:e},{options:{showErrorsOnChange:!0,validateOnChange:!0},plugins:{dvr:Cn.a},hooks:{onSuccess:r,onError:a}}))}return Object(we.a)(t,e),t}(In.a),Vn=(tn=function(){function e(t){var r=this;Object(Oe.a)(this,e),Object(Ee.a)(this,"isRegisterNew",rn,this),this._appViewModel=t,this._loginForm=new Zn(Qr,function(){var e=Object(bt.a)(dt.a.mark(function e(t){var a;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appViewModel.session.login(t.values());case 2:if(!0===(a=e.sent)){e.next=6;break}return alert(a),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),this._registerNewAccountForm=new Zn(Xr,function(){var e=Object(bt.a)(dt.a.mark(function e(t){var a;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appViewModel.session.signIn(t.values());case 2:if(!0===(a=e.sent)){e.next=6;break}return alert(a),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}return Object(ge.a)(e,[{key:"toggleRegisterNewForm",value:function(){this.isRegisterNew=!this.isRegisterNew}},{key:"login",value:function(e){var t=e.login,r=e.password;return this._appViewModel.session.login({login:t,password:r})}},{key:"signIn",value:function(e){var t=e.name,r=e.login,a=e.password;return this._appViewModel.session.signIn({name:t,login:r,password:a})}},{key:"isUserAuthenticated",get:function(){return this._appViewModel.session.isAuthenticated}},{key:"form",get:function(){return this.isRegisterNew?this._registerNewAccountForm:this._loginForm}}]),e}(),rn=Object(Se.a)(tn.prototype,"isRegisterNew",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(Se.a)(tn.prototype,"form",[o.computed],Object.getOwnPropertyDescriptor(tn.prototype,"form"),tn.prototype),Object(Se.a)(tn.prototype,"toggleRegisterNewForm",[o.action],Object.getOwnPropertyDescriptor(tn.prototype,"toggleRegisterNewForm"),tn.prototype),tn),Wn=function(){function e(t){Object(Oe.a)(this,e),this._appViewModel=t}return Object(ge.a)(e,[{key:"logout",value:function(){return this._appViewModel.session.logout()}},{key:"isUserAuthenticated",get:function(){return this._appViewModel.session.isAuthenticated}}]),e}(),Ln=(an=function(){function e(t){Object(Oe.a)(this,e),this._appViewModel=t}return Object(ge.a)(e,[{key:"authenticatedUser",get:function(){return this._appViewModel.session.authenticatedUser}},{key:"raceResultsWithBets",get:function(){var e=this._appViewModel.formulaOneOfficial.racesResults;return this._appViewModel.races.map(function(t,r){return new Xt({race:t,racers:r<e.length?e[r].racersStandings:void 0})})}},{key:"userStandingsByRound",get:function(){return this.raceResultsWithBets.filter(function(e){return e.hasOfficialResults}).map(function(e){return e.userVotes}).map(function(e,t){return{title:"gp"+(t+1),userStandings:e.map(function(e){return new nr({userId:e.id,userName:e.name,totalPoints:e.userScore.value})})}})}},{key:"userStandings",get:function(){var e=Array.from(this.userStandingsByRound.reduce(function(e,t){return t.userStandings.forEach(function(t){e.set(t.userId,[].concat(Object(Jt.a)(e.get(t.userId)||[]),[t]))}),e},new Map([])).values()).map(function(e){var t=Qt()(e,function(e){return e.totalPoints});return t.slice(Math.max(t.length-7,0))}),t=new Map([]);return e.forEach(function(e){e.forEach(function(e){if(t.has(e.userId)){var r=e;r.totalPoints+=t.get(e.userId).totalPoints,t.set(e.userId,r)}else t.set(e.userId,e)})}),Array.from(t.values())}}]),e}(),Object(Se.a)(an.prototype,"authenticatedUser",[o.computed],Object.getOwnPropertyDescriptor(an.prototype,"authenticatedUser"),an.prototype),Object(Se.a)(an.prototype,"raceResultsWithBets",[o.computed],Object.getOwnPropertyDescriptor(an.prototype,"raceResultsWithBets"),an.prototype),Object(Se.a)(an.prototype,"userStandingsByRound",[o.computed],Object.getOwnPropertyDescriptor(an.prototype,"userStandingsByRound"),an.prototype),Object(Se.a)(an.prototype,"userStandings",[o.computed],Object.getOwnPropertyDescriptor(an.prototype,"userStandings"),an.prototype),an),Fn=r(394),zn=r.n(Fn),qn=(nn=function(){function e(t){Object(Oe.a)(this,e),this._appViewModel=t}return Object(ge.a)(e,[{key:"races",get:function(){return this._appViewModel.formulaOneOfficial.roundsInfo.map(function(e){return new aa({raceName:e.raceName,raceTime:e.roundSchedule.race,qualTime:e.roundSchedule.qualification,practice1Time:e.roundSchedule.practices[0],practice2Time:e.roundSchedule.practices[1],practice3Time:e.roundSchedule.practices[2],id:zn()(e.raceName)})})}},{key:"nextRace",get:function(){var e=this._appViewModel.timeWatcher.currentTime,t=this.races.filter(function(t){return Ge(t.raceTime,e)});return Object(xe.a)(t,1)[0]}},{key:"isRaceWeekend",get:function(){return!this._appViewModel.isBetsAllowed}}]),e}(),Object(Se.a)(nn.prototype,"races",[o.computed],Object.getOwnPropertyDescriptor(nn.prototype,"races"),nn.prototype),Object(Se.a)(nn.prototype,"nextRace",[o.computed],Object.getOwnPropertyDescriptor(nn.prototype,"nextRace"),nn.prototype),Object(Se.a)(nn.prototype,"isRaceWeekend",[o.computed],Object.getOwnPropertyDescriptor(nn.prototype,"isRaceWeekend"),nn.prototype),nn),Hn=function(){function e(t){Object(Oe.a)(this,e),this._appViewModel=t}return Object(ge.a)(e,[{key:"userBets",get:function(){return this._appViewModel.authUserBets}}]),e}(),Gn=(cn=function(){function e(t){var r=this;Object(Oe.a)(this,e),this.onBetsSubmit=function(e){return r._appViewModel.addNewBet(e)},this._appViewModel=t}return Object(ge.a)(e,[{key:"racers",get:function(){return this._appViewModel.racers}},{key:"currentUser",get:function(){return this._appViewModel.session.authenticatedUser}},{key:"nextRaceTitle",get:function(){return this._appViewModel.nextRace?this._appViewModel.nextRace.prettyTitle:""}},{key:"userBet",get:function(){var e=this;if(!this._appViewModel.isUserAlreadyBet)return{};var t=this._appViewModel.nextRace.bets.find(function(t){return t.userInfo.id===e.currentUser.id});return t?t.betsMap:{}}},{key:"isBetsAllowed",get:function(){return this._appViewModel.isBetsAllowed}}]),e}(),Object(Se.a)(cn.prototype,"currentUser",[o.computed],Object.getOwnPropertyDescriptor(cn.prototype,"currentUser"),cn.prototype),Object(Se.a)(cn.prototype,"nextRaceTitle",[o.computed],Object.getOwnPropertyDescriptor(cn.prototype,"nextRaceTitle"),cn.prototype),Object(Se.a)(cn.prototype,"userBet",[o.computed],Object.getOwnPropertyDescriptor(cn.prototype,"userBet"),cn.prototype),cn);var Jn=function(){function e(t){Object(Oe.a)(this,e),this._appViewModel=t}return Object(ge.a)(e,[{key:"nextRace",get:function(){return this._appViewModel.nextRace}},{key:"currentTimeUtcString",get:function(){return this._appViewModel.timeWatcher.currentTimeUtcString}}]),e}();function Yn(e){var t,r={homePageStore:new Da(t=e),resultsPageStore:new Ln(t),racerStandingsPageStore:new xn(t),teamsStandingsPageStore:new Rn(t),adminPageStore:new An(t),loginPageStore:new Vn(t),logoutPageStore:new Wn(t),calendarPageStore:new qn(t),userBetsHistoryPageStore:new Hn(t),betPageStore:new Gn(t)},a=new Ca(e),n=new Jn(e);return Object(Kt.a)({},r,{appStore:a,headerStore:n})}function Kn(e){return $n.apply(this,arguments)}function $n(){return($n=Object(bt.a)(dt.a.mark(function e(t){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va.a.get(t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Qn(e,t){return Va.a.put(e,t)}var Xn=function(){function e(t){var r=t.userStoreApiUrl;Object(Oe.a)(this,e),this._apiUrl=r}return Object(ge.a)(e,[{key:"fetchAll",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kn(this._apiUrl);case 2:return e.t0=vt.fromJs,e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=function(e){return e.id===t},r=e.sent.find(e.t0)){e.next=6;break}throw new Error("User cann't be found!");case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findById",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findBy(function(e){return e.id===t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findBy",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=t,r=e.sent.find(e.t0)){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r,a;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof vt){e.next=2;break}throw new Error("variable user must be instanceof class User");case 2:return e.next=4,this.fetchAll();case 4:return r=e.sent,(a=r.findIndex(function(e){return e.id===t.id}))>-1?r[a]=t:r.push(t),e.abrupt("return",Qn(this._apiUrl,r));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.fetchAll();case 4:return r=e.sent,e.abrupt("return",Qn(this._apiUrl,r.filter(function(e){return e.id!==t})));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ec=function(){function e(t){var r=t.raceInfoStoreApiUrl;Object(Oe.a)(this,e),this._apiUrl=r}return Object(ge.a)(e,[{key:"fetchAll",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kn(this._apiUrl);case 2:return e.t0=Ve.fromJs,e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addOrUpdateBet",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t,r){var a,n;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kn(this._apiUrl);case 2:return a=e.sent,n=a.map(function(e){if(e.id===r){var a=e.bets.findIndex(function(e){return e.userInfo.id===t.userInfo.id});a>-1?e.bets[a]=t:e.bets.push(t)}return e}),e.next=6,Qn(this._apiUrl,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"addOrUpdateRaceResult",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t,r){var a,n;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kn(this._apiUrl);case 2:return a=e.sent,(n=a.findIndex(function(e){return e.id===t}))>-1&&(a[n].officialData=Object(Kt.a)({},a[n].officialData,{results:r})),e.next=7,Qn(this._apiUrl,a);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),tc=function(){function e(t){var r=t.localStorageUserKey,a=t.userService,n=t.cryptoService;Object(Oe.a)(this,e),this._localStorageUserKey=r,this._userService=a,this._cryptoService=n}return Object(ge.a)(e,[{key:"authenticate",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t,r,a,n=arguments;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:null,r=null,t){e.next=8;break}if(r=window.localStorage.getItem(this._localStorageUserKey)){e.next=6;break}return e.abrupt("return",null);case 6:e.next=9;break;case 8:r=t.id;case 9:return e.next=11,this._userService.findById(r);case 11:if(!(a=e.sent)){e.next=15;break}return this._authenticate(a),e.abrupt("return",a);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r,a,n;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,a=t.password,e.next=3,this._userService.findBy(function(e){return e.login===r});case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u043d\u0435\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435.");case 6:if(!this._cryptoService.isPasswordValid(a,n.password)){e.next=10;break}if(!this._authenticate(n)){e.next=9;break}return e.abrupt("return",n);case 9:return e.abrupt("return",!1);case 10:return e.abrupt("return","\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c.");case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){window.localStorage.removeItem(this._localStorageUserKey)}},{key:"signIn",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r,a,n,c;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,a=t.name,n=t.password,c=new vt({login:r,name:a,password:this._cryptoService.encodePassword(n)}),e.next=4,this._userService.findBy(function(e){return e.login===c.login});case 4:if(!e.sent){e.next=7;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d.");case 7:return e.prev=7,e.next=10,this._userService.addOrUpdate(c);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return","Server Error. Cannot add or update user");case 15:if(!this._authenticate(c)){e.next=17;break}return e.abrupt("return",c);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,this,[[7,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_authenticate",value:function(e){var t=e.id;return!!t&&(window.localStorage.setItem(this._localStorageUserKey,t),!0)}}]),e}(),rc=r(197),ac=r.n(rc);var nc={encodePassword:function(e){return ac.a.hashSync(e,8)},isPasswordValid:function(e,t){return ac.a.compareSync(e,t)}},cc="HAM",ic="VET",sc="BOT",oc="RAI",uc="RIC",lc="VER",pc="PER",hc="OCO",mc="HUL",fc="SAI",dc="STR",bc="GRO",vc="MAG",Oc="ALO",gc="VAN",yc="ERI",jc="GAS",wc="HAR",_c="LEC",Ec="SIR",kc=new Map([[cc,new rt("Lewis","Hamilton",44,cc)],[ic,new rt("Sebastian","Vettel",5,ic)],[sc,new rt("Valtteri","Bottas",77,sc)],[oc,new rt("Kimi","Raikkonen",7,oc)],[uc,new rt("Daniel","Ricciardo",3,uc)],[lc,new rt("Max","Verstapen",33,lc)],[pc,new rt("Sergio","Perez",11,pc)],[hc,new rt("Esteban","Ocon",31,hc)],[mc,new rt("Nico","Hulkenberg",27,mc)],[fc,new rt("Carlos","Sainz",55,fc)],[dc,new rt("Lance","Stroll",18,dc)],[bc,new rt("Romain","Grosjean",8,bc)],[vc,new rt("Kevin","Magnussen",20,vc)],[Oc,new rt("Fernando","Alonso",14,Oc)],[gc,new rt("Stoffel","Vandoorne",2,gc)],[yc,new rt("Marcus","Ericsson",9,yc)],[jc,new rt("Pierre","Gasly",10,jc)],[wc,new rt("Brendon","Hartley",28,wc)],[_c,new rt("Charles","Leclerc",16,_c)],[Ec,new rt("Sergey","Sirotkin",35,Ec)]]);var Sc=function(){function e(){Object(Oe.a)(this,e)}return Object(ge.a)(e,[{key:"fetchAll",value:function(){return Promise.resolve(Object(Jt.a)(kc.values()))}},{key:"getById",value:function(e){return Promise.resolve(kc.get(e))}}]),e}(),Nc=function e(t,r,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(Oe.a)(this,e),this.name=t,this.powerUnit=r,this.drivers=a,this.points=n},Tc=[new Nc("Mercedes","Mercedes",[kc.get(cc),kc.get(sc)]),new Nc("Ferrari","Ferrari",[kc.get(ic),kc.get(oc)]),new Nc("Red Bull","TAG Heuer",[kc.get(lc),kc.get(uc)]),new Nc("Force India","Mercedes",[kc.get(pc),kc.get(hc)]),new Nc("Williams","Mercedes",[kc.get(dc),kc.get(Ec)]),new Nc("Renault","Renault",[kc.get(mc),kc.get(fc)]),new Nc("Toro Rosso","Honda",[kc.get(jc),kc.get(wc)]),new Nc("Haas","Ferrari",[kc.get(bc),kc.get(vc)]),new Nc("McLaren","Renault",[kc.get(Oc),kc.get(gc)]),new Nc("Sauber","Ferrari",[kc.get(yc),kc.get(_c)])];var xc=function(){function e(){Object(Oe.a)(this,e)}return Object(ge.a)(e,[{key:"fetchAll",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(Tc);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(Tc.find(t)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Rc=function e(t){var r=t.season,a=t.raceName,n=t.raceUrl,c=t.circuit,i=t.roundSchedule;Object(Oe.a)(this,e),this.season=r,this.raceName=a,this.raceUrl=n,this.circuit=c,this.roundSchedule=i};function Mc(e,t){var r={season:e.season,raceName:e.raceName,raceUrl:e.url,circuit:{url:e.circuit.url,countryName:e.circuit.location.country,circuitName:e.circuit.circuitName}},a=t.find(function(t){return t.round===Number(e.round)});return a&&(r.roundSchedule={practices:[a.practice_1,a.practice_2,a.practice_3],qualification:a.qualification,race:a.race}),new Rc(r)}var Uc=function e(t){var r=t.season,a=t.round,n=t.racersStandings;Object(Oe.a)(this,e),this.season=r,this.round=Number(a),this.racersStandings=n};function Ac(e){var t=e.season,r=e.round,a=e.results;return new Uc({season:t,round:r,racersStandings:a.map(function(e){return t=e.driver,r=e.points,new rt(t.givenName,t.familyName,t.permanentNumber,t.code,r,t.nationality,t.dateOfBirth);var t,r})})}var Pc,Ic,Bc,Cc=function(){function e(t){var r=t.formulaOneOfficialDataRepository;Object(Oe.a)(this,e),this._repository=r}return Object(ge.a)(e,[{key:"fetchSeasonRoundsSchedule",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t,r;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._repository.getF1Calendar();case 3:return t=e.sent,e.next=6,this._repository.getRaceSchedule();case 6:return r=e.sent,e.abrupt("return",r.races.map(function(e){return Mc(e,t)}));case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchRacesResults",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._repository.getRacesResults();case 3:return t=e.sent,e.abrupt("return",t.races.map(function(e){return Ac(e)}));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchRacers",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._repository.getDrivers();case 3:return t=e.sent,e.abrupt("return",t.drivers.map(function(e){return rt.create(Object(Kt.a)({},e,{firstName:e.givenName,lastName:e.familyName}))}));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),Dc=function e(t){var r=t.round,a=t.practice_1,n=t.practice_2,c=t.practice_3,i=t.qualification,s=t.race;Object(Oe.a)(this,e),this.round=r,this.practice_1=a,this.practice_2=n,this.practice_3=c,this.qualification=i,this.race=s},Zc=[new Dc({round:1,practice_1:"20180323T010000Z",practice_2:"20180323T050000Z",practice_3:"20180324T030000Z",qualification:"20180324T060000Z",race:"20180325T051000Z"}),new Dc({round:2,practice_1:"20180406T110000Z",practice_2:"20180406T150000Z",practice_3:"20180407T120000Z",qualification:"20180407T150000Z",race:"20180408T151000Z"}),new Dc({round:3,practice_1:"20180413T020000Z",practice_2:"20180413T060000Z",practice_3:"20180414T030000Z",qualification:"20180414T060000Z",race:"20180415T061000Z"}),new Dc({round:4,practice_1:"20180427T090000Z",practice_2:"20180427T130000Z",practice_3:"20180428T100000Z",qualification:"20180428T130000Z",race:"20180429T121000Z"}),new Dc({round:5,practice_1:"20180511T090000Z",practice_2:"20180511T130000Z",practice_3:"20180512T100000Z",qualification:"20180512T130000Z",race:"20180513T131000Z"}),new Dc({round:6,practice_1:"20180524T090000Z",practice_2:"20180524T130000Z",practice_3:"20180526T100000Z",qualification:"20180526T130000Z",race:"20180527T131000Z"}),new Dc({round:7,practice_1:"20180608T140000Z",practice_2:"20180608T180000Z",practice_3:"20180609T150000Z",qualification:"20180609T180000Z",race:"20180610T181000Z"}),new Dc({round:8,practice_1:"20180622T100000Z",practice_2:"20180622T140000Z",practice_3:"20180623T110000Z",qualification:"20180623T140000Z",race:"20180624T141000Z"}),new Dc({round:9,practice_1:"20180629T090000Z",practice_2:"20180629T130000Z",practice_3:"20180630T100000Z",qualification:"20180630T130000Z",race:"20180701T131000Z"}),new Dc({round:10,practice_1:"20180706T090000Z",practice_2:"20180706T130000Z",practice_3:"20180707T100000Z",qualification:"20180707T130000Z",race:"20180708T131000Z"}),new Dc({round:11,practice_1:"20180720T090000Z",practice_2:"20180720T130000Z",practice_3:"20180721T100000Z",qualification:"20180721T130000Z",race:"20180722T131000Z"}),new Dc({round:12,practice_1:"20180727T090000Z",practice_2:"20180727T130000Z",practice_3:"20180728T100000Z",qualification:"20180728T130000Z",race:"20180729T131000Z"}),new Dc({round:13,practice_1:"20180824T090000Z",practice_2:"20180824T130000Z",practice_3:"20180825T100000Z",qualification:"20180825T130000Z",race:"20180826T131000Z"}),new Dc({round:14,practice_1:"20180831T090000Z",practice_2:"20180831T130000Z",practice_3:"20180901T100000Z",qualification:"20180901T130000Z",race:"20180902T131000Z"}),new Dc({round:15,practice_1:"20180914T083000Z",practice_2:"20180914T123000Z",practice_3:"20180915T100000Z",qualification:"20180915T130000Z",race:"20180916T121000Z"}),new Dc({round:16,practice_1:"20180928T080000Z",practice_2:"20180928T120000Z",practice_3:"20180929T090000Z",qualification:"20180929T120000Z",race:"20180930T111000Z"}),new Dc({round:17,practice_1:"20181005T010000Z",practice_2:"20181005T050000Z",practice_3:"20181006T030000Z",qualification:"20181006T060000Z",race:"20181007T051000Z"}),new Dc({round:18,practice_1:"20181019T150000Z",practice_2:"20181019T190000Z",practice_3:"20181020T180000Z",qualification:"20181020T210000Z",race:"20181021T181000Z"}),new Dc({round:19,practice_1:"20181026T150000Z",practice_2:"20181026T190000Z",practice_3:"20181027T150000Z",qualification:"20181027T180000Z",race:"20181028T191000Z"}),new Dc({round:20,practice_1:"20181109T140000Z",practice_2:"20181109T180000Z",practice_3:"20181110T150000Z",qualification:"20181110T180000Z",race:"20181111T181000Z"}),new Dc({round:21,practice_1:"20181123T090000Z",practice_2:"20181123T130000Z",practice_3:"20181124T100000Z",qualification:"20181124T130000Z",race:"20181125T131000Z"})],Vc=function(){function e(){Object(Oe.a)(this,e)}return Object(ge.a)(e,[{key:"getF1Calendar",value:function(){return Promise.resolve(Zc)}},{key:"getRaceSchedule",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t,r=arguments;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"2018",e.next=3,Tn.getRaceSchedule(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getRacesResults",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t,r=arguments;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"2018",e.next=3,Tn.getAllRacesResults(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t,r=arguments;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"2018",e.next=3,Tn.getDrivers(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();var Wc,Lc,Fc,zc,qc,Hc,Gc,Jc,Yc,Kc,$c,Qc,Xc,ei,ti,ri,ai=(Pc=function(){function e(t){Object(Oe.a)(this,e),Object(Ee.a)(this,"_currentTime",Ic,this),Object(Ee.a)(this,"_tick",Bc,this),this._tickInterval=t}return Object(ge.a)(e,[{key:"start",value:function(){this._interval=setInterval(this._tick,1e3*this._tickInterval),this._tick()}},{key:"stop",value:function(){this._interval&&clearInterval(this._interval)}},{key:"currentTime",get:function(){return this._currentTime}},{key:"currentTimeUtcString",get:function(){return e=this._currentTime,v()(e).utc().format();var e}}]),e}(),Ic=Object(Se.a)(Pc.prototype,"_currentTime",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v()()}}),Bc=Object(Se.a)(Pc.prototype,"_tick",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._currentTime=v()()}}}),Object(Se.a)(Pc.prototype,"currentTime",[o.computed],Object.getOwnPropertyDescriptor(Pc.prototype,"currentTime"),Pc.prototype),Object(Se.a)(Pc.prototype,"currentTimeUtcString",[o.computed],Object.getOwnPropertyDescriptor(Pc.prototype,"currentTimeUtcString"),Pc.prototype),Pc),ni=(Wc=function(){function e(){Object(Oe.a)(this,e),Object(Ee.a)(this,"pendingTasksCount",Lc,this)}return Object(ge.a)(e,[{key:"runWithProgress",value:function(e){this.pendingTasksCount++,e(),this.pendingTasksCount--}},{key:"runWithProgressAsync",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r,a=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingTasksCount++,e.prev=1,e.next=4,t();case 4:return r=e.sent,Object(o.runInAction)(function(){a.pendingTasksCount--}),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),Object(o.runInAction)(function(){a.pendingTasksCount--});case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"hasPendingTasks",get:function(){return this.pendingTasksCount>0}}]),e}(),Lc=Object(Se.a)(Wc.prototype,"pendingTasksCount",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(Se.a)(Wc.prototype,"hasPendingTasks",[o.computed],Object.getOwnPropertyDescriptor(Wc.prototype,"hasPendingTasks"),Wc.prototype),Object(Se.a)(Wc.prototype,"runWithProgress",[o.action],Object.getOwnPropertyDescriptor(Wc.prototype,"runWithProgress"),Wc.prototype),Object(Se.a)(Wc.prototype,"runWithProgressAsync",[o.action],Object.getOwnPropertyDescriptor(Wc.prototype,"runWithProgressAsync"),Wc.prototype),Wc),ci=(Fc=function(){function e(t){var r=this,a=t.authenticationService,n=t.operationManager;Object(Oe.a)(this,e),Object(Ee.a)(this,"authenticatedUser",zc,this),this._authService=a,this._operationManager=n,this._operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){var t;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.authenticate();case 2:return(t=e.sent)instanceof vt&&Object(o.runInAction)(function(){r.authenticatedUser=t}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})))}return Object(ge.a)(e,[{key:"login",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r,a,n=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,a=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){var t;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._authService.login({login:r,password:a});case 2:if(!((t=e.sent)instanceof vt)){e.next=6;break}return Object(o.runInAction)(function(){n.authenticatedUser=t}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.isAuthenticated&&(this._authService.logout(),this.authenticatedUser=null)}},{key:"signIn",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r,a,n,c=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,a=t.name,n=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){var t;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c._authService.signIn({login:r,name:a,password:n});case 2:if(!((t=e.sent)instanceof vt)){e.next=6;break}return Object(o.runInAction)(function(){c.authenticatedUser=t}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isAuthenticated",get:function(){return null!==this.authenticatedUser}},{key:"isCurrentUserAdmin",get:function(){return this.isAuthenticated&&this.authenticatedUser.isAdmin}}]),e}(),zc=Object(Se.a)(Fc.prototype,"authenticatedUser",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(Se.a)(Fc.prototype,"isAuthenticated",[o.computed],Object.getOwnPropertyDescriptor(Fc.prototype,"isAuthenticated"),Fc.prototype),Object(Se.a)(Fc.prototype,"isCurrentUserAdmin",[o.computed],Object.getOwnPropertyDescriptor(Fc.prototype,"isCurrentUserAdmin"),Fc.prototype),Object(Se.a)(Fc.prototype,"login",[o.action],Object.getOwnPropertyDescriptor(Fc.prototype,"login"),Fc.prototype),Object(Se.a)(Fc.prototype,"logout",[o.action],Object.getOwnPropertyDescriptor(Fc.prototype,"logout"),Fc.prototype),Object(Se.a)(Fc.prototype,"signIn",[o.action],Object.getOwnPropertyDescriptor(Fc.prototype,"signIn"),Fc.prototype),Fc),ii=(qc=function(){function e(t){var r=t.operationManager,a=t.racerService;Object(Oe.a)(this,e),Object(Ee.a)(this,"racers",Hc,this),this._operationManager=r,this._racerService=a,this._loadRacers()}return Object(ge.a)(e,[{key:"_loadRacers",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){var r;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._racerService.fetchAll();case 3:r=e.sent,Object(o.runInAction)(function(){t.racers=r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Can't load 'racers' in 'RacerListModel'!!\n",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Hc=Object(Se.a)(qc.prototype,"racers",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(Se.a)(qc.prototype,"_loadRacers",[o.action],Object.getOwnPropertyDescriptor(qc.prototype,"_loadRacers"),qc.prototype),qc),si=(Gc=function(){function e(t){var r=t.operationManager,a=t.raceInfoService,n=t.timeWatcher;Object(Oe.a)(this,e),Object(Ee.a)(this,"races",Jc,this),this._operationManager=r,this._timeWatcher=n,this._raceInfoService=a,this.fetchRaces()}return Object(ge.a)(e,[{key:"fetchRaces",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){var r;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._raceInfoService.fetchAll();case 3:r=e.sent,Object(o.runInAction)(function(){t.races=r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Can't load 'races' in 'RacesStore'!!\n",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addNewBet",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r._raceInfoService.addOrUpdateBet(t,r.nextRace.id);case 3:return e.next=5,r.fetchRaces();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Can't update Bet in 'RacesStore'",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nextRace",get:function(){var e=this._timeWatcher.currentTime,t=this.races.filter(function(t){return Ge(t.raceStartTime,e)});return Object(xe.a)(t,1)[0]}}]),e}(),Jc=Object(Se.a)(Gc.prototype,"races",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(Se.a)(Gc.prototype,"nextRace",[o.computed],Object.getOwnPropertyDescriptor(Gc.prototype,"nextRace"),Gc.prototype),Object(Se.a)(Gc.prototype,"fetchRaces",[o.action],Object.getOwnPropertyDescriptor(Gc.prototype,"fetchRaces"),Gc.prototype),Object(Se.a)(Gc.prototype,"addNewBet",[o.action],Object.getOwnPropertyDescriptor(Gc.prototype,"addNewBet"),Gc.prototype),Gc),oi=(Yc=function(){function e(t){var r=this,a=t.userService,n=t.sessionModel,c=t.operationManager;Object(Oe.a)(this,e),Object(Ee.a)(this,"users",Kc,this),this._userService=a,this._operationManager=c,this._session=n,this._operationManager.runWithProgressAsync(function(){return r.fetchUsers()})}return Object(ge.a)(e,[{key:"fetchUsers",value:function(){var e=this;try{return this._operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function t(){var r;return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._userService.fetchAll();case 2:r=t.sent,Object(o.runInAction)(Object(bt.a)(dt.a.mark(function t(){return dt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.users=r;case 1:case"end":return t.stop()}},t,this)})));case 4:case"end":return t.stop()}},t,this)})))}catch(t){console.log("Can't load 'users' in UserModel!!\n",t)}}},{key:"deleteUser",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._userService.delete(t);case 2:return e.next=4,this.fetchUsers();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(bt.a)(dt.a.mark(function e(t){var r=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._userService.addOrUpdate(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"currentUser",get:function(){return this._session.authenticatedUser}}]),e}(),Kc=Object(Se.a)(Yc.prototype,"users",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(Se.a)(Yc.prototype,"currentUser",[o.computed],Object.getOwnPropertyDescriptor(Yc.prototype,"currentUser"),Yc.prototype),Object(Se.a)(Yc.prototype,"fetchUsers",[o.action],Object.getOwnPropertyDescriptor(Yc.prototype,"fetchUsers"),Yc.prototype),Object(Se.a)(Yc.prototype,"addOrUpdate",[o.action],Object.getOwnPropertyDescriptor(Yc.prototype,"addOrUpdate"),Yc.prototype),Yc),ui=($c=function(){function e(t){var r=t.formulaOneOfficialDataService,a=t.operationManager;Object(Oe.a)(this,e),Object(Ee.a)(this,"roundsInfo",Qc,this),Object(Ee.a)(this,"racesResults",Xc,this),Object(Ee.a)(this,"racers",ei,this),this._service=r,this._operationManager=a,this._fetchRacesSchedule(),this._fetchRacesResults(),this._fetchRacers()}return Object(ge.a)(e,[{key:"_fetchRacesSchedule",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){var r;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._service.fetchSeasonRoundsSchedule();case 3:r=e.sent,Object(o.runInAction)(function(){t.roundsInfo=r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacesResults",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){var r;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._service.fetchRacesResults();case 3:r=e.sent,Object(o.runInAction)(function(){t.racesResults=r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacers",value:function(){var e=Object(bt.a)(dt.a.mark(function e(){var t=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(bt.a)(dt.a.mark(function e(){var r;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._service.fetchRacers();case 3:r=e.sent,Object(o.runInAction)(function(){t.racers=r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Qc=Object(Se.a)($c.prototype,"roundsInfo",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xc=Object(Se.a)($c.prototype,"racesResults",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ei=Object(Se.a)($c.prototype,"racers",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$c),li=(ti=function(){function e(t,r){var a=this;Object(Oe.a)(this,e);var n=t.userService,c=t.authenticationService,i=t.raceInfoService,s=t.racerService,u=t.formulaOneOfficialDataService;this._raceInfoService=i,this._isProductionMode=r.isProductionMode();var l=r.getTickInterval();this._timeWatcher=new ai(l);var p=new ni;this._operationManager=p,this._sessionModel=new ci({authenticationService:c,operationManager:p}),this._racerListModel=new ii({racerService:s,operationManager:p}),this._racesModel=new si({raceInfoService:i,operationManager:p,timeWatcher:this._timeWatcher}),this._usersModel=new oi({operationManager:p,userService:n,sessionModel:this._sessionModel}),this._formulaOneOfficialModel=new ui({formulaOneOfficialDataService:u,operationManager:p}),Object(o.when)(function(){return a.nextRace&&Ge(a._timeWatcher.currentTime,a.nextRace.raceStartTime)},Object(bt.a)(dt.a.mark(function e(){return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._racesModel.fetchRaces();case 2:case"end":return e.stop()}},e,this)})))}return Object(ge.a)(e,[{key:"addNewBet",value:function(e){return this._racesModel.addNewBet(e)}},{key:"isUserAlreadyBet",get:function(){var e=this;return!!this._sessionModel.authenticatedUser&&(!!this.nextRace&&this.nextRace.bets.some(function(t){return t.userInfo.id===e._sessionModel.authenticatedUser.id}))}},{key:"races",get:function(){return this._racesModel.races}},{key:"racers",get:function(){return this._racerListModel.racers}},{key:"isProduction",get:function(){return this._isProductionMode}},{key:"isBetsAllowed",get:function(){var e=this.nextRace&&this.nextRace.raceStartTime,t=this.nextRace&&this.nextRace.qualifyingStartTime;return!(!t||!e)&&(t&&e&&!function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"minute";return e=He(e),t=He(t),r=He(r),e.isBetween(t,r,a)}(this.timeWatcher.currentTime,function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=He(e)).subtract(t,r)}(t,15),e))}},{key:"isUserAuthenticated",get:function(){return this._sessionModel.isAuthenticated}},{key:"isUserAdmin",get:function(){return this._sessionModel.isCurrentUserAdmin}},{key:"nextRace",get:function(){return this._racesModel.nextRace}},{key:"authUserBets",get:function(){var e=[];if(!this._sessionModel.authenticatedUser)return e;var t=this._sessionModel.authenticatedUser.id;return this.races.forEach(function(r){var a=r.bets,n=r.prettyTitle,c=r.id;if(a.some(function(e){return e.userInfo.id===t})){var i=a[a.findIndex(function(e){return e.userInfo.id===t})];e.push({raceId:c,title:n,bet:i.betsMap})}}),e}},{key:"session",get:function(){return this._sessionModel}},{key:"usersModel",get:function(){return this._usersModel}},{key:"timeWatcher",get:function(){return this._timeWatcher}},{key:"operationManager",get:function(){return this._operationManager}},{key:"formulaOneOfficial",get:function(){return this._formulaOneOfficialModel}}]),e}(),Object(Se.a)(ti.prototype,"isUserAlreadyBet",[o.computed],Object.getOwnPropertyDescriptor(ti.prototype,"isUserAlreadyBet"),ti.prototype),Object(Se.a)(ti.prototype,"races",[o.computed],Object.getOwnPropertyDescriptor(ti.prototype,"races"),ti.prototype),Object(Se.a)(ti.prototype,"racers",[o.computed],Object.getOwnPropertyDescriptor(ti.prototype,"racers"),ti.prototype),Object(Se.a)(ti.prototype,"isBetsAllowed",[o.computed],Object.getOwnPropertyDescriptor(ti.prototype,"isBetsAllowed"),ti.prototype),Object(Se.a)(ti.prototype,"authUserBets",[o.computed],Object.getOwnPropertyDescriptor(ti.prototype,"authUserBets"),ti.prototype),ti),pi=function(){function e(t){var r=t.configProvider;Object(Oe.a)(this,e),this._isProductionMode=r.isProductionMode(),this._services=function(e){var t=e.getUserStoreApiUrl(),r=e.getRaceStoreApiUrl(),a=e.getLocalStorageUserKey(),n=new Vc,c=new Xn({userStoreApiUrl:t}),i=new ec({raceInfoStoreApiUrl:r});return{userService:c,authenticationService:new tc({localStorageUserKey:a,userService:c,cryptoService:nc}),raceInfoService:i,racerService:new Sc,teamService:new xc,formulaOneOfficialDataService:new Cc({formulaOneOfficialDataRepository:n})}}(r),this._appModel=new li(this._services,r),this._stores=Yn(this._appModel)}return Object(ge.a)(e,[{key:"getStores",value:function(){return this._stores}}]),e}(),hi=Object(_e.a)(ri=function(e){function t(){return Object(Oe.a)(this,t),Object(ye.a)(this,Object(je.a)(t).apply(this,arguments))}return Object(we.a)(t,e),Object(ge.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.a.Component))||ri;Object(o.configure)({enforceActions:"strict"});var mi=new pi({configProvider:h}).getStores();i.a.render(n.a.createElement(u.a,mi,n.a.createElement(s.a,null,n.a.createElement(hi,null,n.a.createElement(Ba,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");l?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):p(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):p(e)})}}()}},[[397,2,1]]]);