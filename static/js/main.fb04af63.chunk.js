(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{144:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1),a=r(10),c=r(8),i=r(9),o=function(e){function t(e){var r,i=e.season,o=e.raceName,s=e.raceUrl,u=e.circuit,l=e.roundSchedule;return Object(n.a)(this,t),(r=Object(a.a)(this,Object(c.a)(t).call(this,{season:i,raceName:o}))).raceUrl=s,r.circuit=u,r.roundSchedule=l,r}return Object(i.a)(t,e),t}(r(145).a)},145:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(1),a=r(146),c=r.n(a),i=function e(t){var r=t.season,a=t.raceName;Object(n.a)(this,e),this.season=r,this.raceName=a,this.roundId=c()("".concat(this.raceName," ").concat(this.season))}},15:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={HOME:"/",CALENDAR:"/calendar",BETS:"/bet",ADMIN:"/admin",RESULTS:"/results",RACERS:"/racers",TEAMS:"/teams",LOGIN:"/login",LOGOUT:"/logout",BETS_HISTORY:"/bets-history"}},197:function(e,t,r){"use strict";var n=r(1),a=r(5),c=r(10),i=r(8),o=r(9),s=function(){function e(){Object(n.a)(this,e),this._score=[]}return Object(a.a)(e,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._score.push(e)}},{key:"getPointsAt",value:function(e){return this._score[e]}},{key:"value",get:function(){return this._score.reduce(function(e,t){return e+t},0)}},{key:"tooltip",get:function(){return this._score.join("-")}}]),e}();function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new s;return t?function(e,t){var r=new s,n=t.slice(0,10);return e.forEach(function(e,a){if(e){var c=t.findIndex(function(t){return t===e}),i=Math.abs(c-a),o=n.some(function(t){return t===e}),s=i<5?10-2*i:o?2:0;r.add(s)}else r.add(0)}),r}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Array(t).fill(null).map(function(t,r){return e[r+1]?e[r+1]:""})}(e),Object.values(t)):r}var l=r(73);r.d(t,"a",function(){return p});var p="official-results",f=function(e){function t(e){var r,a=e.userName,o=e.userId,s=e.userBetsMap,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(n.a)(this,t),(r=Object(c.a)(this,Object(i.a)(t).call(this,{name:a,id:o}))).userPoll=s,r.userScore=u(s,l),r}return Object(o.a)(t,e),Object(a.a)(t,null,[{key:"createOfficialResults",value:function(e){return new t({userName:"Formula 1 (Official)",userId:p,userBetsMap:e})}}]),t}(l.a);t.b=f},200:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1),a=function e(t){var r=t.raceName,a=t.raceTime,c=t.qualTime,i=t.practice1Time,o=t.practice2Time,s=t.practice3Time,u=t.id;Object(n.a)(this,e),this.raceName=r,this.raceTime=a,this.qualTime=c,this.practice1Time=i,this.practice2Time=o,this.practice3Time=s,this.raceId=u}},201:function(e,t,r){"use strict";var n=r(1),a=r(38);t.a=function e(t){var r=t.userInfo,c=t.betsMap;Object(n.a)(this,e),this.userInfo=r,this.betsMap=function(e){if(e instanceof Map){var t={},r=!0,n=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value,u=Object(a.a)(s,2),l=u[0],p=u[1];p&&(t[l]=p)}}catch(f){n=!0,c=f}finally{try{r||null==o.return||o.return()}finally{if(n)throw c}}return t}return e}(c)}},202:function(e,t,r){"use strict";var n=r(1);t.a=function e(t){var r=t.racerId,a=t.racerFullName,c=t.racerPoints,i=t.racerUrl,o=t.racerNumber,s=t.racerNationality,u=t.constructorName,l=t.constructorUrl;Object(n.a)(this,e),this.racerId=r,this.racerFullName=a,this.racerUrl=i,this.racerPoints=c,this.racerNumber=o,this.racerNationality=s,this.constructorUrl=l,this.constructorName=u}},203:function(e,t,r){"use strict";var n=r(1);t.a=function e(t){var r=t.pos,a=t.name,c=t.id,i=t.points,o=t.url,s=t.nationality;Object(n.a)(this,e),this.pos=r,this.name=a,this.id=c,this.points=i,this.url=o,this.nationality=s}},3:function(e,t,r){"use strict";r(403),r(405);var n=r(26),a=r.n(n),c=r(150),i=r.n(c),o=r(206),s=r.n(o),u=r(207),l=r.n(u),p=r(208),f=r.n(p),d=r(210),h=r.n(d),m=r(211),b=r.n(m),v=r(212),O=r.n(v),y=r(213),g=r.n(y),j=r(214),_=r.n(j),w=r(215),k=r.n(w),T=r(223),S=r.n(T),E=r(224),M=r.n(E),N=r(228),x=r.n(N),R=r(227),Z=r.n(R),U=r(225),A=r.n(U),P=r(226),I=r.n(P),B=r(220),D=r.n(B),C=r(221),q=r.n(C),W=r(205),F=r.n(W),L=r(229),z=r.n(L),V=r(230),H=r.n(V),Y=r(222),G=r.n(Y),J=r(231),K=r.n(J),$=r(232),Q=r.n($),X=r(233),ee=r.n(X),te=r(234),re=r.n(te),ne=r(235),ae=r.n(ne),ce=r(2),ie=r.n(ce),oe=r(6),se=r(108),ue=r.n(se),le={get:function(){var e=Object(oe.a)(ie.a.mark(function e(t){return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.get(t);case 3:return e.abrupt("return",e.sent.data);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),put:function(){var e=Object(oe.a)(ie.a.mark(function e(t,r){return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",ue.a.put(t,r));case 4:e.prev=4,e.t0=e.catch(0),console.error(e.t0.message);case 7:case"end":return e.stop()}},e,this,[[0,4]])}));return function(t,r){return e.apply(this,arguments)}}()};r.d(t,"a",function(){return F.a}),r.d(t,"b",function(){return i.a}),r.d(t,"e",function(){return s.a}),r.d(t,"w",function(){return l.a}),r.d(t,"c",function(){return f.a}),r.d(t,"i",function(){return h.a}),r.d(t,"k",function(){return b.a}),r.d(t,"m",function(){return O.a}),r.d(t,"n",function(){return g.a}),r.d(t,"z",function(){return _.a}),r.d(t,"d",function(){return k.a}),r.d(t,"r",function(){return D.a}),r.d(t,"s",function(){return q.a}),r.d(t,"t",function(){return G.a}),r.d(t,"u",function(){return S.a}),r.d(t,"v",function(){return M.a}),r.d(t,"g",function(){return A.a}),r.d(t,"f",function(){return I.a}),r.d(t,"h",function(){return Z.a}),r.d(t,"A",function(){return x.a}),r.d(t,"x",function(){return z.a}),r.d(t,"y",function(){return H.a}),r.d(t,"l",function(){return K.a}),r.d(t,"j",function(){return Q.a}),r.d(t,"o",function(){return ee.a}),r.d(t,"q",function(){return re.a}),r.d(t,"p",function(){return ae.a}),r.d(t,"B",function(){return le}),a.a.locale("ru")},31:function(e,t,r){"use strict";r.d(t,"d",function(){return c}),r.d(t,"e",function(){return i}),r.d(t,"g",function(){return o}),r.d(t,"a",function(){return s}),r.d(t,"b",function(){return u}),r.d(t,"c",function(){return l}),r.d(t,"f",function(){return p});var n=r(26),a=r.n(n);function c(e){return a()(e).format("D MMMM YYYY, HH:mm")}function i(e){return a()(e).format("D MMMM YYYY, HH:mm:ss")}function o(e){return a()(e).utc().format()}function s(e){return a()(e).format("DD MMMM")}function u(e){return a()(e).format("ddd")}function l(e){return a()(e).format("HH:mm")}function p(e){return a()(e).format("D MMM YYYY")}},351:function(e,t,r){"use strict";var n=r(58),a=r(64),c=r(33),i=r(1),o=r(5),s=r(143),u=r.n(s),l=r(197),p=function(){function e(t){var r=this,n=t.race,a=t.finishedRacers,c=void 0===a?[]:a;Object(i.a)(this,e),this._officialResults=null,this._officialResultsBetMap=null,this.raceId=n.roundId,this.raceTitle=n.prettyTitle+" "+n.season,c.length>0&&(this._officialResultsBetMap=this._convertToBetMap(c),this._officialResults=l.b.createOfficialResults(this._officialResultsBetMap)),this._userVotes=n.bets.map(function(e){return new l.b({userName:e.userInfo.name,userId:e.userInfo.id,userBetsMap:e.betsMap},r._officialResultsBetMap)})}return Object(o.a)(e,[{key:"_convertToBetMap",value:function(e){return e.reduce(function(e,t,r){return Object(c.a)({},e,Object(a.a)({},r+1,t.code))},{})}},{key:"hasOfficialResults",get:function(){return null!==this._officialResults}},{key:"userBetsResults",get:function(){if(this.hasOfficialResults){var e=u()(this._userVotes,function(e){return-e.userScore.value});return[this._officialResults].concat(Object(n.a)(e))}return Object(n.a)(this._userVotes)}},{key:"userVotes",get:function(){return this._userVotes}}]),e}();t.a=p},352:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(1),a=function e(t){var r=t.userId,a=t.userName,c=t.totalPoints,i=void 0===c?0:c;Object(n.a)(this,e),this.userId=r,this.userName=a,this.totalPoints=i}},398:function(e,t,r){e.exports=r(733)},40:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(149),a=r.n(n),c="-26bf-11e8-";function i(){return a()()+a()(c)}},439:function(e,t,r){},441:function(e,t,r){},443:function(e,t,r){},447:function(e,t,r){},449:function(e,t,r){},451:function(e,t,r){},453:function(e,t,r){},457:function(e,t,r){},459:function(e,t,r){},461:function(e,t,r){},463:function(e,t,r){},465:function(e,t,r){},467:function(e,t,r){},47:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(1),a=r(5),c=r(10),i=r(8),o=r(9),s=r(73),u=r(40),l=function(e){function t(e){var r,a=e.login,o=e.name,s=e.password,l=e.id,p=e.isAdmin,f=void 0!==p&&p,d=e.isTesting,h=void 0!==d&&d;return Object(n.a)(this,t),(r=Object(c.a)(this,Object(i.a)(t).call(this,{name:o,id:l}))).login=a,r.password=s,r.id=l||Object(u.a)(),r.isAdmin=f,r.isTesting=h,r}return Object(o.a)(t,e),Object(a.a)(t,[{key:"toUserInfo",value:function(){return new s.a(this)}}],[{key:"fromJs",value:function(e){var r=e.login,n=e.name,a=e.password,c=e.id,i=e.isAdmin;return new t({login:r,name:n,password:a,id:c,isAdmin:void 0!==i&&i})}}]),t}(s.a)},472:function(e,t,r){},474:function(e,t,r){},644:function(e,t,r){var n={"./ar":305,"./ar.js":305,"./az":306,"./az.js":306,"./be":307,"./be.js":307,"./bg":308,"./bg.js":308,"./bs":309,"./bs.js":309,"./ca":310,"./ca.js":310,"./cs":311,"./cs.js":311,"./cy":312,"./cy.js":312,"./da":313,"./da.js":313,"./de":314,"./de.js":314,"./el":315,"./el.js":315,"./en":182,"./en.js":182,"./es":316,"./es.js":316,"./et":317,"./et.js":317,"./eu":318,"./eu.js":318,"./fa":319,"./fa.js":319,"./fi":320,"./fi.js":320,"./fr":321,"./fr.js":321,"./hr":322,"./hr.js":322,"./hu":323,"./hu.js":323,"./id":324,"./id.js":324,"./it":325,"./it.js":325,"./ja":326,"./ja.js":326,"./ka":327,"./ka.js":327,"./ko":328,"./ko.js":328,"./lt":329,"./lt.js":329,"./lv":330,"./lv.js":330,"./mk":331,"./mk.js":331,"./mn":332,"./mn.js":332,"./ms":333,"./ms.js":333,"./nb_NO":334,"./nb_NO.js":334,"./nl":335,"./nl.js":335,"./pl":336,"./pl.js":336,"./pt":337,"./pt.js":337,"./pt_BR":338,"./pt_BR.js":338,"./ro":339,"./ro.js":339,"./ru":340,"./ru.js":340,"./sl":341,"./sl.js":341,"./sq":342,"./sq.js":342,"./sr":343,"./sr.js":343,"./sv":344,"./sv.js":344,"./tr":345,"./tr.js":345,"./ua":346,"./ua.js":346,"./uk":347,"./uk.js":347,"./vi":348,"./vi.js":348,"./zh":349,"./zh.js":349,"./zh_TW":350,"./zh_TW.js":350};function a(e){var t=c(e);return r(t)}function c(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}a.keys=function(){return Object.keys(n)},a.resolve=c,e.exports=a,a.id=644},652:function(e,t){},654:function(e,t){},686:function(e,t){},687:function(e,t){},73:function(e,t,r){"use strict";var n=r(1);t.a=function e(t){var r=t.name,a=t.id;Object(n.a)(this,e),this.name=r,this.id=a}},733:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(50),i=r.n(c),o=r(789),s=r(4),u=r(19),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var f,d,h,m,b={isProductionMode:function(){return!0},getUserStoreApiUrl:function(){return"https://api.myjson.com/bins/ei8zv"},getRaceStoreApiUrl:function(){return"https://api.myjson.com/bins/fp47f"},getLocalStorageUserKey:function(){return"f1betsappuserid"},getTickInterval:function(){return"1"},getCurrentSeason:function(){return"2019"},getVoteClosingTime:function(){return parseInt("15#minutes",10)}},v=r(3),O=r(1),y=r(5),g=r(10),j=r(8),_=r(9),w=r(792),k=(r(439),r(441),r(20)),T=r(72),S=r(7),E=(r(41),r(443),r(15)),M=r(47),N=r(783),x=function(e){var t=e.path,r=void 0===t?"/":t,n=e.className,c=void 0===n?"":n,i=e.disabled,o=void 0!==i&&i,s=e.children;return o?s:a.a.createElement(N.a,{to:r,className:c},s)},R=function(e){var t=e.user,r=t.isAdmin,n=t.name;return a.a.createElement(v.A,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},a.a.createElement(v.f,{header:!0},n),r&&a.a.createElement(v.f,null,a.a.createElement(x,{path:E.a.ADMIN,className:"nav-bar-drop-down-menu__link"},"\u0410\u0434\u043c\u0438\u043d\u043a\u0430")),a.a.createElement(v.f,{disabled:!0},a.a.createElement(x,{path:E.a.BETS,disabled:!0,className:"nav-bar-drop-down-menu__link"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c")),a.a.createElement(v.f,null,a.a.createElement(x,{path:E.a.BETS_HISTORY,className:"nav-bar-drop-down-menu__link"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439")),a.a.createElement(v.f,{divider:!0}),a.a.createElement(v.f,null,a.a.createElement(x,{path:E.a.LOGOUT,className:"nav-bar-drop-down-menu__link"},"\u0412\u044b\u0445\u043e\u0434"))))},Z=Object(u.b)(function(e){return{isAuthenticated:e.appStore.isUserAuthenticated,authenticatedUser:e.appStore.authenticatedUser,isBetsAllowed:e.appStore.isBetsAllowed,isUserAlreadyBet:e.appStore.isUserAlreadyBet}})(f=Object(u.c)((d=function(e){function t(){var e,r;Object(O.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a))),Object(k.a)(r,"isOpen",h,Object(T.a)(Object(T.a)(r))),Object(k.a)(r,"handleToggle",m,Object(T.a)(Object(T.a)(r))),r}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,r=e.authenticatedUser,n=e.isBetsAllowed,c=e.isUserAlreadyBet;return a.a.createElement(v.u,{className:"navigation-bar",color:"dark",dark:!0,expand:"md",fixed:"top"},a.a.createElement(v.e,null,a.a.createElement(x,{path:E.a.HOME,className:"navbar-brand"},"Formula 1 Bets App"),a.a.createElement(v.v,{onClick:this.handleToggle}),a.a.createElement(v.d,{isOpen:this.isOpen,navbar:!0},a.a.createElement(v.r,{className:"ml-auto",navbar:!0},a.a.createElement(v.A,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},t&&a.a.createElement(v.f,{disabled:!n},a.a.createElement(x,{path:E.a.BETS,className:"nav-bar-drop-down-menu__link",disabled:!n},c?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437")),a.a.createElement(v.f,null,a.a.createElement(x,{path:E.a.RESULTS,className:"nav-bar-drop-down-menu__link"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f")),t&&a.a.createElement(v.f,null,a.a.createElement(x,{path:E.a.BETS_HISTORY,className:"nav-bar-drop-down-menu__link"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0412\u0430\u0448\u0438\u0445 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439")))),a.a.createElement(v.A,{nav:!0,inNavbar:!0},a.a.createElement(v.h,{nav:!0,caret:!0},"\u0427\u0435\u043c\u043f\u0438\u043e\u043d\u0430\u0442"),a.a.createElement(v.g,{className:"nav-bar-drop-down-menu",right:!0},a.a.createElement(v.f,null,a.a.createElement(x,{path:E.a.CALENDAR,className:"nav-bar-drop-down-menu__link"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c")),a.a.createElement(v.f,null,a.a.createElement(x,{path:E.a.RACERS,className:"nav-bar-drop-down-menu__link"},"\u0413\u043e\u043d\u0449\u0438\u043a\u0438")),a.a.createElement(v.f,null,a.a.createElement(x,{path:E.a.TEAMS,className:"nav-bar-drop-down-menu__link"},"\u041a\u043e\u043c\u0430\u043d\u0434\u044b")))),t?r&&a.a.createElement(R,{user:r,isBetsAllowed:n}):a.a.createElement(v.s,null,a.a.createElement(x,{path:E.a.LOGIN,className:"nav-link"},"\u0412\u0445\u043e\u0434"))))))}}]),t}(a.a.Component),h=Object(S.a)(d.prototype,"isOpen",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(S.a)(d.prototype,"handleToggle",[s.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isOpen=!e.isOpen}}}),f=d))||f)||f,U=r(26),A=r.n(U),P=function(e){var t=e.value,r=e.label;return a.a.createElement("div",{className:"awesome-countdown-timer__section awesome-countdown-timer-section"},a.a.createElement("div",{className:"awesome-countdown-timer-section__time"},t),a.a.createElement("div",{className:"awesome-countdown-timer-section__label"},r))},I=function(e){var t=e.splitter,r=void 0===t?":":t;return a.a.createElement("div",{className:"awesome-countdown-timer__splitter"},r)};var B=function(e){var t=e.className,r=e.withSplitter,n=function(e){var t={months:"",days:"",hours:"",minutes:"",seconds:""};return e?(Math.floor(e.asMonths())>0&&(Math.floor(e.months())<10?t.months="0"+Math.floor(e.months()):t.months=Math.floor(e.months())),Math.floor(e.asDays())>0&&(Math.floor(e.days())<10?t.days="0"+Math.floor(e.days()):t.days=Math.floor(e.days())),Math.floor(e.asHours())>0&&(Math.floor(e.hours())<10?t.hours="0"+Math.floor(e.hours()):t.hours=Math.floor(e.hours())),Math.floor(e.asMinutes())>0&&(Math.floor(e.minutes())<10?t.minutes="0"+Math.floor(e.minutes()):t.minutes=Math.floor(e.minutes())),Math.floor(e.asSeconds())>0&&(Math.floor(e.seconds())<10?t.seconds="0"+Math.floor(e.seconds()):t.seconds=Math.floor(e.seconds())),t):t}(e.duration),c=n.months,i=n.days,o=n.hours,s=n.minutes,u=n.seconds;return a.a.createElement("div",{className:"awesome-countdown-timer ".concat(t)},c&&a.a.createElement(P,{value:c,label:"Months"}),r&&c&&a.a.createElement(I,null),i&&a.a.createElement(P,{value:i,label:"Days"}),r&&i&&a.a.createElement(I,null),o&&a.a.createElement(P,{value:o,label:"Hours"}),r&&o&&a.a.createElement(I,null),s&&a.a.createElement(P,{value:s,label:"Minutes"}),r&&s&&a.a.createElement(I,null),u&&a.a.createElement(P,{value:u,label:"Seconds"}))};B.defaultProps={className:"",withSplitter:!1};var D=B;r(447);var C=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.withSplitter,n=function(e,t){var r=e?A()(e):A()(),n=A()(t),a=A.a.duration(n.diff(r));return a.asSeconds()>=0?a:null}(e.startDate,e.endDate);return a.a.createElement(D,{className:t,duration:n,withSplitter:r})}}]),t}(n.Component);C.defaultProps={className:"",withSplitter:!1};var q,W,F,L=C,z=(r(449),function(e){var t=e.startTime,r=e.endTime,n=e.className,c=void 0===n?"":n;return a.a.createElement(L,{className:"countdown-timer "+c,startDate:t,endDate:r,withSplitter:!0})}),V=r(90),H=(r(451),function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nextRace,r=e.currentTimeUtcString;return a.a.createElement(v.e,{className:"next-race-notifier alert-info"},a.a.createElement(v.w,null,a.a.createElement(v.c,{xs:12,sm:8,md:8,className:"next-race-notifier__race-info"},"\u0414\u043e \u0441\u0442\u0430\u0440\u0442\u0430 \u0433\u043e\u043d\u043a\u0438",a.a.createElement("strong",{className:"next-race-notifier__race-title"},t.title)),a.a.createElement(v.c,{xs:12,sm:4,md:4},a.a.createElement(z,{className:"next-race-notifier__countdown-timer",startTime:r,endTime:t.raceStartTime}))))}}]),t}(a.a.Component)),Y=Object(u.b)("headerStore")(q=Object(u.c)((F=W=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.headerStore,r=e.className,n=t.nextRace,c=t.currentTimeUtcString;return a.a.createElement("header",{className:r},a.a.createElement(Z,null),n&&a.a.createElement("section",{className:"colors--very-light-green"},a.a.createElement(H,{nextRace:n,currentTimeUtcString:c})))}}]),t}(a.a.Component),W.defaultProps={className:""},q=F))||q)||q;function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var J=a.a.createElement("path",{fill:"currentColor",d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"}),K=function(e){return a.a.createElement("svg",G({viewBox:"0 0 496 512"},e),J)},$=(r.p,r(453),(new Date).getFullYear()),Q=function(e){var t=e.className,r=void 0===t?"":t;return a.a.createElement("footer",{className:"".concat(r," footer")},a.a.createElement(v.e,null,a.a.createElement(v.w,{className:"footer__social-media-links"},a.a.createElement(v.c,{className:"footer__copyright"},"\xa9 2018 - ",$," F1 fun's team"),a.a.createElement(v.c,{xs:"2"},a.a.createElement(v.w,{className:"social-media-links"},a.a.createElement(v.c,{className:"social-media-links__telegram-box"},a.a.createElement("a",{href:"https://t.me/f1funteam",className:"footer__link social-media-links__link"},a.a.createElement(K,{className:"social-media-links__icon"}))))))))},X=r(40),ee=r(109),te=r.n(ee),re=r(113),ne=r(31);function ae(e){return e instanceof A.a?e:A()(e)}function ce(e,t){return ae(e).isAfter(ae(t))}function ie(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=ae(e)).add(t,r)}var oe=function(){function e(t){Object(O.a)(this,e),this._date=t}return Object(y.a)(e,[{key:"title",get:function(){return"\u0413\u043e\u043d\u043a\u0430"}},{key:"day",get:function(){return Object(ne.b)(this._date)}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(ne.c)(this._date)):""}}]),e}(),se=function(e){function t(e,r){var n;return Object(O.a)(this,t),(n=Object(g.a)(this,Object(j.a)(t).call(this,r)))._practiceNumber=e,n}return Object(_.a)(t,e),Object(y.a)(t,[{key:"title",get:function(){return"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 ".concat(this._practiceNumber)}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(ne.c)(this._date)," - ").concat(Object(ne.c)(ie(this._date,3===this._practiceNumber?1:1.5,"hour"))):""}}]),t}(oe),ue=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"title",get:function(){return"\u041a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"}},{key:"timeInterval",get:function(){return this._date?"".concat(Object(ne.c)(this._date)," - ").concat(Object(ne.c)(ie(this._date,1,"hour"))):""}}]),t}(oe),le=function(){function e(t){Object(O.a)(this,e),this._roundInfo=t,this.racerStandings=[]}return Object(y.a)(e,[{key:"addRacerStandings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.racerStandings=e,this}},{key:"_firstPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[0]||""}},{key:"_secondPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[1]||""}},{key:"_thirdPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[2]||""}},{key:"_qualificationStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.qualification:""}},{key:"raceStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.race:""}},{key:"countryName",get:function(){return this._roundInfo.circuit.countryName}},{key:"circuitUrl",get:function(){return this._roundInfo.circuit.url}},{key:"raceUrl",get:function(){return this._roundInfo.raceUrl}},{key:"flagUrl",get:function(){return Object(re.findFlagUrlByCountryName)(this.countryName)}},{key:"raceTitle",get:function(){return"Formula 1 ".concat(this._roundInfo.raceName," ").concat(this._roundInfo.season)}},{key:"practices",get:function(){return[new se(1,this._firstPracticeStartTime),new se(2,this._secondPracticeStartTime),new se(3,this._thirdPracticeStartTime)]}},{key:"qualification",get:function(){return new ue(this._qualificationStartTime)}},{key:"race",get:function(){return new oe(this.raceStartTime)}},{key:"weekendInterval",get:function(){return"".concat(Object(ne.f)(this._firstPracticeStartTime)," - ").concat(Object(ne.f)(this.raceStartTime))}}]),e}(),pe=(r(457),r(89)),fe=(r(459),function(e){var t=e.className,r=e.children,n=Object(pe.a)(e,["className","children"]);return a.a.createElement("a",Object.assign({className:te()("text-link",t)},n),r)}),de=(r(461),function(e){var t=e.className,r=void 0===t?"":t,n=e.countryName,c=e.flagUrl,i=e.countryUrl;return a.a.createElement("div",{className:"country-info ".concat(r)},a.a.createElement("div",{className:"country-info__flag"},a.a.createElement("img",{className:"country-info__flag-image",src:c,alt:n})),a.a.createElement(fe,{href:i,target:"_blank",className:"country-info__country-name"},n))}),he=(r(463),r(74)),me=function(e){function t(e){var r=e.firstName,n=e.lastName,a=e.number,c=e.abbreviation,i=e.points,o=e.nationality;return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).call(this,r,n,a,c,i,o))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"flagUrl",get:function(){return Object(re.findFlagUrlByNationality)(this.nationality)}}]),t}(he.a),be=(r(465),function(e){var t=e.className,r=void 0===t?"":t,n=e.flagUrl,c=void 0===n?"":n,i=e.name,o=void 0===i?"":i,s=e.code;return a.a.createElement("div",{className:"racer-view ".concat(r),title:o},c&&a.a.createElement("img",{className:"racer-view__image",src:c,alt:o}),a.a.createElement("span",null,s))}),ve=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.racers,r=e.rowSize;return Array(t.length/r).fill(0).map(function(e,n){return t.slice(n*r,n*r+r)}).map(function(e,t){return a.a.createElement("div",{key:t,className:"racer-standings-widget__row"},e.map(function(e,n){return a.a.createElement("div",{className:"racer-standings-widget__racer",key:e.code},a.a.createElement("div",{className:"racer-standings-widget__racer-pos-number"},n+(t*r+1)),a.a.createElement(be,{className:"racer-standings-widget__racer-name",code:e.code,name:e.name}))}))})}}]),t}(a.a.Component);ve.defaultProps={rowSize:20};var Oe=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.raceInfo,r=e.infoText,n=e.commandButton,c=t.flagUrl,i=t.countryName,o=t.raceTitle,s=t.weekendInterval,u=t.practices,l=t.qualification,p=t.race,f=t.circuitUrl,d=t.raceUrl,h=t.racerStandings;return a.a.createElement(v.e,{className:"race-info-panel"},a.a.createElement(v.w,null,a.a.createElement(v.c,{xs:12},a.a.createElement(de,{className:"race-info-panel__country-info",countryName:i,flagUrl:c,countryUrl:f}),a.a.createElement(fe,{target:"_blank",href:d,className:"race-info-panel__grand-prix-title"},o))),a.a.createElement(v.w,null,a.a.createElement(v.c,{className:"race-info-panel__weekend-interval"},s)),a.a.createElement(v.w,{className:"justify-content-around section race-info-panel__weekend-schedule"},a.a.createElement(v.c,{className:"race-info-panel__practice-list",md:5},u.map(function(e){var t=e.title,r=e.day,n=e.timeInterval;return a.a.createElement(v.w,{className:"race-info-panel__stage-info",key:t.split(" ").join("_")},a.a.createElement(v.c,{xs:5},t),a.a.createElement(v.c,{xs:2},r.toUpperCase()),a.a.createElement(v.c,null,n))})),a.a.createElement(v.c,{className:"race-info-panel__race-description",md:5},a.a.createElement(v.w,{className:"race-info-panel__stage-info"},a.a.createElement(v.c,{xs:5},l.title),a.a.createElement(v.c,{xs:2},l.day.toUpperCase()),a.a.createElement(v.c,null,l.timeInterval)),a.a.createElement(v.w,{className:"race-info-panel__stage-info"},a.a.createElement(v.c,{xs:5},p.title),a.a.createElement(v.c,{xs:2},p.day.toUpperCase()),a.a.createElement(v.c,null,p.timeInterval)))),h.length>0&&a.a.createElement(ve,{racers:h}),a.a.createElement(v.w,null,a.a.createElement(v.c,null,a.a.createElement(n,null))),a.a.createElement("hr",{className:"race-info-panel__underscore"}),r&&a.a.createElement(v.w,null,a.a.createElement(v.c,null,a.a.createElement(v.l,{color:"muted"},r))))}}]),t}(a.a.Component);Oe.defaultProps={infoText:""};var ye,ge,je,_e,we,ke,Te,Se,Ee,Me,Ne,xe,Re,Ze,Ue,Ae,Pe,Ie,Be=Oe,De=r(75),Ce=(ye=Object(u.b)(function(e){return{isBetsAllowed:e.homePageStore.isBetsAllowed,isUserAlreadyBet:e.homePageStore.isUserAlreadyBet,isAuthenticated:e.homePageStore.isAuthenticated}}),Object(w.a)(ge=ye(ge=Object(u.c)(ge=function(e){function t(){var e,r;Object(O.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleBetButtonClick=function(){r.props.isBetsAllowed?r.props.history.push(E.a.BETS):r.props.history.push(E.a.RESULTS)},r}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isBetsAllowed,r=e.isUserAlreadyBet,n=e.isAuthenticated,c="\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432";return c=t?n?r?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0412\u043e\u0439\u0442\u0438 \u0434\u043b\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f":"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432",a.a.createElement(De.a,{onClick:this.handleBetButtonClick},c)}}]),t}(a.a.Component))||ge)||ge)||ge),qe="\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f. \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0412\u0430\u0448\u0435 \u0443\u0447\u0430\u0441\u0442\u0438\u0435.",We=Object(u.b)("homePageStore")(je=Object(w.a)(je=Object(u.c)(je=function(e){function t(){var e,r;Object(O.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(c)))).handleShowMoreButtonClick=function(){r.props.history.push(E.a.RESULTS)},r.showMoreButton=function(){return a.a.createElement(De.a,{onClick:r.handleShowMoreButtonClick},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432")},r}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props.homePageStore,r=t.nextRaceInfo,n=t.previousRaces,c=t.isBetsAllowed;return a.a.createElement("div",{className:"home-page"},a.a.createElement("section",{className:"colors--very-light-red section"},r&&a.a.createElement(Be,{raceInfo:r,commandButton:Ce,infoText:c?"\u0421\u043f\u0435\u0448\u0438\u0442\u0435 \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043a\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0435\u0449\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f.":qe})),n.length>0&&a.a.createElement("section",{className:"section text-center"},"\u0420\u0430\u043d\u0435\u0435 \u0432 \u0441\u0435\u0440\u0438\u0430\u043b\u0435 :)"),n.map(function(t,r){var n=te()("section",{"colors--very-light-green":r%2===0,"colors--light-gray":r%2!==0});return a.a.createElement("section",{key:t.countryName,className:n},a.a.createElement(Be,{raceInfo:t,commandButton:e.showMoreButton,infoText:qe}))}))}}]),t}(n.Component))||je)||je)||je,Fe=r(788),Le=r(64),ze=r(33),Ve={LOGIN:"login",PASSWORD:"password"},He=Object(ze.a)({},Ve,{NAME:"name"}),Ye=(_e={},Object(Le.a)(_e,Ve.LOGIN,{name:Ve.LOGIN,label:"\u041b\u043e\u0433\u0438\u043d",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, superman",rules:"required|string|alpha_num|between:2,15"}),Object(Le.a)(_e,Ve.PASSWORD,{name:Ve.PASSWORD,label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, ******",rules:"required|string|alpha_num|between:5,15"}),_e),Ge=Object(ze.a)({},Ye,Object(Le.a)({},He.NAME,{name:He.NAME,label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, John Doe",rules:"required|string|between:3,25"})),Je=Object(u.c)(function(e){var t=e.form,r=t.$(Ve.LOGIN),n=r.error,c=Boolean(n),i=t.$(Ve.PASSWORD),o=i.error,s=Boolean(o);return a.a.createElement(v.i,null,a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:r.id},r.label),a.a.createElement(v.m,Object.assign({},r.bind(),{invalid:c,valid:r.isDirty&&!c})),a.a.createElement(v.j,{valid:!c},r.error)),a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:i.id},i.label),a.a.createElement(v.m,Object.assign({},i.bind({type:"password"}),{invalid:s,valid:i.isDirty&&!s})),a.a.createElement(v.j,{valid:!s},o)),a.a.createElement(v.b,{color:"primary",type:"submit",onClick:t.onSubmit,disabled:t.isEmpty||!t.isValid,style:{width:"100%"}},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),Ke=Object(u.c)(function(e){var t=e.form,r=t.$(He.NAME),n=r.error,c=Boolean(n),i=t.$(He.LOGIN),o=i.error,s=Boolean(o),u=t.$(He.PASSWORD),l=u.error,p=Boolean(l);return a.a.createElement(v.i,null,a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:r.id},r.label),a.a.createElement(v.m,Object.assign({},r.bind(),{invalid:c,valid:r.isDirty&&!c})),a.a.createElement(v.j,{valid:!c},n)),a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:i.id},i.label),a.a.createElement(v.m,Object.assign({},i.bind(),{invalid:s,valid:i.isDirty&&!s})),a.a.createElement(v.j,{valid:!s},o)),a.a.createElement(v.k,null,a.a.createElement(v.n,{htmlFor:u.id},u.label),a.a.createElement(v.m,Object.assign({},u.bind({type:"password"}),{invalid:p,valid:u.isDirty&&!p})),a.a.createElement(v.j,{valid:!p},l),a.a.createElement(v.l,{color:"muted"},"\u0412\u0410\u0416\u041d\u041e! \u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u0412\u0430\u0448\u0438 \u043f\u0430\u0440\u043e\u043b\u0438 \u043e\u0442 \u0431\u0430\u043d\u043a\u043e\u0432\u043a\u0438\u0445 \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0430\u043a\u0430\u0443\u043d\u0442\u043e\u0432. ",a.a.createElement("br",null),"\u042d\u0442\u043e\u0442 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043a\u0430\u043a-\u0442\u043e \u043e\u0441\u043e\u0431\u043e \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0435\u0433\u043e \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u043b\u043e\u0443\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u0438\u043a\u0438. ",a.a.createElement("br",null),"\u041d\u0443, \u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b \u0435\u0441\u043b\u0438 \u0447\u0442\u043e :)")),a.a.createElement(De.a,{type:"submit",disabled:t.isEmpty||!t.isValid,onClick:t.onSubmit,style:{width:"100%"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),$e=(r(472),Object(u.b)("loginPageStore")(we=Object(w.a)(we=Object(u.c)(we=function(e){function t(){var e,r;Object(O.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(g.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).handleRegisterNew=function(){r.props.loginPageStore.toggleRegisterNewForm()},r}return Object(_.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.loginPageStore,t=e.isRegisterNew,r=e.isUserAuthenticated,n=e.form;return r?a.a.createElement(Fe.a,{to:this._redirectPath}):a.a.createElement(v.e,{tag:"section",className:"section"},a.a.createElement(v.w,null,a.a.createElement(v.c,{lg:{size:6,offset:3},md:{size:8,offset:2}},a.a.createElement(v.w,null,a.a.createElement(v.c,null,a.a.createElement("h1",null,t?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442":"\u0412\u0445\u043e\u0434 \u0432 F1 Bets App"),a.a.createElement("div",{className:"text-muted"},"\u0438\u043b\u0438",a.a.createElement(v.b,{color:"link",onClick:this.handleRegisterNew},t?" \u0432\u043e\u0439\u0442\u0438 \u0432 \u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442":" \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))),a.a.createElement(v.w,{className:"login-form-container"},a.a.createElement(v.c,null,t?a.a.createElement(Ke,{form:n}):a.a.createElement(Je,{form:n}))))))}},{key:"_redirectPath",get:function(){return(this.props.location.state||{from:{pathname:"/"}}).from}}]),t}(a.a.Component))||we)||we)||we),Qe=Object(u.b)("logoutPageStore")(ke=Object(u.c)(ke=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.logoutPageStore.logout()}},{key:"render",value:function(){var e=this.props.logoutPageStore.isUserAuthenticated;return a.a.createElement(v.e,null,a.a.createElement(v.w,{className:"section"},e?a.a.createElement(v.c,null,"\u0418\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430..."):a.a.createElement(v.c,{lg:{size:6,offset:3},md:{size:8,offset:2}},a.a.createElement("div",null,"\u041c\u044b \u0431\u0443\u0434\u0435\u043c \u0441\u043a\u0443\u0447\u0430\u0442\u044c \u043f\u043e \u0442\u0435\u0431\u0435 :)"),a.a.createElement("div",null,a.a.createElement(N.a,{to:E.a.HOME},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))))}}]),t}(a.a.Component))||ke)||ke,Xe=r(784),et=function(e){var t=e.component,r=e.isAuthenticated,n=void 0!==r&&r,c=e.isCurrentUserAdmin,i=void 0!==c&&c,o=e.isPrivate,s=void 0!==o&&o,u=e.onlyForAdmins,l=void 0!==u&&u,p=Object(pe.a)(e,["component","isAuthenticated","isCurrentUserAdmin","isPrivate","onlyForAdmins"]);return a.a.createElement(Xe.a,Object.assign({},p,{render:function(e){return l&&!i?a.a.createElement(Fe.a,{to:{pathname:E.a.HOME}}):s&&!n?a.a.createElement(Fe.a,{to:{pathname:E.a.LOGIN,state:{from:e.location}}}):a.a.createElement(t,p)}}))},tt=a.a.lazy(function(){return Promise.all([r.e(0),r.e(2)]).then(r.bind(null,793))}),rt=a.a.lazy(function(){return r.e(3).then(r.bind(null,787))}),nt=a.a.lazy(function(){return r.e(4).then(r.bind(null,794))}),at=a.a.lazy(function(){return Promise.all([r.e(0),r.e(5)]).then(r.bind(null,786))}),ct=a.a.lazy(function(){return r.e(6).then(r.bind(null,791))}),it=a.a.lazy(function(){return r.e(7).then(r.bind(null,790))}),ot=a.a.lazy(function(){return r.e(8).then(r.bind(null,785))}),st=[{exact:!0,path:E.a.HOME,component:We,id:Object(X.a)()},{path:E.a.LOGIN,component:$e,id:Object(X.a)()},{path:E.a.LOGOUT,component:Qe,id:Object(X.a)()},{isPrivate:!0,path:E.a.BETS,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(tt,null))},id:Object(X.a)()},{isPrivate:!0,path:E.a.BETS_HISTORY,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(ot,null))},id:Object(X.a)()},{path:E.a.RESULTS,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(rt,null))},id:Object(X.a)()},{path:E.a.RACERS,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(ct,null))},id:Object(X.a)()},{path:E.a.TEAMS,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(nt,null))},id:Object(X.a)()},{path:E.a.CALENDAR,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(it,null))},id:Object(X.a)()},{isPrivate:!0,onlyForAdmins:!0,path:E.a.ADMIN,component:function(){return a.a.createElement(n.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(at,null))},id:Object(X.a)()}],ut=Object(u.b)(function(e){return{pendingTasksCount:e.appStore._appModel._operationManager.pendingTasksCount,qualificationStartTime:e.appStore.nextRace&&e.appStore.nextRace.qualifyingStartTime,isBetsAllowed:e.appStore.isBetsAllowed,currentTime:e.appStore.currentTime}})(Object(u.c)(function(e){var t=e.pendingTasksCount,r=e.qualificationStartTime,n=e.isBetsAllowed,c=e.currentTime;return a.a.createElement("div",{className:"text-center bg-danger",style:{display:"none"}},a.a.createElement(v.e,null,a.a.createElement(v.w,null,a.a.createElement(v.c,null,"DEVELOPMENT MODE ON!!!"),a.a.createElement(v.c,null,t)),a.a.createElement(v.w,{className:"text-left"},a.a.createElement(v.c,null,"Qualification start Time: ",Object(ne.d)(r)),a.a.createElement(v.c,{className:n?"bg-success":"bg-warning"},"Is Bets Allowed: ",n.toString()),a.a.createElement(v.c,null,"Current Time: ",Object(ne.e)(c)))))})),lt=(r(474),function(){return a.a.createElement("div",{className:"loader__overlay"},a.a.createElement("div",{className:"loader"},a.a.createElement("div",{className:"loader__plate loader__plate--first"}),a.a.createElement("div",{className:"loader__plate loader__plate--second"}),a.a.createElement("div",{className:"loader__plate loader__plate--third"})))}),pt=Object(u.b)("appStore")(Te=Object(w.a)(Te=Object(u.c)(Te=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.appStore.startTimeWatcher()}},{key:"componentWillUnmount",value:function(){this.props.appStore.stopTimeWatcher()}},{key:"render",value:function(){var e=this.props.appStore,t=e.hasPendingTasks,r=e.isUserAuthenticated,n=e.isUserAdmin,c=e.isProduction;return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(lt,null),a.a.createElement("div",{className:"layout"},!c&&a.a.createElement(ut,null),a.a.createElement(Y,{className:"layout__header"}),a.a.createElement("main",{className:"layout__main colors--very-light-grey"},st.map(function(e){return a.a.createElement(et,Object.assign({key:e.id,isAuthenticated:r,isCurrentUserAdmin:n},e))})),a.a.createElement(Q,{className:"layout__footer"})))}}]),t}(n.Component))||Te)||Te)||Te,ft=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"startTimeWatcher",value:function(){this._appModel.timeWatcher.start()}},{key:"stopTimeWatcher",value:function(){this._appModel.timeWatcher.stop()}},{key:"isProduction",get:function(){return this._appModel.isProduction}},{key:"currentTime",get:function(){return this._appModel.timeWatcher.currentTime}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}},{key:"hasPendingTasks",get:function(){return this._appModel.operationManager.hasPendingTasks}},{key:"authenticatedUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"isUserAuthenticated",get:function(){return this._appModel.isUserAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appModel.isUserAlreadyBet}},{key:"isUserAdmin",get:function(){return this._appModel.isUserAdmin}}]),e}(),dt=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"nextRace",get:function(){return this._appModel.nextRace}},{key:"currentTimeUtcString",get:function(){return this._appModel.timeWatcher.currentTimeUtcString}}]),e}(),ht=r(38),mt=(Se=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"nextRace",get:function(){return this._appModel.nextRace}},{key:"isAuthenticated",get:function(){return this._appModel.session.isAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appModel.isUserAlreadyBet}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}},{key:"nextRaceInfo",get:function(){var e=this._appModel.timeWatcher.currentTime,t=this._appModel.formulaOneOfficial.currentSeasonRounds.map(function(e){return new le(e)}).filter(function(t){return ce(t.raceStartTime,e)});return Object(ht.a)(t,1)[0]}},{key:"previousRaces",get:function(){var e=this,t=this._appModel.timeWatcher.currentTime;return this._appModel.formulaOneOfficial.currentSeasonRounds.map(function(e){return new le(e)}).filter(function(e){return!ce(e.raceStartTime,t)}).map(function(t,r){if(e._raceResults.length>0&&r<e._raceResults.length){var n=e._raceResults[r].racersStandings.map(function(e){return new me(e)});return t.addRacerStandings(n)}return t}).reverse()}},{key:"_raceResults",get:function(){return this._appModel.formulaOneOfficial.currentSeasonRacesResults}}]),e}(),Object(S.a)(Se.prototype,"nextRaceInfo",[s.computed],Object.getOwnPropertyDescriptor(Se.prototype,"nextRaceInfo"),Se.prototype),Object(S.a)(Se.prototype,"previousRaces",[s.computed],Object.getOwnPropertyDescriptor(Se.prototype,"previousRaces"),Se.prototype),Object(S.a)(Se.prototype,"_raceResults",[s.computed],Object.getOwnPropertyDescriptor(Se.prototype,"_raceResults"),Se.prototype),Se),bt=r(2),vt=r.n(bt),Ot=r(6),yt=(Ee=function(){function e(t,r){var n=this;Object(O.a)(this,e),Object(k.a)(this,"isRaceResultsPanelVisible",Me,this),Object(k.a)(this,"selectedRace",Ne,this),this.addNewBet=function(e){return n._appModel.addNewBet(e)},this._appModel=t,this._storeApiUrl=r,this._raceInfoService=this._appModel._raceInfoService}return Object(y.a)(e,[{key:"showRaceResultsPanel",value:function(){this.isRaceResultsPanelVisible=!0}},{key:"addOrUpdateRaceResults",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r=this;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedRace){e.next=3;break}return window.alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u043d\u043a\u0443!"),e.abrupt("return");case 3:if(!(Object.values(t).filter(function(e){return Boolean(e)}).length<10)){e.next=6;break}return window.alert("\u041d\u0435 \u0432\u0441\u0435 \u0433\u043e\u043d\u0448\u0438\u043a\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u044b!"),e.abrupt("return");case 6:return e.next=8,this._appModel.operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._raceInfoService.updateRaceResult(r.selectedRace.roundId,t);case 2:r.isRaceResultsPanelVisible=!1;case 3:case"end":return e.stop()}},e,this)})));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"users",get:function(){return this._appModel.usersModel.users}},{key:"races",get:function(){return this._appModel.races}},{key:"racers",get:function(){return this._appModel.racers}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),Me=Object(S.a)(Ee.prototype,"isRaceResultsPanelVisible",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ne=Object(S.a)(Ee.prototype,"selectedRace",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(Ee.prototype,"users",[s.computed],Object.getOwnPropertyDescriptor(Ee.prototype,"users"),Ee.prototype),Object(S.a)(Ee.prototype,"races",[s.computed],Object.getOwnPropertyDescriptor(Ee.prototype,"races"),Ee.prototype),Object(S.a)(Ee.prototype,"racers",[s.computed],Object.getOwnPropertyDescriptor(Ee.prototype,"racers"),Ee.prototype),Object(S.a)(Ee.prototype,"showRaceResultsPanel",[s.action],Object.getOwnPropertyDescriptor(Ee.prototype,"showRaceResultsPanel"),Ee.prototype),Object(S.a)(Ee.prototype,"addOrUpdateRaceResults",[s.action],Object.getOwnPropertyDescriptor(Ee.prototype,"addOrUpdateRaceResults"),Ee.prototype),Ee),gt=(xe=function(){function e(t,r){var n=this;Object(O.a)(this,e),Object(k.a)(this,"isUserFormVisible",Re,this),Object(k.a)(this,"userForEdit",Ze,this),this.deleteUser=function(){var e=Object(Ot.a)(vt.a.mark(function e(t){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")){e.next=3;break}return e.next=3,n._appModel.usersModel.deleteUser(t);case 3:return e.next=5,n._appModel.usersModel.fetchUsers();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this._appModel=t,this._storeApiUrl=r,this._appModel.usersModel.fetchUsers()}return Object(y.a)(e,[{key:"toggleUserForm",value:function(e){this.isUserFormVisible=e}},{key:"setUserForEdit",value:function(e){this.userForEdit=e,this.toggleUserForm(!0)}},{key:"addOrUpdate",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r=this;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this._appModel.operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appModel.usersModel.addOrUpdate(t);case 2:return r.userForEdit=null,r.toggleUserForm(!1),e.next=6,r._appModel.usersModel.fetchUsers();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"users",get:function(){return this._appModel.usersModel.users}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),Re=Object(S.a)(xe.prototype,"isUserFormVisible",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ze=Object(S.a)(xe.prototype,"userForEdit",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(xe.prototype,"users",[s.computed],Object.getOwnPropertyDescriptor(xe.prototype,"users"),xe.prototype),Object(S.a)(xe.prototype,"toggleUserForm",[s.action],Object.getOwnPropertyDescriptor(xe.prototype,"toggleUserForm"),xe.prototype),Object(S.a)(xe.prototype,"setUserForEdit",[s.action],Object.getOwnPropertyDescriptor(xe.prototype,"setUserForEdit"),xe.prototype),Object(S.a)(xe.prototype,"addOrUpdate",[s.action],Object.getOwnPropertyDescriptor(xe.prototype,"addOrUpdate"),xe.prototype),xe),jt=function(){function e(t){Object(O.a)(this,e);var r=b.getRaceStoreApiUrl(),n=b.getUserStoreApiUrl();this._racesSectionStore=new yt(t,r),this._usersSectionStore=new gt(t,n)}return Object(y.a)(e,[{key:"racesSectionStore",get:function(){return this._racesSectionStore}},{key:"usersSectionStore",get:function(){return this._usersSectionStore}}]),e}(),_t=(Ue=function(){function e(t){var r=this;Object(O.a)(this,e),this.onBetsSubmit=function(e){return r._appModel.addNewBet(e)},this._appModel=t}return Object(y.a)(e,[{key:"racers",get:function(){return this._appModel.racers}},{key:"currentUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"nextRaceTitle",get:function(){return this._appModel.nextRace?this._appModel.nextRace.prettyTitle:""}},{key:"userBet",get:function(){var e=this;if(!this._appModel.isUserAlreadyBet)return{};var t=this._appModel.nextRace.bets.find(function(t){return t.userInfo.id===e.currentUser.id});return t?t.betsMap:{}}},{key:"isBetsAllowed",get:function(){return this._appModel.isBetsAllowed}}]),e}(),Object(S.a)(Ue.prototype,"currentUser",[s.computed],Object.getOwnPropertyDescriptor(Ue.prototype,"currentUser"),Ue.prototype),Object(S.a)(Ue.prototype,"nextRaceTitle",[s.computed],Object.getOwnPropertyDescriptor(Ue.prototype,"nextRaceTitle"),Ue.prototype),Object(S.a)(Ue.prototype,"userBet",[s.computed],Object.getOwnPropertyDescriptor(Ue.prototype,"userBet"),Ue.prototype),Ue),wt=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"userBets",get:function(){return this._appModel.authUserBets}}]),e}(),kt=r(146),Tt=r.n(kt),St=r(200),Et=(Ae=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"races",get:function(){return this._appModel.formulaOneOfficial.currentSeasonRounds.map(function(e){var t=e.raceName,r=e.roundSchedule;return new St.a({raceName:t,raceTime:r.race,qualTime:r.qualification,practice1Time:r.practices[0],practice2Time:r.practices[1],practice3Time:r.practices[2],id:Tt()(t)})})}},{key:"nextRace",get:function(){var e=this._appModel.timeWatcher.currentTime,t=this.races.filter(function(t){return ce(t.raceTime,e)});return Object(ht.a)(t,1)[0]}},{key:"isRaceWeekend",get:function(){return!this._appModel.isBetsAllowed}},{key:"currentSeason",get:function(){return this._appModel.formulaOneOfficial.currentSeason}}]),e}(),Object(S.a)(Ae.prototype,"races",[s.computed],Object.getOwnPropertyDescriptor(Ae.prototype,"races"),Ae.prototype),Object(S.a)(Ae.prototype,"nextRace",[s.computed],Object.getOwnPropertyDescriptor(Ae.prototype,"nextRace"),Ae.prototype),Object(S.a)(Ae.prototype,"isRaceWeekend",[s.computed],Object.getOwnPropertyDescriptor(Ae.prototype,"isRaceWeekend"),Ae.prototype),Ae),Mt=r(392),Nt=r.n(Mt),xt=r(393),Rt=r.n(xt),Zt=function(e){e.invalidate("This is a generic error message!")},Ut=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zt;return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).call(this,{fields:e},{options:{showErrorsOnChange:!0,validateOnChange:!0},plugins:{dvr:Rt.a},hooks:{onSuccess:r,onError:n}}))}return Object(_.a)(t,e),t}(Nt.a),At=(Pe=function(){function e(t){var r=this;Object(O.a)(this,e),Object(k.a)(this,"isRegisterNew",Ie,this),this._appModel=t,this._loginForm=new Ut(Ye,function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var n;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appModel.session.login(t.values());case 2:if(!0===(n=e.sent)){e.next=6;break}return alert(n),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),this._registerNewAccountForm=new Ut(Ge,function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var n;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appModel.session.signIn(t.values());case 2:if(!0===(n=e.sent)){e.next=6;break}return alert(n),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}return Object(y.a)(e,[{key:"toggleRegisterNewForm",value:function(){this.isRegisterNew=!this.isRegisterNew}},{key:"login",value:function(e){var t=e.login,r=e.password;return this._appModel.session.login({login:t,password:r})}},{key:"signIn",value:function(e){var t=e.name,r=e.login,n=e.password;return this._appModel.session.signIn({name:t,login:r,password:n})}},{key:"isUserAuthenticated",get:function(){return this._appModel.session.isAuthenticated}},{key:"form",get:function(){return this.isRegisterNew?this._registerNewAccountForm:this._loginForm}}]),e}(),Ie=Object(S.a)(Pe.prototype,"isRegisterNew",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(S.a)(Pe.prototype,"form",[s.computed],Object.getOwnPropertyDescriptor(Pe.prototype,"form"),Pe.prototype),Object(S.a)(Pe.prototype,"toggleRegisterNewForm",[s.action],Object.getOwnPropertyDescriptor(Pe.prototype,"toggleRegisterNewForm"),Pe.prototype),Pe),Pt=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"logout",value:function(){return this._appModel.session.logout()}},{key:"isUserAuthenticated",get:function(){return this._appModel.session.isAuthenticated}}]),e}(),It=r(108),Bt=r.n(It);function Dt(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(Ot.a)(vt.a.mark(function e(t){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bt.a.get(t);case 3:return e.abrupt("return",e.sent.data.MRData);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.message);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))).apply(this,arguments)}function qt(e){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(Ot.a)(vt.a.mark(function e(t){var r;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dt("".concat(t,"?limit=0"));case 3:return r=e.sent.total,e.abrupt("return",Dt("".concat(t,"?limit=").concat(r)));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))).apply(this,arguments)}var Ft,Lt,zt,Vt,Ht,Yt=function e(t){Object(O.a)(this,e);var r=t.locality,n=t.country,a=t.lat,c=t.long,i=t.alt;this.locality=r,this.country=n,this.lat=a,this.long=c,this.alt=i},Gt=function e(t){Object(O.a)(this,e);var r=t.circuitId,n=t.url,a=t.circuitName;this.circuitId=r,this.url=n,this.circuitName=a,this.location=new Yt(t.Location)},Jt=function e(t){var r=t.season;Object(O.a)(this,e),this.season=r},Kt=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).round=e.round,r.url=e.url,r.raceName=e.raceName,r.date=e.date,r.time=e.time,r.circuit=new Gt(e.Circuit),r}return Object(_.a)(t,e),t}(Jt),$t=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).races=e.Races.map(function(e){return new Kt(e)}),r}return Object(_.a)(t,e),t}(Jt),Qt=function e(t){var r=t.constructorId,n=t.url,a=t.name,c=t.nationality;Object(O.a)(this,e),this.constructorId=r,this.url=n,this.name=a,this.nationality=c},Xt=function e(t){var r=t.driverId,n=t.url,a=t.permanentNumber,c=t.givenName,i=t.familyName,o=t.dateOfBirth,s=t.code,u=t.nationality;Object(O.a)(this,e),this.driverId=r,this.url=n,this.permanentNumber=a,this.givenName=c,this.familyName=i,this.dateOfBirth=o,this.code=s,this.nationality=u},er=function e(t){Object(O.a)(this,e),this.rank=t.rank,this.lap=t.lap,this.time=t.Time,this.averageSpeed=t.AverageSpeed},tr=function e(t){Object(O.a)(this,e);var r=t.number,n=t.position,a=t.points,c=t.grid,i=t.laps,o=t.status,s=t.Time;this.number=r,this.position=n,this.points=a,this.driver=new Xt(t.Driver),this.constructor=new Qt(t.Constructor),this.grid=c,this.laps=i,this.status=o,this.time=Object(ze.a)({},s),this.fastestLap=t.FastestLap?new er(t.FastestLap):void 0},rr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).results=e.Results.map(function(e){return new tr(e)}),r}return Object(_.a)(t,e),t}(Kt),nr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).races=e.Races.map(function(e){return new rr(e)}),r}return Object(_.a)(t,e),t}($t),ar=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return e}),r}return Object(_.a)(t,e),t}(Jt),cr=function(e){function t(e){var r,n=e.season,a=e.round;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,{season:n}))).round=a,r}return Object(_.a)(t,e),t}(Jt),ir=function e(t){var r=t.position,n=t.positionText,a=t.points,c=t.wins;Object(O.a)(this,e),this.position=r,this.positionText=n,this.points=a,this.wins=c},or=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).driver=new Xt(e.Driver),r.constructors=e.Constructors.map(function(e){return new Qt(e)}),r}return Object(_.a)(t,e),t}(ir),sr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).driverStandings=e.DriverStandings.map(function(e){return new or(e)}),r}return Object(_.a)(t,e),t}(cr),ur=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return new sr(e)}),r}return Object(_.a)(t,e),t}(ar),lr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).constructor=new Qt(e.Constructor),r}return Object(_.a)(t,e),t}(ir),pr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).constructorStandings=e.ConstructorStandings.map(function(e){return new lr(e)}),r}return Object(_.a)(t,e),t}(cr),fr=function(e){function t(e){var r,n=e.season,a=e.StandingsLists;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,{season:n,StandingsLists:a}))).standingsLists=a.map(function(e){return new pr(e)}),r}return Object(_.a)(t,e),t}(ar),dr=function(e){function t(e){var r;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,e))).drivers=e.Drivers.map(function(e){return new Xt(e)}),r}return Object(_.a)(t,e),t}(Jt),hr=function(){function e(){Object(O.a)(this,e)}return Object(y.a)(e,null,[{key:"_createJsonUrl",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"".concat("https://ergast.com/api/f1","/").concat(t.filter(function(e){return Boolean(e)}).join("/"),".json")}},{key:"getDriverStandings",value:function(){var t=Object(Ot.a)(vt.a.mark(function t(r){var n;return vt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dt(e._createJsonUrl(r,"driverStandings"));case 2:return n=t.sent,t.abrupt("return",new ur(n.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getConstructorStandings",value:function(){var t=Object(Ot.a)(vt.a.mark(function t(r){var n;return vt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dt(e._createJsonUrl(r,"constructorStandings"));case 2:return n=t.sent,t.abrupt("return",new fr(n.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getRaceSchedule",value:function(){var t=Object(Ot.a)(vt.a.mark(function t(){var r,n,a,c=arguments;return vt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:"2018",n=c.length>1&&void 0!==c[1]?c[1]:"all",t.next=4,Dt(e._createJsonUrl(r,"all"!==n?n:void 0));case 4:return a=t.sent,t.abrupt("return",new $t(a.RaceTable));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getRaceResults",value:function(){var t=Object(Ot.a)(vt.a.mark(function t(r){var n,a,c=arguments;return vt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"2018",t.next=3,Dt(e._createJsonUrl(n,r,"results"));case 3:return a=t.sent,t.abrupt("return",new nr(a.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getAllRacesResults",value:function(){var t=Object(Ot.a)(vt.a.mark(function t(){var r,n,a=arguments;return vt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:"2018",t.next=3,qt(e._createJsonUrl(r,"results"));case 3:return n=t.sent,t.abrupt("return",new nr(n.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var t=Object(Ot.a)(vt.a.mark(function t(){var r,n,a=arguments;return vt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:"2018",t.next=3,Dt(e._createJsonUrl(r,"drivers"));case 3:return n=t.sent,t.abrupt("return",new dr(n.DriverTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(),mr=r(202),br=(Ft=function(){function e(t){var r=this;Object(O.a)(this,e),Object(k.a)(this,"racerStandingList",Lt,this),this.loadRacerStandings=function(){return r._appModel.operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){var t,n,a,c;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hr.getDriverStandings(r.currentSeason);case 2:t=e.sent,n=Object(ht.a)(t.standingsLists,1),(a=n[0])&&(c=a.driverStandings.map(function(e){var t=e.driver,r=Object(ht.a)(e.constructors,1)[0];return new mr.a({pos:e.position,racerFullName:"".concat(t.givenName," ").concat(t.familyName),racerPoints:e.points,racerId:t.code,racerNumber:t.permanentNumber,racerUrl:t.url,constructorName:r?r.name:"",constructorUrl:r?r.url:"",racerNationality:t.nationality})}),Object(s.runInAction)(function(){r.racerStandingList=c}));case 5:case"end":return e.stop()}},e,this)})))},this._appModel=t}return Object(y.a)(e,[{key:"currentSeason",get:function(){return this._appModel.formulaOneOfficial.currentSeason}}]),e}(),Lt=Object(S.a)(Ft.prototype,"racerStandingList",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ft),vr=r(58),Or=r(143),yr=r.n(Or),gr=r(351),jr=r(352),_r=(zt=function(){function e(t){Object(O.a)(this,e),this._appModel=t}return Object(y.a)(e,[{key:"authenticatedUser",get:function(){return this._appModel.session.authenticatedUser}},{key:"raceResultsWithBets",get:function(){var e=this._appModel.formulaOneOfficial.currentSeasonRacesResults;return this._appModel._racesModel.races.map(function(t,r){return new gr.a({race:t,finishedRacers:r<e.length?e[r].racersStandings:void 0})})}},{key:"userStandingsByRound",get:function(){return this.raceResultsWithBets.filter(function(e){return e.hasOfficialResults}).map(function(e){return e.userVotes}).map(function(e,t){return{title:"gp"+(t+1),userStandings:e.map(function(e){return new jr.a({userId:e.id,userName:e.name,totalPoints:e.userScore.value})})}})}},{key:"userStandings",get:function(){var e=Array.from(this.userStandingsByRound.reduce(function(e,t){return t.userStandings.forEach(function(t){e.set(t.userId,[].concat(Object(vr.a)(e.get(t.userId)||[]),[t]))}),e},new Map([])).values()).map(function(e){var t=yr()(e,function(e){return e.totalPoints});return t.slice(Math.max(t.length-7,0))}),t=new Map([]);return e.forEach(function(e){e.forEach(function(e){if(t.has(e.userId)){var r=e;r.totalPoints+=t.get(e.userId).totalPoints,t.set(e.userId,r)}else t.set(e.userId,e)})}),Array.from(t.values())}}]),e}(),Object(S.a)(zt.prototype,"authenticatedUser",[s.computed],Object.getOwnPropertyDescriptor(zt.prototype,"authenticatedUser"),zt.prototype),Object(S.a)(zt.prototype,"raceResultsWithBets",[s.computed],Object.getOwnPropertyDescriptor(zt.prototype,"raceResultsWithBets"),zt.prototype),Object(S.a)(zt.prototype,"userStandingsByRound",[s.computed],Object.getOwnPropertyDescriptor(zt.prototype,"userStandingsByRound"),zt.prototype),Object(S.a)(zt.prototype,"userStandings",[s.computed],Object.getOwnPropertyDescriptor(zt.prototype,"userStandings"),zt.prototype),zt),wr=r(203),kr=(Vt=function(){function e(t){var r=this;Object(O.a)(this,e),Object(k.a)(this,"teamsStandingList",Ht,this),this.fetchStandings=function(){return r._appModel.operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){var t,n;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hr.getConstructorStandings(r.currentSeason);case 2:t=e.sent,(n=t.standingsLists[0])&&Object(s.runInAction)(function(){r.teamsStandingList=n.constructorStandings.map(function(e){var t=e.constructor;return new wr.a({pos:e.position,name:t.name,id:t.constructorId,points:e.points,url:t.url,nationality:t.nationality})})});case 5:case"end":return e.stop()}},e,this)})))},this._appModel=t}return Object(y.a)(e,[{key:"currentSeason",get:function(){return this._appModel.formulaOneOfficial.currentSeason}}]),e}(),Ht=Object(S.a)(Vt.prototype,"teamsStandingList",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vt);function Tr(e){var t=new ft(e),r=new dt(e),n=function(e){return{homePageStore:new mt(e),resultsPageStore:new _r(e),racerStandingsPageStore:new br(e),teamsStandingsPageStore:new kr(e),adminPageStore:new jt(e),loginPageStore:new At(e),logoutPageStore:new Pt(e),calendarPageStore:new Et(e),userBetsHistoryPageStore:new wt(e),betPageStore:new _t(e)}}(e);return Object(ze.a)({},n,{appStore:t,headerStore:r})}var Sr=function(){function e(t){var r=t.userStoreApiUrl;Object(O.a)(this,e),this._apiUrl=r}return Object(y.a)(e,[{key:"fetchAll",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.B.get(this._apiUrl);case 2:return e.t0=M.a.fromJs,e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=function(e){return e.id===t},r=e.sent.find(e.t0)){e.next=6;break}throw new Error("User can't be found!");case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findById",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findBy(function(e){return e.id===t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findBy",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=t,r=e.sent.find(e.t0)){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r,n;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof M.a){e.next=2;break}throw new Error("variable user must be instanceof class User");case 2:return e.next=4,this.fetchAll();case 4:return r=e.sent,(n=r.findIndex(function(e){return e.id===t.id}))>-1?r[n]=t:r.push(t),e.abrupt("return",v.B.put(this._apiUrl,r));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.fetchAll();case 4:return r=e.sent,e.abrupt("return",v.B.put(this._apiUrl,r.filter(function(e){return e.id!==t})));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Er=function(e){function t(e){var r,n=e.season,a=e.raceName,c=e.bets,i=void 0===c?[]:c,o=e.raceResults,s=void 0===o?{}:o;return Object(O.a)(this,t),(r=Object(g.a)(this,Object(j.a)(t).call(this,{season:n,raceName:a}))).bets=i,r.raceResults=s,r}return Object(_.a)(t,e),t}(r(145).a),Mr=function(){function e(t){var r=t.raceInfoStoreApiUrl;Object(O.a)(this,e),this._apiUrl=r}return Object(y.a)(e,[{key:"fetchAll",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.B.get(this._apiUrl);case 2:return e.t0=function(e){return new Er(e)},e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"saveAll",value:function(e){return v.B.put(this._apiUrl,e)}},{key:"addOrUpdateBet",value:function(){var t=Object(Ot.a)(vt.a.mark(function t(r,n){var a,c;return vt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchAll();case 2:return a=t.sent,c=[],c=a.some(function(e){return e.roundId===n.roundId})?a.map(function(t){if(t.roundId===n.roundId){var a=t.bets.findIndex(function(e){return e.userInfo.id===r.userInfo.id});return a>-1?e._updateBet(t,r,a):e._addBet(t,r)}return t}):[].concat(Object(vr.a)(a),[new Er(Object(ze.a)({},n,{bets:[r]}))]),t.abrupt("return",this.saveAll(c));case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"updateRaceResult",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t,r){var n,a;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:return n=e.sent,(a=n.findIndex(function(e){return e.roundId===t}))>-1&&(n[a].raceResults=Object(ze.a)({},n[a].raceResults,r)),e.abrupt("return",this.saveAll(n));case 6:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"_addBet",value:function(e,t){return e.bets.push(t),e}},{key:"_updateBet",value:function(e,t,r){return e.bets[r]=t,e}}]),e}(),Nr=function(){function e(t){var r=t.localStorageUserKey,n=t.userService,a=t.cryptoService;Object(O.a)(this,e),this._localStorageUserKey=r,this._userService=n,this._cryptoService=a}return Object(y.a)(e,[{key:"authenticate",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(){var t,r,n,a=arguments;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:null,r=null,t){e.next=8;break}if(r=window.localStorage.getItem(this._localStorageUserKey)){e.next=6;break}return e.abrupt("return",null);case 6:e.next=9;break;case 8:r=t.id;case 9:return e.next=11,this._userService.findById(r);case 11:if(!(n=e.sent)){e.next=15;break}return this._authenticate(n),e.abrupt("return",n);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r,n,a;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.password,e.next=3,this._userService.findBy(function(e){return e.login===r});case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u043d\u0435\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435.");case 6:if(!this._cryptoService.isPasswordValid(n,a.password)){e.next=10;break}if(!this._authenticate(a)){e.next=9;break}return e.abrupt("return",a);case 9:return e.abrupt("return",!1);case 10:return e.abrupt("return","\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c.");case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){window.localStorage.removeItem(this._localStorageUserKey)}},{key:"signIn",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r,n,a,c;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.name,a=t.password,c=new M.a({login:r,name:n,password:this._cryptoService.encodePassword(a)}),e.next=4,this._userService.findBy(function(e){return e.login===c.login});case 4:if(!e.sent){e.next=7;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d.");case 7:return e.prev=7,e.next=10,this._userService.addOrUpdate(c);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return","Server Error. Cannot add or update user");case 15:if(!this._authenticate(c)){e.next=17;break}return e.abrupt("return",c);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,this,[[7,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_authenticate",value:function(e){var t=e.id;return!!t&&(window.localStorage.setItem(this._localStorageUserKey,t),!0)}}]),e}(),xr=r(199),Rr=r.n(xr);var Zr={encodePassword:function(e){return Rr.a.hashSync(e,8)},isPasswordValid:function(e,t){return Rr.a.compareSync(e,t)}},Ur=r(144);function Ar(e,t){var r={season:e.season,raceName:e.raceName,raceUrl:e.url,circuit:{url:e.circuit.url,countryName:e.circuit.location.country,circuitName:e.circuit.circuitName,circuitId:e.circuit.circuitId}},n=t.find(function(t){return t.round===Number(e.round)});return n&&(r.roundSchedule={practices:[n.practice_1,n.practice_2,n.practice_3],qualification:n.qualification,race:n.race}),new Ur.a(r)}var Pr=function e(t){var r=t.season,n=t.round,a=t.racersStandings;Object(O.a)(this,e),this.season=r,this.round=Number(n),this.racersStandings=a};function Ir(e){var t=e.season,r=e.round,n=e.results;return new Pr({season:t,round:r,racersStandings:n.map(function(e){return t=e.driver,r=e.points,new he.a(t.givenName,t.familyName,t.permanentNumber,t.code,r,t.nationality,t.dateOfBirth);var t,r})})}var Br,Dr,Cr,qr=function(){function e(t){var r=t.formulaOneOfficialDataRepository;Object(O.a)(this,e),this._repository=r}return Object(y.a)(e,[{key:"fetchSeasonRoundsSchedule",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r,n;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getF1Calendar(t);case 2:return r=e.sent,e.next=5,this._repository.getRaceSchedule(t);case 5:return n=e.sent,e.abrupt("return",n.races.map(function(e){return Ar(e,r)}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRacesResults",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getRacesResults(t);case 2:return r=e.sent,e.abrupt("return",r.races.map(function(e){return Ir(e)}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchRacers",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r,n,a;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.getDrivers(t);case 2:return r=e.sent,n=Object(ht.a)(r,1),a=n[0],e.abrupt("return",a.driverStandings.map(function(e){var t=e.driver;return he.a.create(Object(ze.a)({},t,{firstName:t.givenName,lastName:t.familyName,abbreviation:t.code,number:t.permanentNumber}))}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Wr=function e(t){var r=t.round,n=t.practice_1,a=t.practice_2,c=t.practice_3,i=t.qualification,o=t.race;Object(O.a)(this,e),this.round=r,this.practice_1=n,this.practice_2=a,this.practice_3=c,this.qualification=i,this.race=o},Fr=new Map([["2018",[new Wr({round:1,practice_1:"20180323T010000Z",practice_2:"20180323T050000Z",practice_3:"20180324T030000Z",qualification:"20180324T060000Z",race:"20180325T051000Z"}),new Wr({round:2,practice_1:"20180406T110000Z",practice_2:"20180406T150000Z",practice_3:"20180407T120000Z",qualification:"20180407T150000Z",race:"20180408T151000Z"}),new Wr({round:3,practice_1:"20180413T020000Z",practice_2:"20180413T060000Z",practice_3:"20180414T030000Z",qualification:"20180414T060000Z",race:"20180415T061000Z"}),new Wr({round:4,practice_1:"20180427T090000Z",practice_2:"20180427T130000Z",practice_3:"20180428T100000Z",qualification:"20180428T130000Z",race:"20180429T121000Z"}),new Wr({round:5,practice_1:"20180511T090000Z",practice_2:"20180511T130000Z",practice_3:"20180512T100000Z",qualification:"20180512T130000Z",race:"20180513T131000Z"}),new Wr({round:6,practice_1:"20180524T090000Z",practice_2:"20180524T130000Z",practice_3:"20180526T100000Z",qualification:"20180526T130000Z",race:"20180527T131000Z"}),new Wr({round:7,practice_1:"20180608T140000Z",practice_2:"20180608T180000Z",practice_3:"20180609T150000Z",qualification:"20180609T180000Z",race:"20180610T181000Z"}),new Wr({round:8,practice_1:"20180622T100000Z",practice_2:"20180622T140000Z",practice_3:"20180623T110000Z",qualification:"20180623T140000Z",race:"20180624T141000Z"}),new Wr({round:9,practice_1:"20180629T090000Z",practice_2:"20180629T130000Z",practice_3:"20180630T100000Z",qualification:"20180630T130000Z",race:"20180701T131000Z"}),new Wr({round:10,practice_1:"20180706T090000Z",practice_2:"20180706T130000Z",practice_3:"20180707T100000Z",qualification:"20180707T130000Z",race:"20180708T131000Z"}),new Wr({round:11,practice_1:"20180720T090000Z",practice_2:"20180720T130000Z",practice_3:"20180721T100000Z",qualification:"20180721T130000Z",race:"20180722T131000Z"}),new Wr({round:12,practice_1:"20180727T090000Z",practice_2:"20180727T130000Z",practice_3:"20180728T100000Z",qualification:"20180728T130000Z",race:"20180729T131000Z"}),new Wr({round:13,practice_1:"20180824T090000Z",practice_2:"20180824T130000Z",practice_3:"20180825T100000Z",qualification:"20180825T130000Z",race:"20180826T131000Z"}),new Wr({round:14,practice_1:"20180831T090000Z",practice_2:"20180831T130000Z",practice_3:"20180901T100000Z",qualification:"20180901T130000Z",race:"20180902T131000Z"}),new Wr({round:15,practice_1:"20180914T083000Z",practice_2:"20180914T123000Z",practice_3:"20180915T100000Z",qualification:"20180915T130000Z",race:"20180916T121000Z"}),new Wr({round:16,practice_1:"20180928T080000Z",practice_2:"20180928T120000Z",practice_3:"20180929T090000Z",qualification:"20180929T120000Z",race:"20180930T111000Z"}),new Wr({round:17,practice_1:"20181005T010000Z",practice_2:"20181005T050000Z",practice_3:"20181006T030000Z",qualification:"20181006T060000Z",race:"20181007T051000Z"}),new Wr({round:18,practice_1:"20181019T150000Z",practice_2:"20181019T190000Z",practice_3:"20181020T180000Z",qualification:"20181020T210000Z",race:"20181021T181000Z"}),new Wr({round:19,practice_1:"20181026T150000Z",practice_2:"20181026T190000Z",practice_3:"20181027T150000Z",qualification:"20181027T180000Z",race:"20181028T191000Z"}),new Wr({round:20,practice_1:"20181109T140000Z",practice_2:"20181109T180000Z",practice_3:"20181110T150000Z",qualification:"20181110T180000Z",race:"20181111T181000Z"}),new Wr({round:21,practice_1:"20181123T090000Z",practice_2:"20181123T130000Z",practice_3:"20181124T100000Z",qualification:"20181124T130000Z",race:"20181125T131000Z"})]],["2019",[new Wr({round:1,practice_1:"20190315T010000Z",practice_2:"20190315T050000Z",practice_3:"20190316T030000Z",qualification:"20190316T060000Z",race:"20190317T051000Z"}),new Wr({round:2,practice_1:"20190329T110000Z",practice_2:"20190329T150000Z",practice_3:"20190330T120000Z",qualification:"20190330T150000Z",race:"20190331T151000Z"}),new Wr({round:3,practice_1:"20190412T020000Z",practice_2:"20190412T060000Z",practice_3:"20190413T030000Z",qualification:"20190413T060000Z",race:"20190414T061000Z"}),new Wr({round:4,practice_1:"20190426T090000Z",practice_2:"20190426T130000Z",practice_3:"20190427T100000Z",qualification:"20190427T130000Z",race:"20190428T121000Z"}),new Wr({round:5,practice_1:"20190510T090000Z",practice_2:"20190510T130000Z",practice_3:"20190511T100000Z",qualification:"20190511T130000Z",race:"20190512T131000Z"}),new Wr({round:6,practice_1:"20190523T090000Z",practice_2:"20190523T130000Z",practice_3:"20190525T100000Z",qualification:"20190525T130000Z",race:"20190526T131000Z"}),new Wr({round:7,practice_1:"20190607T150000Z",practice_2:"20190607T190000Z",practice_3:"20190608T160000Z",qualification:"20190608T190000Z",race:"20190609T191000Z"}),new Wr({round:8,practice_1:"20190621T090000Z",practice_2:"20190621T130000Z",practice_3:"20190622T100000Z",qualification:"20190622T130000Z",race:"20190623T131000Z"}),new Wr({round:9,practice_1:"20190628T090000Z",practice_2:"20190628T130000Z",practice_3:"20190629T100000Z",qualification:"20190629T130000Z",race:"20190630T131000Z"}),new Wr({round:10,practice_1:"20190712T090000Z",practice_2:"20190712T130000Z",practice_3:"20190713T100000Z",qualification:"20190713T130000Z",race:"20190714T131000Z"}),new Wr({round:11,practice_1:"20190726T090000Z",practice_2:"20190726T130000Z",practice_3:"20190727T100000Z",qualification:"20190727T130000Z",race:"20190728T131000Z"}),new Wr({round:12,practice_1:"20190802T090000Z",practice_2:"20190802T130000Z",practice_3:"20190803T100000Z",qualification:"20190803T130000Z",race:"20190804T131000Z"}),new Wr({round:13,practice_1:"20190830T090000Z",practice_2:"20190830T130000Z",practice_3:"20190831T100000Z",qualification:"20190831T130000Z",race:"20190901T131000Z"}),new Wr({round:14,practice_1:"20190906T090000Z",practice_2:"20190906T130000Z",practice_3:"20190907T100000Z",qualification:"20190907T130000Z",race:"20190908T131000Z"}),new Wr({round:15,practice_1:"20190920T083000Z",practice_2:"20190920T123000Z",practice_3:"20190921T100000Z",qualification:"20190921T130000Z",race:"20190922T121000Z"}),new Wr({round:16,practice_1:"20190927T080000Z",practice_2:"20190927T120000Z",practice_3:"20190928T090000Z",qualification:"20190928T120000Z",race:"20190929T111000Z"}),new Wr({round:17,practice_1:"20191011T010000Z",practice_2:"20191011T050000Z",practice_3:"20191012T030000Z",qualification:"20191012T060000Z",race:"20191013T051000Z"}),new Wr({round:18,practice_1:"20191025T150000Z",practice_2:"20191025T190000Z",practice_3:"20191026T150000Z",qualification:"20191026T180000Z",race:"20191027T191000Z"}),new Wr({round:19,practice_1:"20191101T160000Z",practice_2:"20191101T200000Z",practice_3:"20191102T180000Z",qualification:"20191102T210000Z",race:"20191103T191000Z"}),new Wr({round:20,practice_1:"20191115T140000Z",practice_2:"20191115T180000Z",practice_3:"20191116T150000Z",qualification:"20191116T180000Z",race:"20191117T181000Z"}),new Wr({round:21,practice_1:"20191129T090000Z",practice_2:"20191129T130000Z",practice_3:"20191130T100000Z",qualification:"20191130T130000Z",race:"20191201T131000Z"})]]]),Lr=function(){function e(){Object(O.a)(this,e)}return Object(y.a)(e,[{key:"getF1Calendar",value:function(e){var t=Fr.get(e);return Promise.resolve(t)}},{key:"getRaceSchedule",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hr.getRaceSchedule(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRacesResults",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hr.getAllRacesResults(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hr.getDriverStandings(t);case 2:return e.abrupt("return",e.sent.standingsLists);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();var zr,Vr,Hr,Yr,Gr,Jr,Kr,$r,Qr,Xr,en,tn,rn,nn,an=(Br=function(){function e(t){Object(O.a)(this,e),Object(k.a)(this,"_currentTime",Dr,this),Object(k.a)(this,"_tick",Cr,this),this._tickInterval=t}return Object(y.a)(e,[{key:"start",value:function(){this._interval=setInterval(this._tick,1e3*this._tickInterval),this._tick()}},{key:"stop",value:function(){this._interval&&clearInterval(this._interval)}},{key:"currentTime",get:function(){return this._currentTime}},{key:"currentTimeUtcString",get:function(){return Object(ne.g)(this._currentTime)}}]),e}(),Dr=Object(S.a)(Br.prototype,"_currentTime",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A()()}}),Cr=Object(S.a)(Br.prototype,"_tick",[s.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._currentTime=A()()}}}),Object(S.a)(Br.prototype,"currentTime",[s.computed],Object.getOwnPropertyDescriptor(Br.prototype,"currentTime"),Br.prototype),Object(S.a)(Br.prototype,"currentTimeUtcString",[s.computed],Object.getOwnPropertyDescriptor(Br.prototype,"currentTimeUtcString"),Br.prototype),Br),cn=(zr=function(){function e(){Object(O.a)(this,e),Object(k.a)(this,"pendingTasksCount",Vr,this)}return Object(y.a)(e,[{key:"runWithProgress",value:function(e){this.pendingTasksCount++,e(),this.pendingTasksCount--}},{key:"runWithProgressAsync",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r=this;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingTasksCount++,e.prev=1,e.next=4,t();case 4:return e.abrupt("return",e.sent);case 5:return e.prev=5,Object(s.runInAction)(function(){r.pendingTasksCount--}),e.finish(5);case 8:case"end":return e.stop()}},e,this,[[1,,5,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"hasPendingTasks",get:function(){return this.pendingTasksCount>0}}]),e}(),Vr=Object(S.a)(zr.prototype,"pendingTasksCount",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(S.a)(zr.prototype,"hasPendingTasks",[s.computed],Object.getOwnPropertyDescriptor(zr.prototype,"hasPendingTasks"),zr.prototype),Object(S.a)(zr.prototype,"runWithProgress",[s.action],Object.getOwnPropertyDescriptor(zr.prototype,"runWithProgress"),zr.prototype),Object(S.a)(zr.prototype,"runWithProgressAsync",[s.action],Object.getOwnPropertyDescriptor(zr.prototype,"runWithProgressAsync"),zr.prototype),zr),on=(Hr=function(){function e(t){var r=this,n=t.authenticationService,a=t.operationManager;Object(O.a)(this,e),Object(k.a)(this,"authenticatedUser",Yr,this),this._authService=n,this._operationManager=a,this._operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){var t;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.authenticate();case 2:return(t=e.sent)instanceof M.a&&Object(s.runInAction)(function(){r.authenticatedUser=t}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})))}return Object(y.a)(e,[{key:"login",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r,n,a=this;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){var t;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._authService.login({login:r,password:n});case 2:if(!((t=e.sent)instanceof M.a)){e.next=6;break}return Object(s.runInAction)(function(){a.authenticatedUser=t}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.isAuthenticated&&(this._authService.logout(),this.authenticatedUser=null)}},{key:"signIn",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r,n,a,c=this;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.name,a=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){var t;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c._authService.signIn({login:r,name:n,password:a});case 2:if(!((t=e.sent)instanceof M.a)){e.next=6;break}return Object(s.runInAction)(function(){c.authenticatedUser=t}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isAuthenticated",get:function(){return null!==this.authenticatedUser}},{key:"isCurrentUserAdmin",get:function(){return this.isAuthenticated&&this.authenticatedUser.isAdmin}}]),e}(),Yr=Object(S.a)(Hr.prototype,"authenticatedUser",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(S.a)(Hr.prototype,"isAuthenticated",[s.computed],Object.getOwnPropertyDescriptor(Hr.prototype,"isAuthenticated"),Hr.prototype),Object(S.a)(Hr.prototype,"isCurrentUserAdmin",[s.computed],Object.getOwnPropertyDescriptor(Hr.prototype,"isCurrentUserAdmin"),Hr.prototype),Object(S.a)(Hr.prototype,"login",[s.action],Object.getOwnPropertyDescriptor(Hr.prototype,"login"),Hr.prototype),Object(S.a)(Hr.prototype,"logout",[s.action],Object.getOwnPropertyDescriptor(Hr.prototype,"logout"),Hr.prototype),Object(S.a)(Hr.prototype,"signIn",[s.action],Object.getOwnPropertyDescriptor(Hr.prototype,"signIn"),Hr.prototype),Hr),sn=(Gr=function(){function e(t){var r=t.formulaOneOfficialModel,n=t.operationManager,a=t.raceInfoService,c=t.timeWatcher;Object(O.a)(this,e),Object(k.a)(this,"races",Jr,this),this._formulaOneOfficialModel=r,this._operationManager=n,this._timeWatcher=c,this._raceInfoService=a}return Object(y.a)(e,[{key:"fetchRaces",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(){var t=this;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){var r,n;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._formulaOneOfficialModel.currentSeasonRounds,e.next=3,t._raceInfoService.fetchAll();case 3:n=e.sent,Object(s.runInAction)(function(){t.races=Object(vr.a)(r.map(function(e){var t=n.find(function(t){return t.roundId===e.roundId});return new V.a(Object(ze.a)({},e,{bets:t?t.bets:[],raceResults:t?t.raceResults:{}}))}))});case 5:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addNewBet",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r=this;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r._raceInfoService.addOrUpdateBet(t,r.nextRace);case 3:return e.next=5,r.fetchRaces();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Can't update Bet in 'RacesStore'",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nextRace",get:function(){var e=this._timeWatcher.currentTime,t=this.races.filter(function(t){return ce(t.raceStartTime,e)});return Object(ht.a)(t,1)[0]}}]),e}(),Jr=Object(S.a)(Gr.prototype,"races",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(S.a)(Gr.prototype,"nextRace",[s.computed],Object.getOwnPropertyDescriptor(Gr.prototype,"nextRace"),Gr.prototype),Object(S.a)(Gr.prototype,"fetchRaces",[s.action],Object.getOwnPropertyDescriptor(Gr.prototype,"fetchRaces"),Gr.prototype),Object(S.a)(Gr.prototype,"addNewBet",[s.action],Object.getOwnPropertyDescriptor(Gr.prototype,"addNewBet"),Gr.prototype),Gr),un=(Kr=function(){function e(t){var r=this,n=t.userService,a=t.sessionModel,c=t.operationManager;Object(O.a)(this,e),Object(k.a)(this,"users",$r,this),this._userService=n,this._operationManager=c,this._session=a,this._operationManager.runWithProgressAsync(function(){return r.fetchUsers()})}return Object(y.a)(e,[{key:"fetchUsers",value:function(){var e=this;try{return this._operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function t(){var r;return vt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._userService.fetchAll();case 2:r=t.sent,Object(s.runInAction)(Object(Ot.a)(vt.a.mark(function t(){return vt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.users=r;case 1:case"end":return t.stop()}},t,this)})));case 4:case"end":return t.stop()}},t,this)})))}catch(t){console.log("Can't load 'users' in UserModel!!\n",t)}}},{key:"deleteUser",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._userService.delete(t);case 2:return e.next=4,this.fetchUsers();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(t){var r=this;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._userService.addOrUpdate(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"currentUser",get:function(){return this._session.authenticatedUser}}]),e}(),$r=Object(S.a)(Kr.prototype,"users",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(S.a)(Kr.prototype,"currentUser",[s.computed],Object.getOwnPropertyDescriptor(Kr.prototype,"currentUser"),Kr.prototype),Object(S.a)(Kr.prototype,"fetchUsers",[s.action],Object.getOwnPropertyDescriptor(Kr.prototype,"fetchUsers"),Kr.prototype),Object(S.a)(Kr.prototype,"addOrUpdate",[s.action],Object.getOwnPropertyDescriptor(Kr.prototype,"addOrUpdate"),Kr.prototype),Kr),ln=(Qr=function(){function e(t){var r=t.formulaOneOfficialDataService,n=t.operationManager;Object(O.a)(this,e),Object(k.a)(this,"currentSeasonRounds",Xr,this),Object(k.a)(this,"currentSeasonRacesResults",en,this),Object(k.a)(this,"currentSeasonRacers",tn,this),this._service=r,this._operationManager=n,this._currentSeason=b.getCurrentSeason()}return Object(y.a)(e,[{key:"fetchAll",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchRacesSchedule();case 2:return e.next=4,this._fetchRacers();case 4:return e.next=6,this._fetchRacesResults();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacesSchedule",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(){var t=this;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){var r;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._service.fetchSeasonRoundsSchedule(t.currentSeason);case 2:r=e.sent,Object(s.runInAction)(function(){t.currentSeasonRounds=r});case 4:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacesResults",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(){var t=this;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){var r;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._service.fetchRacesResults(t.currentSeason);case 2:r=e.sent,Object(s.runInAction)(function(){t.currentSeasonRacesResults=r});case 4:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacers",value:function(){var e=Object(Ot.a)(vt.a.mark(function e(){var t=this;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){var r;return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._service.fetchRacers(t.currentSeason);case 2:r=e.sent,Object(s.runInAction)(function(){t.currentSeasonRacers=r});case 4:case"end":return e.stop()}},e,this)}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"currentSeason",get:function(){return this._currentSeason}}]),e}(),Xr=Object(S.a)(Qr.prototype,"currentSeasonRounds",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),en=Object(S.a)(Qr.prototype,"currentSeasonRacesResults",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tn=Object(S.a)(Qr.prototype,"currentSeasonRacers",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qr),pn=b.getVoteClosingTime(),fn=(rn=function(){function e(t){var r=this;Object(O.a)(this,e);var n=t.userService,a=t.authenticationService,c=t.raceInfoService,i=t.formulaOneOfficialDataService,o=new cn,u=b.getTickInterval();this._isProductionMode=b.isProductionMode(),this._raceInfoService=c,this._timeWatcher=new an(u),this._operationManager=o,this._sessionModel=new on({authenticationService:a,operationManager:o}),this._usersModel=new un({operationManager:o,userService:n,sessionModel:this._sessionModel}),this._formulaOneOfficialModel=new ln({formulaOneOfficialDataService:i,operationManager:o}),this._racesModel=new sn({formulaOneOfficialModel:this._formulaOneOfficialModel,raceInfoService:c,operationManager:o,timeWatcher:this._timeWatcher}),this._operationManager.runWithProgressAsync(Object(Ot.a)(vt.a.mark(function e(){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._formulaOneOfficialModel.fetchAll();case 2:return e.abrupt("return",r._racesModel.fetchRaces());case 3:case"end":return e.stop()}},e,this)}))),Object(s.when)(function(){return r.nextRace&&ce(r._timeWatcher.currentTime,r.nextRace.raceStartTime)},Object(Ot.a)(vt.a.mark(function e(){return vt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._racesModel.fetchRaces();case 2:case"end":return e.stop()}},e,this)})))}return Object(y.a)(e,[{key:"addNewBet",value:function(e){return this._racesModel.addNewBet(e)}},{key:"isUserAlreadyBet",get:function(){var e=this;return!!this._sessionModel.authenticatedUser&&(!!this.nextRace&&this.nextRace.bets.some(function(t){return t.userInfo.id===e._sessionModel.authenticatedUser.id}))}},{key:"races",get:function(){return this._racesModel.races}},{key:"racers",get:function(){return this._formulaOneOfficialModel.currentSeasonRacers}},{key:"isProduction",get:function(){return this._isProductionMode}},{key:"isBetsAllowed",get:function(){var e=this.nextRace&&this.nextRace.raceStartTime,t=this.nextRace&&this.nextRace.qualifyingStartTime;return!(!t||!e)&&(t&&e&&!function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"minute";return e=ae(e),t=ae(t),r=ae(r),e.isBetween(t,r,n)}(this.timeWatcher.currentTime,function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=ae(e)).subtract(t,r)}(t,pn),e))}},{key:"isUserAuthenticated",get:function(){return this._sessionModel.isAuthenticated}},{key:"isUserAdmin",get:function(){return this._sessionModel.isCurrentUserAdmin}},{key:"nextRace",get:function(){return this._racesModel.nextRace}},{key:"authUserBets",get:function(){if(!this._sessionModel.authenticatedUser)return[];var e=[],t=this._sessionModel.authenticatedUser.id;return this.races.forEach(function(r){var n=r.bets,a=r.prettyTitle,c=r.roundId;if(n.some(function(e){return e.userInfo.id===t})){var i=n[n.findIndex(function(e){return e.userInfo.id===t})];e.push({raceId:c,title:a,bet:i.betsMap})}}),e}},{key:"session",get:function(){return this._sessionModel}},{key:"usersModel",get:function(){return this._usersModel}},{key:"timeWatcher",get:function(){return this._timeWatcher}},{key:"operationManager",get:function(){return this._operationManager}},{key:"formulaOneOfficial",get:function(){return this._formulaOneOfficialModel}}]),e}(),Object(S.a)(rn.prototype,"isUserAlreadyBet",[s.computed],Object.getOwnPropertyDescriptor(rn.prototype,"isUserAlreadyBet"),rn.prototype),Object(S.a)(rn.prototype,"races",[s.computed],Object.getOwnPropertyDescriptor(rn.prototype,"races"),rn.prototype),Object(S.a)(rn.prototype,"racers",[s.computed],Object.getOwnPropertyDescriptor(rn.prototype,"racers"),rn.prototype),Object(S.a)(rn.prototype,"isBetsAllowed",[s.computed],Object.getOwnPropertyDescriptor(rn.prototype,"isBetsAllowed"),rn.prototype),Object(S.a)(rn.prototype,"authUserBets",[s.computed],Object.getOwnPropertyDescriptor(rn.prototype,"authUserBets"),rn.prototype),rn),dn=function(){function e(t){var r=t.configProvider;Object(O.a)(this,e);var n=function(e){var t=e.getUserStoreApiUrl(),r=e.getRaceStoreApiUrl(),n=e.getLocalStorageUserKey(),a=new Lr,c=new Sr({userStoreApiUrl:t}),i=new Mr({raceInfoStoreApiUrl:r});return{userService:c,authenticationService:new Nr({localStorageUserKey:n,userService:c,cryptoService:Zr}),raceInfoService:i,formulaOneOfficialDataService:new qr({formulaOneOfficialDataRepository:a})}}(r),a=new fn(n);this._stores=Tr(a)}return Object(y.a)(e,[{key:"getStores",value:function(){return this._stores}}]),e}(),hn=Object(w.a)(nn=function(e){function t(){return Object(O.a)(this,t),Object(g.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(a.a.Component))||nn;Object(s.configure)({enforceActions:"strict"});var mn=new dn({configProvider:b}).getStores();i.a.render(a.a.createElement(u.a,mn,a.a.createElement(o.a,null,a.a.createElement(hn,null,a.a.createElement(pt,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");l?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):p(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):p(e)})}}()},74:function(e,t,r){"use strict";var n=r(1),a=r(5),c=function(){function e(t,r,a,c){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";Object(n.a)(this,e),this.firstName=t,this.lastName=r,this.number=a,this.abbreviation=c,this.points=i,this.nationality=o,this.dateOfBirth=s}return Object(a.a)(e,[{key:"name",get:function(){return"".concat(this.firstName," ").concat(this.lastName)}},{key:"shortName",get:function(){return"".concat(this.firstName[0],". ").concat(this.lastName)}},{key:"code",get:function(){return this.abbreviation}}],[{key:"create",value:function(t){var r=t.firstName,n=t.lastName,a=t.number,c=t.abbreviation,i=t.points;return new e(r,n,a,c,void 0===i?0:i,t.nationality,t.dateOfBirth)}}]),e}();t.a=c},75:function(e,t,r){"use strict";var n=r(89),a=r(0),c=r.n(a),i=r(3);r(467);t.a=function(e){var t=e.className,r=e.onClick,a=e.disabled,o=e.children,s=e.size,u=Object(n.a)(e,["className","onClick","disabled","children","size"]);return c.a.createElement(i.b,Object.assign({className:"button button--primary ".concat(t),onClick:r,disabled:a,color:"primary",size:s},u),o)}},90:function(e,t,r){"use strict";var n=r(1),a=r(5),c=r(10),i=r(8),o=r(9),s=r(201),u=r(73),l=r(389),p=r.n(l),f=r(390),d=r.n(f),h=function(e){function t(e){var r,a=e.season,o=e.raceName,l=e.raceUrl,p=e.circuit,f=e.roundSchedule,d=e.bets,h=void 0===d?[]:d,m=e.raceResults,b=void 0===m?{}:m;return Object(n.a)(this,t),(r=Object(c.a)(this,Object(i.a)(t).call(this,{season:a,raceName:o,raceUrl:l,circuit:p,roundSchedule:f}))).bets=h.map(function(e){var t=e.userInfo,r=t.name,n=t.id,a=e.betsMap;return new s.a({userInfo:new u.a({name:r,id:n}),betsMap:a})}),r.raceResults=b,r}return Object(o.a)(t,e),Object(a.a)(t,[{key:"raceStartTime",get:function(){return this.roundSchedule.race}},{key:"qualifyingStartTime",get:function(){return this.roundSchedule.qualification}},{key:"prettyTitle",get:function(){return p()(this.raceName).map(d.a).join(" ")}}]),t}(r(144).a);t.a=h}},[[398,10,9]]]);