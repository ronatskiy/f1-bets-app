(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{392:function(e,t,r){e.exports=r(760)},413:function(e,t,r){},415:function(e,t,r){},417:function(e,t,r){},421:function(e,t,r){},423:function(e,t,r){},425:function(e,t,r){},427:function(e,t,r){},429:function(e,t,r){},431:function(e,t,r){},438:function(e,t,r){},451:function(e,t,r){},453:function(e,t,r){},455:function(e,t,r){},457:function(e,t,r){},459:function(e,t,r){},461:function(e,t,r){},463:function(e,t,r){},465:function(e,t,r){},467:function(e,t,r){},469:function(e,t,r){},473:function(e,t,r){},475:function(e,t,r){},477:function(e,t,r){},479:function(e,t,r){},481:function(e,t,r){},483:function(e,t,r){},671:function(e,t,r){var a={"./ar":299,"./ar.js":299,"./az":300,"./az.js":300,"./be":301,"./be.js":301,"./bg":302,"./bg.js":302,"./bs":303,"./bs.js":303,"./ca":304,"./ca.js":304,"./cs":305,"./cs.js":305,"./cy":306,"./cy.js":306,"./da":307,"./da.js":307,"./de":308,"./de.js":308,"./el":309,"./el.js":309,"./en":175,"./en.js":175,"./es":310,"./es.js":310,"./et":311,"./et.js":311,"./eu":312,"./eu.js":312,"./fa":313,"./fa.js":313,"./fi":314,"./fi.js":314,"./fr":315,"./fr.js":315,"./hr":316,"./hr.js":316,"./hu":317,"./hu.js":317,"./id":318,"./id.js":318,"./it":319,"./it.js":319,"./ja":320,"./ja.js":320,"./ka":321,"./ka.js":321,"./ko":322,"./ko.js":322,"./lt":323,"./lt.js":323,"./lv":324,"./lv.js":324,"./mk":325,"./mk.js":325,"./mn":326,"./mn.js":326,"./ms":327,"./ms.js":327,"./nb_NO":328,"./nb_NO.js":328,"./nl":329,"./nl.js":329,"./pl":330,"./pl.js":330,"./pt":331,"./pt.js":331,"./pt_BR":332,"./pt_BR.js":332,"./ro":333,"./ro.js":333,"./ru":334,"./ru.js":334,"./sl":335,"./sl.js":335,"./sq":336,"./sq.js":336,"./sr":337,"./sr.js":337,"./sv":338,"./sv.js":338,"./tr":339,"./tr.js":339,"./ua":340,"./ua.js":340,"./uk":341,"./uk.js":341,"./vi":342,"./vi.js":342,"./zh":343,"./zh.js":343,"./zh_TW":344,"./zh_TW.js":344};function n(e){var t=c(e);return r(t)}function c(e){var t=a[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}n.keys=function(){return Object.keys(a)},n.resolve=c,e.exports=n,n.id=671},679:function(e,t){},681:function(e,t){},713:function(e,t){},714:function(e,t){},760:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(33),i=r.n(c),s=r(764),o=r(4),u=r(10),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var h={isProductionMode:function(){return!0},getUserStoreApiUrl:function(){return"https://api.myjson.com/bins/ei8zv"},getRaceStoreApiUrl:function(){return"https://api.myjson.com/bins/fp47f"},getLocalStorageUserKey:function(){return"f1betsappuserid"},getTickInterval:function(){return"1"}},m=(r(397),r(399),r(26)),f=r.n(m),d=r(142),b=r.n(d),v=r(195),O=r.n(v),g=r(196),y=r.n(g),j=r(197),w=r.n(j),_=r(199),E=r.n(_),k=r(200),S=r.n(k),N=r(201),x=r.n(N),T=r(202),R=r.n(T),M=r(203),U=r.n(M),A=r(204),P=r.n(A),I=r(214),B=r.n(I),C=r(215),D=r.n(C),Z=r(219),V=r.n(Z),W=r(218),L=r.n(W),F=r(216),z=r.n(F),q=r(217),H=r.n(q),G=r(211),J=r.n(G),Y=r(212),K=r.n(Y),$=r(194),Q=r.n($),X=r(220),ee=r.n(X),te=r(221),re=r.n(te),ae=r(213),ne=r.n(ae),ce=r(222),ie=r.n(ce),se=r(223),oe=r.n(se),ue=r(224),le=r.n(ue),pe=r(225),he=r.n(pe),me=r(226),fe=r.n(me);f.a.locale("ru");var de=r(1),be=r(3),ve=r(6),Oe=r(5),ge=r(7),ye=r(765),je=(r(413),r(415),r(11)),we=r(16),_e=r(8),Ee=(r(30),r(417),r(45)),ke=r.n(Ee),Se=r(37);var Ne=function e(t){var r=t.userInfo,a=t.betsMap;Object(de.a)(this,e),this.userInfo=r,this.betsMap=function(e){if(e instanceof Map){var t={},r=!0,a=!1,n=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var s=c.value,o=Object(Se.a)(s,2),u=o[0],l=o[1];l&&(t[u]=l)}}catch(p){a=!0,n=p}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}return t}return e}(a)},xe=function e(t){var r=t.name,a=t.id;Object(de.a)(this,e),this.name=r,this.id=a},Te=r(140),Re=r.n(Te),Me="-26bf-11e8-";function Ue(){return Re()()+Re()(Me)}var Ae=r(381),Pe=r.n(Ae),Ie=r(382),Be=r.n(Ie),Ce=function(){function e(t){var r=t.id,a=t.title,n=t.officialData,c=t.season,i=void 0===c?"2018":c,s=t.bets,o=void 0===s?[]:s;Object(de.a)(this,e),this.id=r||Re()(),this.title=a,this.season=i,this.officialData=n,this.bets=o.map(function(e){var t=e.userInfo,r=t.name,a=t.id,n=e.betsMap;return new Ne({userInfo:new xe({name:r,id:a}),betsMap:n})})}return Object(be.a)(e,[{key:"raceStartTime",get:function(){return this.officialData.race.start}},{key:"qualifyingStartTime",get:function(){return this.officialData.qualifying.start}},{key:"location",get:function(){return this.officialData.location}},{key:"prettyTitle",get:function(){return Pe()(this.title).map(Be.a).join(" ")}}],[{key:"fromJs",value:function(t){return new e({id:t.id,title:t.title,officialData:t.officialData,season:t.season,bets:t.bets})}}]),e}(),De=r(85);function Ze(e){return f()(e).format("D MMMM YYYY, HH:mm")}function Ve(e){return f()(e).format("DD MMMM")}function We(e){return f()(e).format("HH:mm")}function Le(e){return f()(e).format("D MMM YYYY")}function Fe(e){return e instanceof f.a?e:f()(e)}function ze(e,t){return Fe(e).isAfter(Fe(t))}function qe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=Fe(e)).add(t,r)}var He=function(){function e(t){Object(de.a)(this,e),this._date=t}return Object(be.a)(e,[{key:"title",get:function(){return"\u0413\u043e\u043d\u043a\u0430"}},{key:"day",get:function(){return e=this._date,f()(e).format("ddd");var e}},{key:"timeInterval",get:function(){return this._date?"".concat(We(this._date)):""}}]),e}(),Ge=function(e){function t(e,r){var a;return Object(de.a)(this,t),(a=Object(ve.a)(this,Object(Oe.a)(t).call(this,r)))._practiceNumber=e,a}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"title",get:function(){return"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 ".concat(this._practiceNumber)}},{key:"timeInterval",get:function(){return this._date?"".concat(We(this._date)," - ").concat(We(qe(this._date,3===this._practiceNumber?1:1.5,"hour"))):""}}]),t}(He),Je=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"title",get:function(){return"\u041a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"}},{key:"timeInterval",get:function(){return this._date?"".concat(We(this._date)," - ").concat(We(qe(this._date,1,"hour"))):""}}]),t}(He),Ye=function(){function e(t){Object(de.a)(this,e),this._roundInfo=t,this.racerStandings=[]}return Object(be.a)(e,[{key:"addRacerStandings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.racerStandings=e,this}},{key:"_firstPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[0]||""}},{key:"_secondPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[1]||""}},{key:"_thirdPracticeStartTime",get:function(){return this._roundInfo.roundSchedule&&this._roundInfo.roundSchedule.practices[2]||""}},{key:"_qualificationStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.qualification:""}},{key:"raceStartTime",get:function(){return this._roundInfo.roundSchedule?this._roundInfo.roundSchedule.race:""}},{key:"countryName",get:function(){return this._roundInfo.circuit.countryName}},{key:"circuitUrl",get:function(){return this._roundInfo.circuit.url}},{key:"raceUrl",get:function(){return this._roundInfo.raceUrl}},{key:"flagUrl",get:function(){return Object(De.findFlagUrlByCountryName)(this.countryName)}},{key:"raceTitle",get:function(){return"Formula 1 ".concat(this._roundInfo.season," ").concat(this._roundInfo.raceName)}},{key:"practices",get:function(){return[new Ge(1,this._firstPracticeStartTime),new Ge(2,this._secondPracticeStartTime),new Ge(3,this._thirdPracticeStartTime)]}},{key:"qualification",get:function(){return new Je(this._qualificationStartTime)}},{key:"race",get:function(){return new He(this.raceStartTime)}},{key:"weekendInterval",get:function(){return"".concat(Le(this._firstPracticeStartTime)," - ").concat(Le(this.raceStartTime))}}]),e}(),Ke=(r(421),r(87)),$e=(r(423),function(e){var t=e.className,r=e.children,a=Object(Ke.a)(e,["className","children"]);return n.a.createElement("a",Object.assign({className:ke()("text-link",t)},a),r)}),Qe=(r(425),function(e){var t=e.className,r=void 0===t?"":t,a=e.countryName,c=e.flagUrl,i=e.countryUrl;return n.a.createElement("div",{className:"country-info ".concat(r)},n.a.createElement("div",{className:"country-info__flag"},n.a.createElement("img",{className:"country-info__flag-image",src:c,alt:a})),n.a.createElement($e,{href:i,target:"_blank",className:"country-info__country-name"},a))}),Xe=(r(427),function(){function e(t,r,a,n){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";Object(de.a)(this,e),this.firstName=t,this.lastName=r,this.number=a,this.abbreviation=n,this.points=c,this.nationality=i,this.dateOfBirth=s}return Object(be.a)(e,[{key:"name",get:function(){return"".concat(this.firstName," ").concat(this.lastName)}},{key:"shortName",get:function(){return"".concat(this.firstName[0],". ").concat(this.lastName)}},{key:"code",get:function(){return this.abbreviation}}],[{key:"create",value:function(t){var r=t.firstName,a=t.lastName,n=t.number,c=t.abbreviation,i=t.points;return new e(r,a,n,c,void 0===i?0:i,t.nationality,t.dateOfBirth)}}]),e}()),et=function(e){function t(e){var r=e.firstName,a=e.lastName,n=e.number,c=e.abbreviation,i=e.points,s=e.nationality;return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).call(this,r,a,n,c,i,s))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"flagUrl",get:function(){return Object(De.findFlagUrlByNationality)(this.nationality)}}]),t}(Xe),tt=(r(429),function(e){var t=e.className,r=void 0===t?"":t,a=e.flagUrl,c=void 0===a?"":a,i=e.name,s=void 0===i?"":i,o=e.code;return n.a.createElement("div",{className:"racer-view ".concat(r),title:s},c&&n.a.createElement("img",{className:"racer-view__image",src:c,alt:s}),n.a.createElement("span",null,o))}),rt=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.racers,r=e.rowSize;return Array(t.length/r).fill(0).map(function(e,a){return t.slice(a*r,a*r+r)}).map(function(e,t){return n.a.createElement("div",{key:t,className:"racer-standings-widget__row"},e.map(function(e,a){return n.a.createElement("div",{className:"racer-standings-widget__racer",key:e.abbreviation},n.a.createElement("div",{className:"racer-standings-widget__racer-pos-number"},a+(t*r+1)),n.a.createElement(tt,{className:"racer-standings-widget__racer-name",code:e.abbreviation,name:e.name}))}))})}}]),t}(n.a.Component);rt.defaultProps={rowSize:20};var at=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.raceInfo,r=e.infoText,a=e.commandButton,c=t.flagUrl,i=t.countryName,s=t.raceTitle,o=t.weekendInterval,u=t.practices,l=t.qualification,p=t.race,h=t.circuitUrl,m=t.raceUrl,f=t.racerStandings;return n.a.createElement(O.a,{className:"race-info-panel"},n.a.createElement(y.a,null,n.a.createElement(w.a,{xs:12},n.a.createElement(Qe,{className:"race-info-panel__country-info",countryName:i,flagUrl:c,countryUrl:h}),n.a.createElement($e,{target:"_blank",href:m,className:"race-info-panel__grand-prix-title"},s))),n.a.createElement(y.a,null,n.a.createElement(w.a,{className:"race-info-panel__weekend-interval"},o)),n.a.createElement(y.a,{className:"justify-content-around section race-info-panel__weekend-schedule"},n.a.createElement(w.a,{className:"race-info-panel__practice-list",md:5},u.map(function(e){var t=e.title,r=e.day,a=e.timeInterval;return n.a.createElement(y.a,{className:"race-info-panel__stage-info",key:t.split(" ").join("_")},n.a.createElement(w.a,{xs:5},t),n.a.createElement(w.a,{xs:2},r.toUpperCase()),n.a.createElement(w.a,null,a))})),n.a.createElement(w.a,{className:"race-info-panel__race-description",md:5},n.a.createElement(y.a,{className:"race-info-panel__stage-info"},n.a.createElement(w.a,{xs:5},l.title),n.a.createElement(w.a,{xs:2},l.day.toUpperCase()),n.a.createElement(w.a,null,l.timeInterval)),n.a.createElement(y.a,{className:"race-info-panel__stage-info"},n.a.createElement(w.a,{xs:5},p.title),n.a.createElement(w.a,{xs:2},p.day.toUpperCase()),n.a.createElement(w.a,null,p.timeInterval)))),f.length>0&&n.a.createElement(rt,{racers:f}),n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement(a,null))),n.a.createElement("hr",{className:"race-info-panel__underscore"}),r&&n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement(ie.a,{color:"muted"},r))))}}]),t}(n.a.Component);at.defaultProps={infoText:""};var nt,ct,it,st=at,ot=(r(431),function(e){var t=e.className,r=e.onClick,a=e.disabled,c=e.children,i=e.size,s=Object(Ke.a)(e,["className","onClick","disabled","children","size"]);return n.a.createElement(b.a,Object.assign({className:"button button--primary ".concat(t),onClick:r,disabled:a,color:"primary",size:i},s),c)}),ut=(nt=Object(u.b)(function(e){return{isBetsAllowed:e.homePageStore.isBetsAllowed,isUserAlreadyBet:e.homePageStore.isUserAlreadyBet,isAuthenticated:e.homePageStore.isAuthenticated}}),Object(ye.a)(ct=nt(ct=Object(u.c)(ct=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n)))).handleBetButtonClick=function(){r.props.isBetsAllowed?r.props.history.push(ma.BETS):r.props.history.push(ma.RESULTS)},r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isBetsAllowed,r=e.isUserAlreadyBet,a=e.isAuthenticated,c="\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432";return c=t?a?r?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0412\u043e\u0439\u0442\u0438 \u0434\u043b\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f":"\u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432",n.a.createElement(ot,{onClick:this.handleBetButtonClick},c)}}]),t}(n.a.Component))||ct)||ct)||ct),lt=Object(u.b)("homePageStore")(it=Object(ye.a)(it=Object(u.c)(it=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(c)))).handleShowMoreButtonClick=function(){r.props.history.push(ma.RESULTS)},r.showMoreButton=function(){return n.a.createElement(ot,{onClick:r.handleShowMoreButtonClick},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u043e\u0432")},r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this,t=this.props.homePageStore,r=t.nextRaceInfo,a=t.previousRaces,c=t.isBetsAllowed;return n.a.createElement("div",{className:"home-page"},n.a.createElement("section",{className:"colors--very-light-red section"},r&&n.a.createElement(st,{raceInfo:r,commandButton:ut,infoText:c?"\u0421\u043f\u0435\u0448\u0438\u0442\u0435 \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043a\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0435\u0449\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f.":"\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f. \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0432\u0441\u0435\u043c \u043a\u0442\u043e \u043f\u0440\u0438\u043d\u044f\u043b \u0443\u0447\u0430\u0441\u0442\u0438\u0435."})),a.length>0&&n.a.createElement("section",{className:"section text-center"},"\u0420\u0430\u043d\u0435\u0435 \u0432 \u0441\u0435\u0440\u0438\u0430\u043b\u0435 :)"),a.map(function(t,r){var a=ke()("section",{"colors--very-light-green":r%2===0,"colors--light-gray":r%2!==0});return n.a.createElement("section",{key:t.countryName,className:a},n.a.createElement(st,{raceInfo:t,commandButton:e.showMoreButton,infoText:"\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 \u044d\u0442\u043e\u0442 \u044d\u0442\u0430\u043f \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f. \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0432\u0441\u0435\u043c \u043a\u0442\u043e \u043f\u0440\u0438\u043d\u044f\u043b \u0443\u0447\u0430\u0441\u0442\u0438\u0435."}))}))}}]),t}(a.Component))||it)||it)||it,pt=r(2),ht=r.n(pt),mt=r(9),ft=function(e){function t(e){var r,a=e.login,n=e.name,c=e.password,i=e.id,s=e.isAdmin,o=void 0!==s&&s,u=e.isTesting,l=void 0!==u&&u;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,{name:n,id:i}))).login=a,r.password=c,r.id=i||Ue(),r.isAdmin=o,r.isTesting=l,r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"toUserInfo",value:function(){return new xe(this)}}],[{key:"fromJs",value:function(e){var r=e.login,a=e.name,n=e.password,c=e.id,i=e.isAdmin;return new t({login:r,name:a,password:n,id:c,isAdmin:void 0!==i&&i})}}]),t}(xe),dt=r(88);r(438);function bt(e){var t=e.firstName,r=e.lastName;return"".concat(t," ").concat(r.toUpperCase())}var vt=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n)))).handleSelect=function(e){var t=r.props,a=t.pos;(0,t.onSelect)(e?e.value:null,a)},r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,r=e.racerList,a=e.placeholder,c=function(e){return e.map(function(e){return{label:bt(e),value:e}})}(r);return n.a.createElement(dt.a,{className:"racers-select",value:t,options:c,placeholder:a,searchable:!1,valueRenderer:bt,optionClassName:"racers-select__option",onChange:this.handleSelect})}}]),t}(n.a.Component);vt.defaultProps={value:null,placeholder:""};var Ot,gt,yt,jt,wt,_t,Et=vt,kt=(Ot=function(){function e(t){var r=this,a=t.racers,n=t.onSave,c=t.initData,i=void 0===c?{}:c,s=t.gridPositionsCount,o=void 0===s?10:s;Object(de.a)(this,e),Object(je.a)(this,"_map",gt,this),Object(je.a)(this,"handleSelect",yt,this),this.handleSubmit=function(){return r._onSave(r.gridMapAsJS)},this._initMap(a,i,o),this._racers=a,this._onSave=n}return Object(be.a)(e,[{key:"_initMap",value:function(e,t,r){var a=this;Array(r).fill(null).forEach(function(r,n){var c=e.find(function(e){return e.abbreviation===t[n+1]});a.handleSelect(c||null,n+1)})}},{key:"gridMapAsJS",get:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,c=this._map[Symbol.iterator]();!(t=(n=c.next()).done);t=!0){var i=n.value,s=Object(Se.a)(i,2),o=s[0],u=s[1];u&&(e[o]=u.abbreviation)}}catch(l){r=!0,a=l}finally{try{t||null==c.return||c.return()}finally{if(r)throw a}}return e}},{key:"tableData",get:function(){return Array.from(this._map).map(function(e){var t=Object(Se.a)(e,2);return{pos:t[0],racer:t[1]}})}},{key:"availableRacers",get:function(){var e=this;return this._racers.filter(function(t){var r=t.name;return!e.tableData.filter(function(e){var t=e.racer;return Boolean(t)}).some(function(e){return e.racer.name===r})})}}]),e}(),gt=Object(_e.a)(Ot.prototype,"_map",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(_e.a)(Ot.prototype,"gridMapAsJS",[o.computed],Object.getOwnPropertyDescriptor(Ot.prototype,"gridMapAsJS"),Ot.prototype),Object(_e.a)(Ot.prototype,"tableData",[o.computed],Object.getOwnPropertyDescriptor(Ot.prototype,"tableData"),Ot.prototype),Object(_e.a)(Ot.prototype,"availableRacers",[o.computed],Object.getOwnPropertyDescriptor(Ot.prototype,"availableRacers"),Ot.prototype),yt=Object(_e.a)(Ot.prototype,"handleSelect",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,r){e._map.set(r,t)}}}),Object(_e.a)(Ot.prototype,"_initMap",[o.action],Object.getOwnPropertyDescriptor(Ot.prototype,"_initMap"),Ot.prototype),Ot),St=Object(u.c)((_t=wt=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e)))._grid=new kt(e),r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.placeholder,a=t.submitButtonText;return n.a.createElement(E.a,{tag:"div"},n.a.createElement(U.a,{striped:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"text-center"},"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"),n.a.createElement("th",null,"\u041f\u0438\u043b\u043e\u0442"))),n.a.createElement("tbody",null,this._grid.tableData.map(function(t){var a=t.pos,c=t.racer;return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"text-center"},a),n.a.createElement("td",{style:{width:"85%"}},n.a.createElement(Et,{value:c,racerList:e._grid.availableRacers,onSelect:e._grid.handleSelect,pos:Number(a),placeholder:r})))}))),n.a.createElement(S.a,null,n.a.createElement(ot,{onClick:this._grid.handleSubmit},a)))}}]),t}(n.a.Component),wt.defaultProps={placeholder:"",submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",gridPositionsCount:10,initData:{}},jt=_t))||jt,Nt=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n)))).handleSave=function(){var e=Object(mt.a)(ht.a.mark(function e(t){var a,n,c,i;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props,n=a.user,c=a.onBetsSubmit,i=new Ne({userInfo:n.toUserInfo(),betsMap:t}),e.next=4,c(i);case 4:r.goToResultsPage();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){return n.a.createElement(St,{racers:this.props.racers,initData:this.props.userBet,placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0412\u0430\u0448 \u043f\u0440\u043e\u0433\u043d\u043e\u0437",submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437",gridPositionsCount:10,onSave:this.handleSave})}},{key:"goToResultsPage",value:function(){this.props.history.push(ma.RESULTS)}}]),t}(a.Component),xt=Object(ye.a)(Nt),Tt=Object(u.b)("betPageStore")(Object(u.c)(function(e){var t=e.betPageStore,r=t.racers,a=t.currentUser,c=t.userBet,i=t.onBetsSubmit,s=t.isBetsAllowed,o=t.nextRaceTitle;return n.a.createElement(O.a,null,n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement("h1",{className:"page-title"},s?"\u0414\u0435\u043b\u0430\u0439\u0442\u0435 \u0412\u0430\u0448\u0438 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b!":"\u041f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f."))),n.a.createElement(y.a,null,n.a.createElement(w.a,null,s?n.a.createElement(xt,{racers:r,user:a,userBet:c,onBetsSubmit:i}):n.a.createElement("div",{className:"alert alert-warning",role:"alert"},"\u0421\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u044b \u043d\u0430 ",o," \u0443\u0436\u0435 \u043d\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f.",n.a.createElement("br",null),"\u041d\u043e\u0432\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0443\u044e \u0433\u043e\u043d\u043a\u0443 \u0443 \u0412\u0430\u0441 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043d\u0430\u0447\u0430\u043b\u0430 \u044d\u0442\u043e\u0439."))))})),Rt=function(){function e(){Object(de.a)(this,e),this._score=[]}return Object(be.a)(e,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._score.push(e)}},{key:"getPointsAt",value:function(e){return this._score[e]}},{key:"value",get:function(){return this._score.reduce(function(e,t){return e+t},0)}},{key:"tooltip",get:function(){return this._score.join("-")}}]),e}();function Mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new Rt;return t?function(e,t){var r=new Rt,a=t.slice(0,10);return e.forEach(function(e,n){if(e){var c=t.findIndex(function(t){return t===e}),i=Math.abs(c-n),s=a.some(function(t){return t===e}),o=i<5?10-2*i:s?2:0;r.add(o)}else r.add(0)}),r}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Array(t).fill(null).map(function(t,r){return e[r+1]?e[r+1]:""})}(e),Object.values(t)):r}var Ut=function(e){function t(e){var r,a=e.userName,n=e.userId,c=e.userBetsMap,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,{name:a,id:n}))).userPoll=c,r.userScore=Mt(c,i),r}return Object(ge.a)(t,e),Object(be.a)(t,null,[{key:"createOfficialResults",value:function(e){return new t({userName:"Formula 1 (Official)",userId:"official-results",userBetsMap:e})}}]),t}(xe),At=function(e){var t=e.hasRaceResults;return n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",{className:"text-uppercase"},n.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),n.a.createElement("th",{className:"text-center"},"1"),n.a.createElement("th",{className:"text-center"},"2"),n.a.createElement("th",{className:"text-center"},"3"),n.a.createElement("th",{className:"text-center"},"4"),n.a.createElement("th",{className:"text-center"},"5"),n.a.createElement("th",{className:"text-center"},"6"),n.a.createElement("th",{className:"text-center"},"7"),n.a.createElement("th",{className:"text-center"},"8"),n.a.createElement("th",{className:"text-center"},"9"),n.a.createElement("th",{className:"text-center"},"10"),t&&n.a.createElement("th",{className:"text-center"},"PTS")))},Pt=(r(451),function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,r=e.points,a=e.isBadgeVisible,c=ke()("polling-result-cell",{"text-success":a&&10===r,"text-warning":a&&r>0&&r<10,"text-secondary text--line-through":a&&0===r});return n.a.createElement("div",{className:c},t,a&&t&&n.a.createElement(Q.a,{className:"polling-result-cell__badge",color:"light",pill:!0},r))}}]),t}(n.a.Component));Pt.defaultProps={points:0,isBadgeVisible:!1,text:""};var It=Pt,Bt=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userPollData,r=e.isCurrentUserRow,a=void 0!==r&&r,c=e.hasRaceResults,i=void 0!==c&&c,s=e.isOfficialResultsRow,o=void 0!==s&&s,u=t.id,l=t.name,p=t.userPoll,h=t.userScore,m=ke()({"table-info":a,"table-success":o,"font-weight-bold":o});return n.a.createElement("tr",{className:m},n.a.createElement("td",null,l),Array(10).fill(1).map(function(e,t){return n.a.createElement("td",{key:u+t,className:"text-center"},n.a.createElement(It,{points:h.getPointsAt(t),text:p[t+1],isBadgeVisible:i&&!o}))}),i&&n.a.createElement("td",{className:"text-center"},n.a.createElement("span",{title:h.tooltip},!o&&h.value)))}}]),t}(n.a.Component),Ct=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rows,r=e.currentUser,a=e.hasRaceResults;return n.a.createElement(U.a,{size:"sm",responsive:!0},n.a.createElement(At,{hasRaceResults:a}),n.a.createElement("tbody",null,t.map(function(e){return n.a.createElement(Bt,{userPollData:e,key:e.id,isOfficialResultsRow:"official-results"===e.id,isCurrentUserRow:r&&r.id===e.id,hasRaceResults:a})})))}}]),t}(n.a.Component);Ct.defaultProps={rows:[],currentUser:null,hasRaceResults:!1};var Dt=Ct,Zt=(r(453),r(69)),Vt=r(61),Wt=r(41),Lt=r(86),Ft=r.n(Lt),zt=function(){function e(t){var r=this,a=t.race,n=t.racers,c=void 0===n?[]:n;Object(de.a)(this,e),this._officialResults=null,this._officialResultsBetMap=null,this.raceId=a.id,this.raceTitle=a.prettyTitle,c.length>0&&(this._officialResultsBetMap=this._convertToBetMap(c),this._officialResults=Ut.createOfficialResults(this._officialResultsBetMap)),this._userVotes=a.bets.map(function(e){return new Ut({userName:e.userInfo.name,userId:e.userInfo.id,userBetsMap:e.betsMap},r._officialResultsBetMap)})}return Object(be.a)(e,[{key:"_convertToBetMap",value:function(e){return e.reduce(function(e,t,r){return Object(Wt.a)({},e,Object(Vt.a)({},r+1,t.abbreviation))},{})}},{key:"hasOfficialResults",get:function(){return null!==this._officialResults}},{key:"userBetsResults",get:function(){if(this.hasOfficialResults){var e=Ft()(this._userVotes,function(e){return-e.userScore.value});return[this._officialResults].concat(Object(Zt.a)(e))}return Object(Zt.a)(this._userVotes)}},{key:"userVotes",get:function(){return this._userVotes}}]),e}(),qt=(r(455),function(e){var t=e.children;return n.a.createElement("span",{className:"pseudo-link"},t)});r(457);function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var Gt,Jt,Yt,Kt,$t,Qt,Xt=n.a.createElement("path",{fill:"currentColor",d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"}),er=function(e){return n.a.createElement("svg",Ht({viewBox:"0 0 320 512"},e),Xt)},tr=(r.p,r(459),function(e){var t=e.direction,r=void 0===t?"down":t,a=e.className,c=void 0===a?"":a,i=ke()("chevron-icon","chevron-icon--".concat(r),c);return n.a.createElement(er,{className:i})}),rr=Object(u.c)((Jt=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n))),Object(je.a)(r,"_isOpen",Yt,Object(we.a)(Object(we.a)(r))),Object(je.a)(r,"_toggle",Kt,Object(we.a)(Object(we.a)(r))),r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props.usersVotes,t=void 0===e?[]:e,r=Ft()(t,function(e){return-e.totalPoints});return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"results-page__race-header",onClick:this._toggle},n.a.createElement(qt,null,"\u0421\u0432\u043e\u0434\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f"," ",n.a.createElement(tr,{direction:this._isOpen?"top":"down"}))),n.a.createElement(P.a,{isOpen:this._isOpen},n.a.createElement(U.a,{className:"user-standings-table",size:"sm",responsive:!0},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",{className:"text-uppercase"},n.a.createElement("th",{className:"user-standings-table__pos-column"},"\u041f\u043e\u0437"),n.a.createElement("th",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),n.a.createElement("th",{className:"text-right"},"\u043e\u0447\u043a\u0438"))),n.a.createElement("tbody",null,r.map(function(e,t){return n.a.createElement("tr",{key:e.userId},n.a.createElement("td",{className:"user-standings-table__pos-column"},t+1),n.a.createElement("td",null,e.userName),n.a.createElement("td",{className:"text-right"},e.totalPoints))})))))}}]),t}(n.a.Component),Yt=Object(_e.a)(Jt.prototype,"_isOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kt=Object(_e.a)(Jt.prototype,"_toggle",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._isOpen=!e._isOpen}}}),Gt=Jt))||Gt,ar=function e(t){var r=t.userId,a=t.userName,n=t.totalPoints,c=void 0===n?0:n;Object(de.a)(this,e),this.userId=r,this.userName=a,this.totalPoints=c},nr=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,r=e.raceResultsWithBets,a=e.userStandings;return n.a.createElement(O.a,{tag:"section",className:"results-page"},n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement(rr,{usersVotes:a}))),r.reverse().map(function(e){var r=e.raceId,a=e.raceTitle,c=e.hasOfficialResults,i=e.userBetsResults;return 0===i.length?null:n.a.createElement(y.a,{key:r},n.a.createElement(w.a,null,n.a.createElement("h2",{className:"results-page__race-header"},a),n.a.createElement(Dt,{rows:i,currentUser:t,hasRaceResults:c})))}))}}]),t}(n.a.Component),cr=Object(u.b)(function(e){return{currentUser:e.resultsPageStore.authenticatedUser,raceResultsWithBets:e.resultsPageStore.raceResultsWithBets,userStandings:e.resultsPageStore.userStandings}})(Object(u.c)(nr)),ir=function e(t){var r=t.racerId,a=t.racerFullName,n=t.racerPoints,c=t.racerUrl,i=t.racerNumber,s=t.racerNationality,o=t.constructorName,u=t.constructorUrl;Object(de.a)(this,e),this.racerId=r,this.racerFullName=a,this.racerUrl=c,this.racerPoints=n,this.racerNumber=i,this.racerNationality=s,this.constructorUrl=u,this.constructorName=o},sr=(r(461),function(e){var t=e.text,r=e.url,a=e.nationality;return n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:r},n.a.createElement("img",{className:"nationalized-link__flag",src:Object(De.findFlagUrlByNationality)(a),alt:a}),n.a.createElement("span",null,t))}),or=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props.racers;return n.a.createElement(U.a,{responsive:!0},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",{className:"text-uppercase"},n.a.createElement("th",null,"\u043f\u043e\u0437"),n.a.createElement("th",{className:"text-right"},"\u041d\u043e\u043c"),n.a.createElement("th",{className:"text-left"},"\u0413\u043e\u043d\u0449\u0438\u043a"),n.a.createElement("th",{className:"text-left"},"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"),n.a.createElement("th",null,"\u041e\u0447\u043a\u0438"))),n.a.createElement("tbody",null,e.map(function(e,t){var r=e.racerFullName,a=e.racerUrl,c=e.racerId,i=e.racerNumber,s=e.constructorName,o=e.constructorUrl,u=e.racerPoints,l=e.racerNationality;return n.a.createElement("tr",{key:c},n.a.createElement("td",null,t+1),n.a.createElement("td",{className:"text-right"},i),n.a.createElement("td",null,n.a.createElement(sr,{text:r,url:a,nationality:l})),n.a.createElement("td",null,n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o},s)),n.a.createElement("td",null,u))})))}}]),t}(n.a.Component),ur=Object(u.b)(function(e){return{racerStandingList:e.racerStandingsPageStore.racerStandingList}})($t=Object(u.c)($t=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props.racerStandingList;return n.a.createElement(O.a,null,n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement("h1",{className:"page-title"},"\u0422\u0443\u0440\u043d\u0438\u0440\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0438\u043b\u043e\u0442\u043e\u0432 \u0441\u0435\u0437\u043e\u043d\u0430 2018"),n.a.createElement(or,{racers:e.slice()}))))}}]),t}(n.a.Component))||$t)||$t,lr=function e(t){var r=t.pos,a=t.name,n=t.id,c=t.points,i=t.url,s=t.nationality;Object(de.a)(this,e),this.pos=r,this.name=a,this.id=n,this.points=c,this.url=i,this.nationality=s},pr=(r(463),function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){return n.a.createElement(U.a,{responsive:!0},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",{className:"text-uppercase"},n.a.createElement("th",null,"\u041f\u043e\u0437"),n.a.createElement("th",null),n.a.createElement("th",{className:"text-left"},"\u041a\u043e\u043c\u0430\u043d\u0434\u0430"),n.a.createElement("th",null,"\u041e\u0447\u043a\u0438"))),n.a.createElement("tbody",null,this.props.teams.map(function(e){var t=e.pos,r=e.name,a=e.url,c=e.id,i=e.points,s=e.nationality;return n.a.createElement("tr",{key:c},n.a.createElement("td",null,t),n.a.createElement("td",{className:"text-right"},n.a.createElement("img",{className:"team-car-photo",src:"/images/cars/"+c+".jpg",alt:r})),n.a.createElement("td",null,n.a.createElement(sr,{text:r,nationality:s,url:a})),n.a.createElement("td",null,i))})))}}]),t}(n.a.Component)),hr=Object(u.b)(function(e){return{teamsStandingList:e.teamsStandingsPageStore.teamsStandingList}})(Qt=Object(u.c)(Qt=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){return n.a.createElement(O.a,null,n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement("h1",{className:"page-title"},"\u0422\u0443\u0440\u043d\u0438\u0440\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043a\u043e\u043c\u0430\u043d\u0434 \u0441\u0435\u0437\u043e\u043d\u0430 2018"),n.a.createElement(pr,{teams:this.props.teamsStandingList.slice()}))))}}]),t}(n.a.Component))||Qt)||Qt,mr=(r(465),function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n)))).handleSelect=function(e){r.props.onSelect(e)},r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,r=e.raceList;return n.a.createElement(dt.a,{value:t,labelKey:"title",options:r,searchable:!1,onChange:this.handleSelect})}}]),t}(n.a.Component));mr.defaultProps={value:null};var fr,dr,br,vr,Or,gr,yr,jr,wr,_r,Er,kr,Sr,Nr,xr,Tr,Rr,Mr,Ur,Ar,Pr,Ir,Br,Cr,Dr,Zr,Vr,Wr=mr,Lr=Object(u.b)(function(e){return{onBetsSubmit:e.adminPageStore.racesSectionStore.addNewBet,racers:e.adminPageStore.racesSectionStore.racers,users:e.adminPageStore.racesSectionStore.users}})(fr=Object(u.c)((dr=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n))),Object(je.a)(r,"_isDialogOpen",br,Object(we.a)(Object(we.a)(r))),Object(je.a)(r,"_selectedUser",vr,Object(we.a)(Object(we.a)(r))),Object(je.a)(r,"handleSubmit",Or,Object(we.a)(Object(we.a)(r))),Object(je.a)(r,"handleToggleDialog",gr,Object(we.a)(Object(we.a)(r))),Object(je.a)(r,"handleUserSelect",yr,Object(we.a)(Object(we.a)(r))),r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.race,r=e.users,a=e.racers;return n.a.createElement(n.a.Fragment,null,n.a.createElement(ot,{onClick:this.handleToggleDialog},"Add bet"),this._isDialogOpen&&n.a.createElement(le.a,{isOpen:!0},n.a.createElement(he.a,null,"\u0413\u043e\u043b\u043e\u0432\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f (",t.title,")"),n.a.createElement(fe.a,null,n.a.createElement(E.a,null,n.a.createElement(S.a,null,n.a.createElement(R.a,{htmlFor:"users_select"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),n.a.createElement(dt.a,{name:"users_select",value:this._selectedUser,labelKey:"name",options:r.slice(),searchable:!1,onChange:this.handleUserSelect})),n.a.createElement(S.a,null,n.a.createElement(St,{racers:a,onSave:this.handleSubmit}))))))}}]),t}(n.a.Component),br=Object(_e.a)(dr.prototype,"_isDialogOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vr=Object(_e.a)(dr.prototype,"_selectedUser",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Or=Object(_e.a)(dr.prototype,"handleSubmit",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(mt.a)(ht.a.mark(function t(r){var a;return ht.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._selectedUser){t.next=3;break}return alert("\u0412\u044b\u0431\u0435\u0440\u0438 \u042e\u0437\u0435\u0440\u0430!!!"),t.abrupt("return");case 3:return a=new Ne({userInfo:e._selectedUser.toUserInfo(),betsMap:r}),t.next=6,e.props.onBetsSubmit(a);case 6:e.handleToggleDialog();case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),gr=Object(_e.a)(dr.prototype,"handleToggleDialog",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._isDialogOpen=!e._isDialogOpen}}}),yr=Object(_e.a)(dr.prototype,"handleUserSelect",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e._selectedUser=t}}}),fr=dr))||fr)||fr,Fr=Object(u.b)(function(e){return{racesSectionStore:e.adminPageStore.racesSectionStore}})(jr=Object(u.c)(jr=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n)))).handleAddNewRace=function(){},r.handleAddRaceResults=function(){r.props.racesSectionStore.showRaceResultsPanel()},r.handleInitRacesCollection=function(){r.props.racesSectionStore.initRacesCollection()},r.handleGridSelectorSave=function(){var e=Object(mt.a)(ht.a.mark(function e(t){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.racesSectionStore.addOrUpdateRaceResults(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r.handleRaceSelect=function(e){r.props.racesSectionStore.selectedRace=e},r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props.racesSectionStore,t=e.storeApiUrl,r=e.isRaceResultsPanelVisible,a=e.selectedRace,c=e.races,i=e.racers;return n.a.createElement("section",{style:{marginTop:"10px"}},n.a.createElement(y.a,null,n.a.createElement(w.a,{className:"command-buttons-container"},n.a.createElement(b.a,{size:"sm",color:"info",className:"command-button",disabled:!0,onClick:this.handleInitRacesCollection},"Init Races"),n.a.createElement(b.a,{size:"sm",color:"info",className:"command-button",onClick:this.handleAddNewRace},"Add New Race"),n.a.createElement(b.a,{size:"sm",color:"info",className:"command-button",onClick:this.handleAddRaceResults},"Add Race Results"))),r&&[n.a.createElement(y.a,{key:1},n.a.createElement(w.a,{md:2},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u043d\u043a\u0443:"),n.a.createElement(w.a,null,n.a.createElement(Wr,{value:a,onSelect:this.handleRaceSelect,raceList:c.slice()}))),n.a.createElement(y.a,{key:2},n.a.createElement(w.a,null,n.a.createElement(St,{racers:i.slice(),onSave:this.handleGridSelectorSave})))],n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement(U.a,{bordered:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\u2116"),n.a.createElement("th",null,"Title"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Bets"),n.a.createElement("th",null,"Commands"))),n.a.createElement("tbody",null,c.map(function(e,t){var r=e.title,a=e.raceStartTime,c=e.qualifyingStartTime,i=e.bets;return n.a.createElement("tr",{key:r},n.a.createElement("td",null,t+1),n.a.createElement("td",null,r),n.a.createElement("td",null,n.a.createElement("div",null,"Qual: ",Ze(c)),n.a.createElement("div",null,"Race: ",Ze(a))),n.a.createElement("td",null,"We have ",i.length," bets"),n.a.createElement("td",null,n.a.createElement(Lr,{race:e})))}))))),n.a.createElement(y.a,null,n.a.createElement(w.a,null,"Details:"," ",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t},t))))}}]),t}(a.Component))||jr)||jr,zr=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n)))).handleOkClick=function(){var e=r.props.user,t=new ft({id:e&&e.id||void 0,login:r._userLoginInput.value,name:r._userNameInput.value,password:r._userPasswordInput.value,isAdmin:r._userIsAdminInput.checked});r.props.onSubmit(t)},r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.user;if(t){var r=t.login,a=t.name,n=t.password,c=t.isAdmin;this._userLoginInput.value=r,this._userNameInput.value=a,this._userPasswordInput.value=n,this._userIsAdminInput.checked=c}}},{key:"render",value:function(){var e=this;return n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement(E.a,{tag:"div",className:"user-form"},n.a.createElement(S.a,null,n.a.createElement(R.a,{for:"login",className:"user-form__label"},"Login"),n.a.createElement(x.a,{className:"user-form__input",type:"text",name:"login",id:"login",placeholder:"Login",innerRef:function(t){e._userLoginInput=t}})),n.a.createElement(S.a,null,n.a.createElement(R.a,{for:"name",className:"user-form__label"},"\u0418\u043c\u044f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430"),n.a.createElement(x.a,{className:"user-form__input",type:"text",name:"name",id:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448\u0435 \u0438\u043c\u044f",innerRef:function(t){e._userNameInput=t}})),n.a.createElement(S.a,{className:"user-form"},n.a.createElement(R.a,{for:"password",className:"user-form__label"},"\u041f\u0430\u0440\u043e\u043b\u044c"),n.a.createElement(x.a,{className:"user-form__input user-form__input--password",type:"password",name:"password",id:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",innerRef:function(t){e._userPasswordInput=t}})),n.a.createElement(S.a,{check:!0},n.a.createElement(R.a,{check:!0},n.a.createElement(x.a,{type:"checkbox",innerRef:function(t){e._userIsAdminInput=t}})," ","Check me out")),n.a.createElement(S.a,null,n.a.createElement("button",{className:"btn btn-default user-form__button",onClick:this.handleOkClick},"OK")))))}}]),t}(n.a.Component),qr=Object(u.b)(function(e){return{usersSectionStore:e.adminPageStore.usersSectionStore}})(wr=Object(u.c)(wr=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n)))).handleInitUsersCollection=Object(mt.a)(ht.a.mark(function e(){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.props.usersSectionStore.fetchUsers();case 1:case"end":return e.stop()}},e,this)})),r.handleAddNewUser=function(){r._toggleForm(!0)},r.handleEditUser=function(e){var t=r.props.usersSectionStore,a=t.users;(0,t.setUserForEdit)(a.find(function(t){return t.id===e})||null)},r.handleUserFormSubmit=function(){var e=Object(mt.a)(ht.a.mark(function e(t){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.usersSectionStore.addOrUpdate(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"_toggleForm",value:function(e){this.props.usersSectionStore.toggleUserForm(e)}},{key:"render",value:function(){var e=this,t=this.props.usersSectionStore,r=t.isUserFormVisible,a=t.storeApiUrl,c=t.userForEdit,i=t.users,s=t.deleteUser;return n.a.createElement("section",{style:{marginTop:"10px"}},r&&n.a.createElement(zr,{onSubmit:this.handleUserFormSubmit,user:c}),n.a.createElement(y.a,null,n.a.createElement(w.a,{className:"command-buttons-container"},n.a.createElement(b.a,{size:"sm",color:"info",className:"command-button",disabled:!0,onClick:this.handleInitUsersCollection},"Init User's Col"),n.a.createElement(b.a,{size:"sm",color:"info",className:"command-button",onClick:this.handleAddNewUser},"Add New User"))),n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement(U.a,{bordered:!0,size:"sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User Name"),n.a.createElement("th",null,"Login"),n.a.createElement("th",null,"isAdmin"),n.a.createElement("th",null,"isTesting"),n.a.createElement("th",null,"Action"))),n.a.createElement("tbody",null,i.map(function(t){var r=t.id,a=t.name,c=t.login,i=t.isAdmin,o=t.isTesting;return n.a.createElement("tr",{key:r},n.a.createElement("td",{title:r},a),n.a.createElement("td",null,c),n.a.createElement("td",null,n.a.createElement("div",null,n.a.createElement("input",{type:"checkbox",checked:i,readOnly:!0}))),n.a.createElement("td",null,n.a.createElement("input",{type:"checkbox",checked:o,readOnly:!0})),n.a.createElement("td",null,n.a.createElement(b.a,{onClick:function(){return e.handleEditUser(r)}},"edit"),n.a.createElement(b.a,{onClick:function(){s(r)}},"delete")))}))))),n.a.createElement(y.a,null,n.a.createElement(w.a,null,"Details:"," ",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a},a))))}}]),t}(a.Component))||wr)||wr,Hr=Object(u.b)(function(e){return{usersCount:e.adminPageStore.usersSectionStore.users.length}})(_r=Object(u.c)((Er=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n))),Object(je.a)(r,"activeTab",kr,Object(we.a)(Object(we.a)(r))),Object(je.a)(r,"toggle",Sr,Object(we.a)(Object(we.a)(r))),r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this,t=this.props.usersCount;return n.a.createElement("div",null,n.a.createElement(J.a,{tabs:!0},n.a.createElement(K.a,null,n.a.createElement(ne.a,{className:"".concat("1"===this.activeTab?"active":""),onClick:function(){e.toggle("1")}},"Races")),n.a.createElement(K.a,null,n.a.createElement(ne.a,{className:"".concat("2"===this.activeTab?"active":""),onClick:function(){e.toggle("2")}},"Users"," ",n.a.createElement(Q.a,{color:"secondary",pill:!0},t)))),n.a.createElement(ee.a,{activeTab:this.activeTab},n.a.createElement(re.a,{tabId:"1"},n.a.createElement(y.a,{style:{marginTop:"1rem"}},n.a.createElement(w.a,{sm:"12"},n.a.createElement("h4",null,"Races details"),n.a.createElement(Fr,null)))),n.a.createElement(re.a,{tabId:"2"},n.a.createElement(y.a,{style:{marginTop:"1rem"}},n.a.createElement(w.a,{sm:"12"},n.a.createElement("h4",null,"Users Details"),n.a.createElement(qr,null))))))}}]),t}(a.Component),kr=Object(_e.a)(Er.prototype,"activeTab",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1"}}),Sr=Object(_e.a)(Er.prototype,"toggle",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.activeTab!==t&&(e.activeTab=t)}}}),_r=Er))||_r)||_r,Gr=Object(u.c)(Nr=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){return n.a.createElement(O.a,{tag:"section"},n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement("h1",{className:"page-title"},"Admin Page"))),n.a.createElement(Hr,null))}}]),t}(n.a.Component))||Nr,Jr=r(763),Yr={LOGIN:"login",PASSWORD:"password"},Kr=Object(Wt.a)({},Yr,{NAME:"name"}),$r=(xr={},Object(Vt.a)(xr,Yr.LOGIN,{name:Yr.LOGIN,label:"\u041b\u043e\u0433\u0438\u043d",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, superman",rules:"required|string|alpha_num|between:2,15"}),Object(Vt.a)(xr,Yr.PASSWORD,{name:Yr.PASSWORD,label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, ******",rules:"required|string|alpha_num|between:5,15"}),xr),Qr=Object(Wt.a)({},$r,Object(Vt.a)({},Kr.NAME,{name:Kr.NAME,label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, John Doe",rules:"required|string|between:3,25"})),Xr=Object(u.c)(function(e){var t=e.form,r=t.$(Yr.LOGIN),a=r.error,c=Boolean(a),i=t.$(Yr.PASSWORD),s=i.error,o=Boolean(s);return n.a.createElement(E.a,null,n.a.createElement(S.a,null,n.a.createElement(R.a,{htmlFor:r.id},r.label),n.a.createElement(x.a,Object.assign({},r.bind(),{invalid:c,valid:r.isDirty&&!c})),n.a.createElement(oe.a,{valid:!c},r.error)),n.a.createElement(S.a,null,n.a.createElement(R.a,{htmlFor:i.id},i.label),n.a.createElement(x.a,Object.assign({},i.bind({type:"password"}),{invalid:o,valid:i.isDirty&&!o})),n.a.createElement(oe.a,{valid:!o},s)),n.a.createElement(b.a,{color:"primary",type:"submit",onClick:t.onSubmit,disabled:t.isEmpty||!t.isValid,style:{width:"100%"}},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),ea=Object(u.c)(function(e){var t=e.form,r=t.$(Kr.NAME),a=r.error,c=Boolean(a),i=t.$(Kr.LOGIN),s=i.error,o=Boolean(s),u=t.$(Kr.PASSWORD),l=u.error,p=Boolean(l);return n.a.createElement(E.a,null,n.a.createElement(S.a,null,n.a.createElement(R.a,{htmlFor:r.id},r.label),n.a.createElement(x.a,Object.assign({},r.bind(),{invalid:c,valid:r.isDirty&&!c})),n.a.createElement(oe.a,{valid:!c},a)),n.a.createElement(S.a,null,n.a.createElement(R.a,{htmlFor:i.id},i.label),n.a.createElement(x.a,Object.assign({},i.bind(),{invalid:o,valid:i.isDirty&&!o})),n.a.createElement(oe.a,{valid:!o},s)),n.a.createElement(S.a,null,n.a.createElement(R.a,{htmlFor:u.id},u.label),n.a.createElement(x.a,Object.assign({},u.bind({type:"password"}),{invalid:p,valid:u.isDirty&&!p})),n.a.createElement(oe.a,{valid:!p},l),n.a.createElement(ie.a,{color:"muted"},"\u0412\u0410\u0416\u041d\u041e! \u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u0412\u0430\u0448\u0438 \u043f\u0430\u0440\u043e\u043b\u0438 \u043e\u0442 \u0431\u0430\u043d\u043a\u043e\u0432\u043a\u0438\u0445 \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0432\u0430\u0436\u043d\u044b\u0445 \u0430\u043a\u0430\u0443\u043d\u0442\u043e\u0432. ",n.a.createElement("br",null),"\u042d\u0442\u043e\u0442 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043a\u0430\u043a-\u0442\u043e \u043e\u0441\u043e\u0431\u043e \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0435\u0433\u043e \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u043b\u043e\u0443\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u0438\u043a\u0438. ",n.a.createElement("br",null),"\u041d\u0443, \u044f \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b \u0435\u0441\u043b\u0438 \u0447\u0442\u043e :)")),n.a.createElement(ot,{type:"submit",disabled:t.isEmpty||!t.isValid,onClick:t.onSubmit,style:{width:"100%"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))}),ta=(r(467),Object(u.b)("loginPageStore")(Tr=Object(ye.a)(Tr=Object(u.c)(Tr=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n)))).handleRegisterNew=function(){r.props.loginPageStore.toggleRegisterNewForm()},r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props.loginPageStore,t=e.isRegisterNew,r=e.isUserAuthenticated,a=e.form;return r?n.a.createElement(Jr.a,{to:this._redirectPath}):n.a.createElement(O.a,{tag:"section",className:"section"},n.a.createElement(y.a,null,n.a.createElement(w.a,{lg:{size:6,offset:3},md:{size:8,offset:2}},n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement("h1",null,t?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442":"\u0412\u0445\u043e\u0434 \u0432 F1 Bets App"),n.a.createElement("div",{className:"text-muted"},"\u0438\u043b\u0438",n.a.createElement(b.a,{color:"link",onClick:this.handleRegisterNew},t?" \u0432\u043e\u0439\u0442\u0438 \u0432 \u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442":" \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))),n.a.createElement(y.a,{className:"login-form-container"},n.a.createElement(w.a,null,t?n.a.createElement(ea,{form:a}):n.a.createElement(Xr,{form:a}))))))}},{key:"_redirectPath",get:function(){return(this.props.location.state||{from:{pathname:"/"}}).from}}]),t}(n.a.Component))||Tr)||Tr)||Tr),ra=function e(t){var r=t.raceName,a=t.raceTime,n=t.qualTime,c=t.practice1Time,i=t.practice2Time,s=t.practice3Time,o=t.id;Object(de.a)(this,e),this.raceName=r,this.raceTime=a,this.qualTime=n,this.practice1Time=c,this.practice2Time=i,this.practice3Time=s,this.raceId=o},aa=Object(u.c)((Mr=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n))),Object(je.a)(r,"_isOpen",Ur,Object(we.a)(Object(we.a)(r))),Object(je.a)(r,"_toggle",Ar,Object(we.a)(Object(we.a)(r))),r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.isNextRace,a=e.isRaceWeekend,c=e.race,i=ke()(t,{"calendar-table__row--highlighted":r});return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{onClick:this._toggle,className:i},n.a.createElement("td",{className:"calendar-table__command-column"},n.a.createElement(tr,{direction:this._isOpen?"right":"down"})),n.a.createElement("td",null,n.a.createElement(qt,null,c.raceName),r&&n.a.createElement(Q.a,{className:"calendar-table__badge",color:"info"},a?"Now":"Next")),n.a.createElement("td",{className:"calendar-table__date-column"},n.a.createElement(qt,null,Ve(c.raceTime))),n.a.createElement("td",{className:"calendar-table__time-column"},n.a.createElement(qt,null,We(c.raceTime)))),this._isOpen&&n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",{className:"calendar-table__row calendar-table__row--nested"},n.a.createElement("td",null),n.a.createElement("td",null,"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 1"),n.a.createElement("td",null,Ve(c.practice1Time)),n.a.createElement("td",null,We(c.practice1Time))),n.a.createElement("tr",{className:"calendar-table__row calendar-table__row--nested"},n.a.createElement("td",null),n.a.createElement("td",null,"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 2"),n.a.createElement("td",null,Ve(c.practice2Time)),n.a.createElement("td",null,We(c.practice2Time))),n.a.createElement("tr",{className:"calendar-table__row calendar-table__row--nested"},n.a.createElement("td",null),n.a.createElement("td",null,"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430 3"),n.a.createElement("td",null,Ve(c.practice3Time)),n.a.createElement("td",null,We(c.practice3Time))),n.a.createElement("tr",{className:"calendar-table__row calendar-table__row--nested"},n.a.createElement("td",null),n.a.createElement("td",null,"\u041a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"),n.a.createElement("td",null,Ve(c.qualTime)),n.a.createElement("td",null,We(c.qualTime)))))}}]),t}(n.a.Component),Ur=Object(_e.a)(Mr.prototype,"_isOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ar=Object(_e.a)(Mr.prototype,"_toggle",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._isOpen=!e._isOpen}}}),Rr=Mr))||Rr,na=(r(469),function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.races,r=e.nextRace,a=e.isRaceWeekend;return n.a.createElement(U.a,{size:"sm",responsive:!0},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",null,n.a.createElement("th",{className:"calendar-table__command-column"}),n.a.createElement("th",{className:"calendar-table__grand-prix-column"},"\u0413\u0440\u0430\u043d \u041f\u0440\u0438"),n.a.createElement("th",{className:"calendar-table__date-column"},"\u0414\u0430\u0442\u0430"),n.a.createElement("th",{className:"calendar-table__time-column"},"\u0412\u0440\u0435\u043c\u044f"))),n.a.createElement("tbody",null,t.map(function(e){return n.a.createElement(aa,{key:e.raceId,className:"calendar-table__row calendar-table__row--expandable",race:e,isNextRace:e.raceId===r.raceId,isRaceWeekend:a})})))}}]),t}(n.a.Component)),ca=Object(u.b)("calendarPageStore")(Pr=Object(u.c)(Pr=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props.calendarPageStore,t=e.races,r=e.nextRace,a=e.isRaceWeekend;return n.a.createElement(O.a,{tag:"section",style:{marginTop:"1rem",marginBottom:"1rem"}},n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement("h1",{className:"page-title"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c \u0433\u043e\u043d\u043e\u043a \u0441\u0435\u0437\u043e\u043d\u0430 2018 \u0433\u043e\u0434\u0430"))),n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement(na,{races:t,nextRace:r,isRaceWeekend:a}))))}}]),t}(n.a.Component))||Pr)||Pr,ia=r(761),sa=Object(u.b)("logoutPageStore")(Ir=Object(u.c)(Ir=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"componentDidMount",value:function(){this.props.logoutPageStore.logout()}},{key:"render",value:function(){var e=this.props.logoutPageStore.isUserAuthenticated;return n.a.createElement(O.a,null,n.a.createElement(y.a,{className:"section"},e?n.a.createElement(w.a,null,"\u0418\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430..."):n.a.createElement(w.a,{lg:{size:6,offset:3},md:{size:8,offset:2}},n.a.createElement("div",null,"\u041c\u044b \u0431\u0443\u0434\u0435\u043c \u0441\u043a\u0443\u0447\u0430\u0442\u044c \u043f\u043e \u0442\u0435\u0431\u0435 :)"),n.a.createElement("div",null,n.a.createElement(ia.a,{to:ma.HOME},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))))}}]),t}(n.a.Component))||Ir)||Ir,oa=(r(473),Object(u.b)("userBetsHistoryPageStore")(Br=Object(u.c)(Br=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props.userBetsHistoryPageStore.userBets;return n.a.createElement(O.a,null,n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement("h1",{className:"page-title"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0412\u0430\u0448\u0438\u0445 \u0441\u0442\u0430\u0432\u043e\u043a"))),0===e.length&&n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement("p",null,"\u041f\u043e\u0445\u043e\u0436\u0435 \u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u0434\u0435\u043b\u0430\u043b\u0438 \u0441\u0442\u0430\u0432\u043e\u043a"," ",n.a.createElement(ia.a,{to:ma.BETS,role:"button",className:"btn btn-primary"},"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435")))),e.map(function(e){var t=e.raceId,r=e.title,a=e.bet;return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement("h2",{className:"grand-prix-title"},r))),n.a.createElement(y.a,null,n.a.createElement(w.a,null,n.a.createElement(ua,{bet:a,raceId:t}))))}))}}]),t}(n.a.Component))||Br)||Br),ua=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"renderBets",value:function(e,t){return Array(10).fill(1).map(function(r,a){return n.a.createElement("td",{key:t+a,className:"text-center"},e[a+1])})}},{key:"render",value:function(){var e=this.props,t=e.bet,r=e.raceId;return n.a.createElement(U.a,{size:"sm"},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",null,n.a.createElement("th",{className:"text-center"},"1"),n.a.createElement("th",{className:"text-center"},"2"),n.a.createElement("th",{className:"text-center"},"3"),n.a.createElement("th",{className:"text-center"},"4"),n.a.createElement("th",{className:"text-center"},"5"),n.a.createElement("th",{className:"text-center"},"6"),n.a.createElement("th",{className:"text-center"},"7"),n.a.createElement("th",{className:"text-center"},"8"),n.a.createElement("th",{className:"text-center"},"9"),n.a.createElement("th",{className:"text-center"},"10"))),n.a.createElement("tbody",null,n.a.createElement("tr",{key:r},this.renderBets(t,r))))}}]),t}(n.a.Component),la=oa,pa=r(762),ha=function(e){var t=e.component,r=e.isAuthenticated,a=void 0!==r&&r,c=e.isCurrentUserAdmin,i=void 0!==c&&c,s=e.isPrivate,o=void 0!==s&&s,u=e.onlyForAdmins,l=void 0!==u&&u,p=Object(Ke.a)(e,["component","isAuthenticated","isCurrentUserAdmin","isPrivate","onlyForAdmins"]);return n.a.createElement(pa.a,Object.assign({},p,{render:function(e){return l&&!i?n.a.createElement(Jr.a,{to:{pathname:ma.HOME}}):o&&!a?n.a.createElement(Jr.a,{to:{pathname:ma.LOGIN,state:{from:e.location}}}):n.a.createElement(t,p)}}))},ma={HOME:"/",CALENDAR:"/calendar",BETS:"/bet",ADMIN:"/admin",RESULTS:"/results",RACERS:"/racers",TEAMS:"/teams",LOGIN:"/login",LOGOUT:"/logout",BETS_HISTORY:"/bets-history"},fa=[{exact:!0,path:ma.HOME,component:lt,id:Ue()},{isPrivate:!0,path:ma.BETS,component:Tt,id:Ue()},{isPrivate:!0,path:ma.BETS_HISTORY,component:la,id:Ue()},{path:ma.RESULTS,component:cr,id:Ue()},{path:ma.RACERS,component:ur,id:Ue()},{path:ma.TEAMS,component:hr,id:Ue()},{path:ma.LOGIN,component:ta,id:Ue()},{isPrivate:!0,onlyForAdmins:!0,path:ma.ADMIN,component:Gr,id:Ue()},{path:ma.CALENDAR,component:ca,id:Ue()},{path:ma.LOGOUT,component:sa,id:Ue()}],da=function(e){var t=e.path,r=void 0===t?"/":t,a=e.className,c=void 0===a?"":a,i=e.disabled,s=void 0!==i&&i,o=e.children;return s?o:n.a.createElement(ia.a,{to:r,className:c},o)},ba=function(e){var t=e.user,r=t.isAdmin,a=t.name;return n.a.createElement(V.a,{nav:!0,inNavbar:!0},n.a.createElement(L.a,{nav:!0,caret:!0},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),n.a.createElement(z.a,{className:"nav-bar-drop-down-menu",right:!0},n.a.createElement(H.a,{header:!0},a),r&&n.a.createElement(H.a,null,n.a.createElement(da,{path:ma.ADMIN,className:"nav-bar-drop-down-menu__link"},"\u0410\u0434\u043c\u0438\u043d\u043a\u0430")),n.a.createElement(H.a,{disabled:!0},n.a.createElement(da,{path:ma.BETS,disabled:!0,className:"nav-bar-drop-down-menu__link"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c")),n.a.createElement(H.a,null,n.a.createElement(da,{path:ma.BETS_HISTORY,className:"nav-bar-drop-down-menu__link"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439")),n.a.createElement(H.a,{divider:!0}),n.a.createElement(H.a,null,n.a.createElement(da,{path:ma.LOGOUT,className:"nav-bar-drop-down-menu__link"},"\u0412\u044b\u0445\u043e\u0434"))))},va=Object(u.b)(function(e){return{isAuthenticated:e.appStore.isUserAuthenticated,authenticatedUser:e.appStore.authenticatedUser,isBetsAllowed:e.appStore.isBetsAllowed,isUserAlreadyBet:e.appStore.isUserAlreadyBet}})(Cr=Object(u.c)((Dr=function(e){function t(){var e,r;Object(de.a)(this,t);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return r=Object(ve.a)(this,(e=Object(Oe.a)(t)).call.apply(e,[this].concat(n))),Object(je.a)(r,"isOpen",Zr,Object(we.a)(Object(we.a)(r))),Object(je.a)(r,"handleToggle",Vr,Object(we.a)(Object(we.a)(r))),r}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,r=e.authenticatedUser,a=e.isBetsAllowed,c=e.isUserAlreadyBet;return n.a.createElement(B.a,{className:"navigation-bar",color:"dark",dark:!0,expand:"md",fixed:"top"},n.a.createElement(O.a,null,n.a.createElement(da,{path:ma.HOME,className:"navbar-brand"},"Formula 1 Bets App"),n.a.createElement(D.a,{onClick:this.handleToggle}),n.a.createElement(P.a,{isOpen:this.isOpen,navbar:!0},n.a.createElement(J.a,{className:"ml-auto",navbar:!0},n.a.createElement(V.a,{nav:!0,inNavbar:!0},n.a.createElement(L.a,{nav:!0,caret:!0},"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435"),n.a.createElement(z.a,{className:"nav-bar-drop-down-menu",right:!0},t&&n.a.createElement(H.a,{disabled:!a},n.a.createElement(da,{path:ma.BETS,className:"nav-bar-drop-down-menu__link",disabled:!a},c?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437")),n.a.createElement(H.a,null,n.a.createElement(da,{path:ma.RESULTS,className:"nav-bar-drop-down-menu__link"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f")),t&&n.a.createElement(H.a,null,n.a.createElement(da,{path:ma.BETS_HISTORY,className:"nav-bar-drop-down-menu__link"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0412\u0430\u0448\u0438\u0445 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439")))),n.a.createElement(V.a,{nav:!0,inNavbar:!0},n.a.createElement(L.a,{nav:!0,caret:!0},"\u0427\u0435\u043c\u043f\u0438\u043e\u043d\u0430\u0442"),n.a.createElement(z.a,{className:"nav-bar-drop-down-menu",right:!0},n.a.createElement(H.a,null,n.a.createElement(da,{path:ma.CALENDAR,className:"nav-bar-drop-down-menu__link"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c")),n.a.createElement(H.a,null,n.a.createElement(da,{path:ma.RACERS,className:"nav-bar-drop-down-menu__link"},"\u0413\u043e\u043d\u0449\u0438\u043a\u0438")),n.a.createElement(H.a,null,n.a.createElement(da,{path:ma.TEAMS,className:"nav-bar-drop-down-menu__link"},"\u041a\u043e\u043c\u0430\u043d\u0434\u044b")))),t?r&&n.a.createElement(ba,{user:r,isBetsAllowed:a}):n.a.createElement(K.a,null,n.a.createElement(da,{path:ma.LOGIN,className:"nav-link"},"\u0412\u0445\u043e\u0434"))))))}}]),t}(n.a.Component),Zr=Object(_e.a)(Dr.prototype,"isOpen",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vr=Object(_e.a)(Dr.prototype,"handleToggle",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isOpen=!e.isOpen}}}),Cr=Dr))||Cr)||Cr,Oa=function(e){var t=e.value,r=e.label;return n.a.createElement("div",{className:"awesome-countdown-timer__section awesome-countdown-timer-section"},n.a.createElement("div",{className:"awesome-countdown-timer-section__time"},t),n.a.createElement("div",{className:"awesome-countdown-timer-section__label"},r))},ga=function(e){var t=e.splitter,r=void 0===t?":":t;return n.a.createElement("div",{className:"awesome-countdown-timer__splitter"},r)};var ya=function(e){var t=e.className,r=e.withSplitter,a=function(e){var t={months:"",days:"",hours:"",minutes:"",seconds:""};return e?(Math.floor(e.asMonths())>0&&(Math.floor(e.months())<10?t.months="0"+Math.floor(e.months()):t.months=Math.floor(e.months())),Math.floor(e.asDays())>0&&(Math.floor(e.days())<10?t.days="0"+Math.floor(e.days()):t.days=Math.floor(e.days())),Math.floor(e.asHours())>0&&(Math.floor(e.hours())<10?t.hours="0"+Math.floor(e.hours()):t.hours=Math.floor(e.hours())),Math.floor(e.asMinutes())>0&&(Math.floor(e.minutes())<10?t.minutes="0"+Math.floor(e.minutes()):t.minutes=Math.floor(e.minutes())),Math.floor(e.asSeconds())>0&&(Math.floor(e.seconds())<10?t.seconds="0"+Math.floor(e.seconds()):t.seconds=Math.floor(e.seconds())),t):t}(e.duration),c=a.months,i=a.days,s=a.hours,o=a.minutes,u=a.seconds;return n.a.createElement("div",{className:"awesome-countdown-timer ".concat(t)},c&&n.a.createElement(Oa,{value:c,label:"Months"}),r&&c&&n.a.createElement(ga,null),i&&n.a.createElement(Oa,{value:i,label:"Days"}),r&&i&&n.a.createElement(ga,null),s&&n.a.createElement(Oa,{value:s,label:"Hours"}),r&&s&&n.a.createElement(ga,null),o&&n.a.createElement(Oa,{value:o,label:"Minutes"}),r&&o&&n.a.createElement(ga,null),u&&n.a.createElement(Oa,{value:u,label:"Seconds"}))};ya.defaultProps={className:"",withSplitter:!1};var ja=ya;r(475);var wa=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.withSplitter,a=function(e,t){var r=e?f()(e):f()(),a=f()(t),n=f.a.duration(a.diff(r));return n.asSeconds()>=0?n:null}(e.startDate,e.endDate);return n.a.createElement(ja,{className:t,duration:a,withSplitter:r})}}]),t}(a.Component);wa.defaultProps={className:"",withSplitter:!1};var _a,Ea,ka,Sa=wa,Na=(r(477),function(e){var t=e.startTime,r=e.endTime,a=e.className,c=void 0===a?"":a;return n.a.createElement(Sa,{className:"countdown-timer "+c,startDate:t,endDate:r,withSplitter:!0})}),xa=(r(479),function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nextRace,r=e.currentTimeUtcString;return n.a.createElement(O.a,{className:"next-race-notifier alert-info"},n.a.createElement(y.a,null,n.a.createElement(w.a,{xs:12,sm:8,md:8,className:"next-race-notifier__race-info"},"\u0414\u043e \u0441\u0442\u0430\u0440\u0442\u0430 \u0433\u043e\u043d\u043a\u0438",n.a.createElement("strong",{className:"next-race-notifier__race-title"},t.title)),n.a.createElement(w.a,{xs:12,sm:4,md:4},n.a.createElement(Na,{className:"next-race-notifier__countdown-timer",startTime:r,endTime:t.raceStartTime}))))}}]),t}(n.a.Component)),Ta=Object(u.b)("headerStore")(_a=Object(u.c)((ka=Ea=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"render",value:function(){var e=this.props,t=e.headerStore,r=e.className,a=t.nextRace,c=t.currentTimeUtcString;return n.a.createElement("header",{className:r},n.a.createElement(va,null),a&&n.a.createElement("section",{className:"colors--very-light-green"},n.a.createElement(xa,{nextRace:a,currentTimeUtcString:c})))}}]),t}(n.a.Component),Ea.defaultProps={className:""},_a=ka))||_a)||_a;function Ra(){return(Ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var Ma,Ua,Aa=n.a.createElement("path",{fill:"currentColor",d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"}),Pa=function(e){return n.a.createElement("svg",Ra({viewBox:"0 0 496 512"},e),Aa)},Ia=(r.p,r(481),function(e){var t=e.className,r=void 0===t?"":t;return n.a.createElement("footer",{className:"".concat(r," footer")},n.a.createElement(O.a,null,n.a.createElement(y.a,{className:"footer__social-media-links"},n.a.createElement(w.a,{className:"footer__copyright"},"\xa9 2018 - F1 fun's team"),n.a.createElement(w.a,{xs:"2"},n.a.createElement(y.a,{className:"social-media-links"},n.a.createElement(w.a,{className:"social-media-links__telegram-box"},n.a.createElement("a",{href:"https://t.me/f1funteam",className:"footer__link social-media-links__link"},n.a.createElement(Pa,{className:"social-media-links__icon"}))))))))}),Ba=Object(u.b)(function(e){return{pendingTasksCount:e.appStore._appViewModel._operationManager.pendingTasksCount,qualificationStartTime:e.appStore.nextRace&&e.appStore.nextRace.qualifyingStartTime,isBetsAllowed:e.appStore.isBetsAllowed,currentTime:e.appStore.currentTime}})(Object(u.c)(function(e){var t,r=e.pendingTasksCount,a=e.qualificationStartTime,c=e.isBetsAllowed,i=e.currentTime;return n.a.createElement("div",{className:"text-center bg-danger",style:{display:"none"}},n.a.createElement(O.a,null,n.a.createElement(y.a,null,n.a.createElement(w.a,null,"DEVELOPMENT MODE ON!!!"),n.a.createElement(w.a,null,r)),n.a.createElement(y.a,{className:"text-left"},n.a.createElement(w.a,null,"Qualification start Time: ",Ze(a)),n.a.createElement(w.a,{className:c?"bg-success":"bg-warning"},"Is Bets Allowed: ",c.toString()),n.a.createElement(w.a,null,"Current Time: ",(t=i,f()(t).format("D MMMM YYYY, HH:mm:ss"))))))})),Ca=(r(483),function(){return n.a.createElement("div",{className:"loader__overlay"},n.a.createElement("div",{className:"loader"},n.a.createElement("div",{className:"loader__plate loader__plate--first"}),n.a.createElement("div",{className:"loader__plate loader__plate--second"}),n.a.createElement("div",{className:"loader__plate loader__plate--third"})))}),Da=Object(u.b)("appStore")(Ma=Object(ye.a)(Ma=Object(u.c)(Ma=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"componentDidMount",value:function(){this.props.appStore.startTimeWatcher()}},{key:"componentWillUnmount",value:function(){this.props.appStore.stopTimeWatcher()}},{key:"render",value:function(){var e=this.props.appStore,t=e.hasPendingTasks,r=e.isUserAuthenticated,a=e.isUserAdmin,c=e.isProduction;return n.a.createElement(n.a.Fragment,null,t&&n.a.createElement(Ca,null),n.a.createElement("div",{className:"layout"},!c&&n.a.createElement(Ba,null),n.a.createElement(Ta,{className:"layout__header"}),n.a.createElement("main",{className:"layout__main colors--very-light-grey"},fa.map(function(e){return n.a.createElement(ha,Object.assign({key:e.id,isAuthenticated:r,isCurrentUserAdmin:a},e))})),n.a.createElement(Ia,{className:"layout__footer"})))}}]),t}(a.Component))||Ma)||Ma)||Ma,Za=function(){function e(t){Object(de.a)(this,e),this._appViewModel=t}return Object(be.a)(e,[{key:"startTimeWatcher",value:function(){this._appViewModel.timeWatcher.start()}},{key:"stopTimeWatcher",value:function(){this._appViewModel.timeWatcher.stop()}},{key:"isProduction",get:function(){return this._appViewModel.isProduction}},{key:"currentTime",get:function(){return this._appViewModel.timeWatcher.currentTime}},{key:"isBetsAllowed",get:function(){return this._appViewModel.isBetsAllowed}},{key:"hasPendingTasks",get:function(){return this._appViewModel.operationManager.hasPendingTasks}},{key:"authenticatedUser",get:function(){return this._appViewModel.session.authenticatedUser}},{key:"isUserAuthenticated",get:function(){return this._appViewModel.isUserAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appViewModel.isUserAlreadyBet}},{key:"isUserAdmin",get:function(){return this._appViewModel.isUserAdmin}}]),e}(),Va=(Ua=function(){function e(t){Object(de.a)(this,e),this._appViewModel=t}return Object(be.a)(e,[{key:"nextRace",get:function(){return this._appViewModel.nextRace}},{key:"isAuthenticated",get:function(){return this._appViewModel.session.isAuthenticated}},{key:"isUserAlreadyBet",get:function(){return this._appViewModel.isUserAlreadyBet}},{key:"isBetsAllowed",get:function(){return this._appViewModel.isBetsAllowed}},{key:"nextRaceInfo",get:function(){var e=this._appViewModel.timeWatcher.currentTime,t=this._appViewModel.formulaOneOfficial.roundsInfo.map(function(e){return new Ye(e)}).filter(function(t){return ze(t.raceStartTime,e)});return Object(Se.a)(t,1)[0]}},{key:"previousRaces",get:function(){var e=this,t=this._appViewModel.timeWatcher.currentTime;return this._appViewModel.formulaOneOfficial.roundsInfo.map(function(e){return new Ye(e)}).filter(function(e){return!ze(e.raceStartTime,t)}).map(function(t,r){if(e._raceResults.length>0&&r<e._raceResults.length){var a=e._raceResults[r].racersStandings.map(function(e){return new et(e)});return t.addRacerStandings(a)}return t}).reverse()}},{key:"_raceResults",get:function(){return this._appViewModel.formulaOneOfficial.racesResults}}]),e}(),Object(_e.a)(Ua.prototype,"nextRaceInfo",[o.computed],Object.getOwnPropertyDescriptor(Ua.prototype,"nextRaceInfo"),Ua.prototype),Object(_e.a)(Ua.prototype,"previousRaces",[o.computed],Object.getOwnPropertyDescriptor(Ua.prototype,"previousRaces"),Ua.prototype),Object(_e.a)(Ua.prototype,"_raceResults",[o.computed],Object.getOwnPropertyDescriptor(Ua.prototype,"_raceResults"),Ua.prototype),Ua),Wa=r(107),La=r.n(Wa);function Fa(e){return za.apply(this,arguments)}function za(){return(za=Object(mt.a)(ht.a.mark(function e(t){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.a.get(t);case 2:return e.abrupt("return",e.sent.data.MRData);case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function qa(e){return Ha.apply(this,arguments)}function Ha(){return(Ha=Object(mt.a)(ht.a.mark(function e(t){var r;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa("".concat(t,"?limit=0"));case 2:return r=e.sent.total,e.abrupt("return",Fa("".concat(t,"?limit=").concat(r)));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Ga,Ja,Ya,Ka,$a,Qa,Xa,en,tn,rn,an,nn,cn,sn,on,un=function e(t){Object(de.a)(this,e);var r=t.locality,a=t.country,n=t.lat,c=t.long,i=t.alt;this.locality=r,this.country=a,this.lat=n,this.long=c,this.alt=i},ln=function e(t){Object(de.a)(this,e);var r=t.circuitId,a=t.url,n=t.circuitName;this.circuitId=r,this.url=a,this.circuitName=n,this.location=new un(t.Location)},pn=function e(t){var r=t.season;Object(de.a)(this,e),this.season=r},hn=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).round=e.round,r.url=e.url,r.raceName=e.raceName,r.date=e.date,r.time=e.time,r.circuit=new ln(e.Circuit),r}return Object(ge.a)(t,e),t}(pn),mn=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).races=e.Races.map(function(e){return new hn(e)}),r}return Object(ge.a)(t,e),t}(pn),fn=function e(t){var r=t.constructorId,a=t.url,n=t.name,c=t.nationality;Object(de.a)(this,e),this.constructorId=r,this.url=a,this.name=n,this.nationality=c},dn=function e(t){var r=t.driverId,a=t.url,n=t.permanentNumber,c=t.givenName,i=t.familyName,s=t.dateOfBirth,o=t.code,u=t.nationality;Object(de.a)(this,e),this.driverId=r,this.url=a,this.permanentNumber=n,this.givenName=c,this.familyName=i,this.dateOfBirth=s,this.code=o,this.nationality=u},bn=function e(t){Object(de.a)(this,e),this.rank=t.rank,this.lap=t.lap,this.time=t.Time,this.averageSpeed=t.AverageSpeed},vn=function e(t){Object(de.a)(this,e);var r=t.number,a=t.position,n=t.points,c=t.grid,i=t.laps,s=t.status,o=t.Time;this.number=r,this.position=a,this.points=n,this.driver=new dn(t.Driver),this.constructor=new fn(t.Constructor),this.grid=c,this.laps=i,this.status=s,this.time=Object(Wt.a)({},o),this.fastestLap=t.FastestLap?new bn(t.FastestLap):void 0},On=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).results=e.Results.map(function(e){return new vn(e)}),r}return Object(ge.a)(t,e),t}(hn),gn=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).races=e.Races.map(function(e){return new On(e)}),r}return Object(ge.a)(t,e),t}(mn),yn=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return e}),r}return Object(ge.a)(t,e),t}(pn),jn=function(e){function t(e){var r,a=e.season,n=e.round;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,{season:a}))).round=n,r}return Object(ge.a)(t,e),t}(pn),wn=function e(t){var r=t.position,a=t.positionText,n=t.points,c=t.wins;Object(de.a)(this,e),this.position=r,this.positionText=a,this.points=n,this.wins=c},_n=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).driver=new dn(e.Driver),r.constructors=e.Constructors.map(function(e){return new fn(e)}),r}return Object(ge.a)(t,e),t}(wn),En=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).driverStandings=e.DriverStandings.map(function(e){return new _n(e)}),r}return Object(ge.a)(t,e),t}(jn),kn=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).standingsLists=e.StandingsLists.map(function(e){return new En(e)}),r}return Object(ge.a)(t,e),t}(yn),Sn=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).constructor=new fn(e.Constructor),r}return Object(ge.a)(t,e),t}(wn),Nn=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).constructorStandings=e.ConstructorStandings.map(function(e){return new Sn(e)}),r}return Object(ge.a)(t,e),t}(jn),xn=function(e){function t(e){var r,a=e.season,n=e.StandingsLists;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,{season:a,StandingsLists:n}))).standingsLists=n.map(function(e){return new Nn(e)}),r}return Object(ge.a)(t,e),t}(yn),Tn=function(e){function t(e){var r;return Object(de.a)(this,t),(r=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).drivers=e.Drivers.map(function(e){return new dn(e)}),r}return Object(ge.a)(t,e),t}(pn),Rn=function(){function e(){Object(de.a)(this,e)}return Object(be.a)(e,null,[{key:"_createJsonUrl",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return"".concat("https://ergast.com/api/f1","/").concat(t.filter(function(e){return Boolean(e)}).join("/"),".json")}},{key:"getDriverStandings",value:function(){var t=Object(mt.a)(ht.a.mark(function t(r){var a;return ht.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fa(e._createJsonUrl(r,"driverStandings"));case 2:return a=t.sent,t.abrupt("return",new kn(a.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getConstructorStandings",value:function(){var t=Object(mt.a)(ht.a.mark(function t(r){var a;return ht.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fa(e._createJsonUrl(r,"constructorStandings"));case 2:return a=t.sent,t.abrupt("return",new xn(a.StandingsTable));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getRaceSchedule",value:function(){var t=Object(mt.a)(ht.a.mark(function t(){var r,a,n,c=arguments;return ht.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:"2018",a=c.length>1&&void 0!==c[1]?c[1]:"all",t.next=4,Fa(e._createJsonUrl(r,"all"!==a?a:void 0));case 4:return n=t.sent,t.abrupt("return",new mn(n.RaceTable));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getRaceResults",value:function(){var t=Object(mt.a)(ht.a.mark(function t(r){var a,n,c=arguments;return ht.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"2018",t.next=3,Fa(e._createJsonUrl(a,r,"results"));case 3:return n=t.sent,t.abrupt("return",new gn(n.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getAllRacesResults",value:function(){var t=Object(mt.a)(ht.a.mark(function t(){var r,a,n=arguments;return ht.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:"2018",t.next=3,qa(e._createJsonUrl(r,"results"));case 3:return a=t.sent,t.abrupt("return",new gn(a.RaceTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var t=Object(mt.a)(ht.a.mark(function t(){var r,a,n=arguments;return ht.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.length>0&&void 0!==n[0]?n[0]:"2018",t.next=3,Fa(e._createJsonUrl(r,"drivers"));case 3:return a=t.sent,t.abrupt("return",new Tn(a.DriverTable));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(),Mn=(Ga=function(){function e(t){Object(de.a)(this,e),Object(je.a)(this,"racerStandingList",Ja,this),this._appViewModel=t,this._fetchRacerStandings()}return Object(be.a)(e,[{key:"_fetchRacerStandings",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._appViewModel.operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){var r,a,n,c;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rn.getDriverStandings("2018");case 3:r=e.sent,a=Object(Se.a)(r.standingsLists,1),(n=a[0])&&(c=n.driverStandings.map(function(e){var t=e.driver,r=Object(Se.a)(e.constructors,1)[0];return new ir({pos:e.position,racerFullName:"".concat(t.givenName," ").concat(t.familyName),racerPoints:e.points,racerId:t.code,racerNumber:t.permanentNumber,racerUrl:t.url,constructorName:r.name,constructorUrl:r.url,racerNationality:t.nationality})}),Object(o.runInAction)(function(){t.racerStandingList=c})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Ja=Object(_e.a)(Ga.prototype,"racerStandingList",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(_e.a)(Ga.prototype,"_fetchRacerStandings",[o.action],Object.getOwnPropertyDescriptor(Ga.prototype,"_fetchRacerStandings"),Ga.prototype),Ga),Un=(Ya=function(){function e(t){Object(de.a)(this,e),Object(je.a)(this,"teamsStandingList",Ka,this),this._appViewModel=t,this._fetchStandings()}return Object(be.a)(e,[{key:"_fetchStandings",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._appViewModel.operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){var r,a;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rn.getConstructorStandings("2018");case 3:r=e.sent,(a=r.standingsLists[0])&&Object(o.runInAction)(function(){t.teamsStandingList=a.constructorStandings.map(function(e){var t=e.constructor;return new lr({pos:e.position,name:t.name,id:t.constructorId,points:e.points,url:t.url,nationality:t.nationality})})}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Ka=Object(_e.a)(Ya.prototype,"teamsStandingList",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(_e.a)(Ya.prototype,"_fetchStandings",[o.action],Object.getOwnPropertyDescriptor(Ya.prototype,"_fetchStandings"),Ya.prototype),Ya),An=($a=function(){function e(t,r){var a=this;Object(de.a)(this,e),Object(je.a)(this,"isRaceResultsPanelVisible",Qa,this),Object(je.a)(this,"selectedRace",Xa,this),this.addNewBet=function(e){return a._appViewModel.addNewBet(e)},this._appViewModel=t,this._storeApiUrl=r,this._raceInfoService=this._appViewModel._raceInfoService}return Object(be.a)(e,[{key:"showRaceResultsPanel",value:function(){this.isRaceResultsPanelVisible=!0}},{key:"addOrUpdateRaceResults",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedRace){e.next=3;break}return window.alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u043d\u043a\u0443!"),e.abrupt("return");case 3:if(!(Object.values(t).filter(function(e){return Boolean(e)}).length<10)){e.next=6;break}return window.alert("\u041d\u0435 \u0432\u0441\u0435 \u0433\u043e\u043d\u0448\u0438\u043a\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u044b!"),e.abrupt("return");case 6:return e.next=8,this._appViewModel.operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._raceInfoService.addOrUpdateRaceResult(r.selectedRace.id,t);case 2:r.isRaceResultsPanelVisible=!1;case 3:case"end":return e.stop()}},e,this)})));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"users",get:function(){return this._appViewModel.usersModel.users}},{key:"races",get:function(){return this._appViewModel.races}},{key:"racers",get:function(){return this._appViewModel.racers}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),Qa=Object(_e.a)($a.prototype,"isRaceResultsPanelVisible",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xa=Object(_e.a)($a.prototype,"selectedRace",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(_e.a)($a.prototype,"users",[o.computed],Object.getOwnPropertyDescriptor($a.prototype,"users"),$a.prototype),Object(_e.a)($a.prototype,"races",[o.computed],Object.getOwnPropertyDescriptor($a.prototype,"races"),$a.prototype),Object(_e.a)($a.prototype,"racers",[o.computed],Object.getOwnPropertyDescriptor($a.prototype,"racers"),$a.prototype),Object(_e.a)($a.prototype,"showRaceResultsPanel",[o.action],Object.getOwnPropertyDescriptor($a.prototype,"showRaceResultsPanel"),$a.prototype),Object(_e.a)($a.prototype,"addOrUpdateRaceResults",[o.action],Object.getOwnPropertyDescriptor($a.prototype,"addOrUpdateRaceResults"),$a.prototype),$a),Pn=(en=function(){function e(t,r){var a=this;Object(de.a)(this,e),Object(je.a)(this,"isUserFormVisible",tn,this),Object(je.a)(this,"userForEdit",rn,this),this.deleteUser=function(){var e=Object(mt.a)(ht.a.mark(function e(t){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")){e.next=3;break}return e.next=3,a._appViewModel.usersModel.deleteUser(t);case 3:return e.next=5,a._appViewModel.usersModel.fetchUsers();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this._appViewModel=t,this._storeApiUrl=r,this._appViewModel.usersModel.fetchUsers()}return Object(be.a)(e,[{key:"toggleUserForm",value:function(e){this.isUserFormVisible=e}},{key:"setUserForEdit",value:function(e){this.userForEdit=e,this.toggleUserForm(!0)}},{key:"addOrUpdate",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this._appViewModel.operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appViewModel.usersModel.addOrUpdate(t);case 2:return r.userForEdit=null,r.toggleUserForm(!1),e.next=6,r._appViewModel.usersModel.fetchUsers();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"users",get:function(){return this._appViewModel.usersModel.users}},{key:"storeApiUrl",get:function(){return this._storeApiUrl}}]),e}(),tn=Object(_e.a)(en.prototype,"isUserFormVisible",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rn=Object(_e.a)(en.prototype,"userForEdit",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(_e.a)(en.prototype,"users",[o.computed],Object.getOwnPropertyDescriptor(en.prototype,"users"),en.prototype),Object(_e.a)(en.prototype,"toggleUserForm",[o.action],Object.getOwnPropertyDescriptor(en.prototype,"toggleUserForm"),en.prototype),Object(_e.a)(en.prototype,"setUserForEdit",[o.action],Object.getOwnPropertyDescriptor(en.prototype,"setUserForEdit"),en.prototype),Object(_e.a)(en.prototype,"addOrUpdate",[o.action],Object.getOwnPropertyDescriptor(en.prototype,"addOrUpdate"),en.prototype),en),In=function(){function e(t){Object(de.a)(this,e);var r=h.getRaceStoreApiUrl(),a=h.getUserStoreApiUrl();this._racesSectionStore=new An(t,r),this._usersSectionStore=new Pn(t,a)}return Object(be.a)(e,[{key:"racesSectionStore",get:function(){return this._racesSectionStore}},{key:"usersSectionStore",get:function(){return this._usersSectionStore}}]),e}(),Bn=r(387),Cn=r.n(Bn),Dn=r(388),Zn=r.n(Dn),Vn=function(e){e.invalidate("This is a generic error message!")},Wn=function(e){function t(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vn;return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).call(this,{fields:e},{options:{showErrorsOnChange:!0,validateOnChange:!0},plugins:{dvr:Zn.a},hooks:{onSuccess:r,onError:a}}))}return Object(ge.a)(t,e),t}(Cn.a),Ln=(an=function(){function e(t){var r=this;Object(de.a)(this,e),Object(je.a)(this,"isRegisterNew",nn,this),this._appViewModel=t,this._loginForm=new Wn($r,function(){var e=Object(mt.a)(ht.a.mark(function e(t){var a;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appViewModel.session.login(t.values());case 2:if(!0===(a=e.sent)){e.next=6;break}return alert(a),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),this._registerNewAccountForm=new Wn(Qr,function(){var e=Object(mt.a)(ht.a.mark(function e(t){var a;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._appViewModel.session.signIn(t.values());case 2:if(!0===(a=e.sent)){e.next=6;break}return alert(a),e.abrupt("return");case 6:t.clear();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}return Object(be.a)(e,[{key:"toggleRegisterNewForm",value:function(){this.isRegisterNew=!this.isRegisterNew}},{key:"login",value:function(e){var t=e.login,r=e.password;return this._appViewModel.session.login({login:t,password:r})}},{key:"signIn",value:function(e){var t=e.name,r=e.login,a=e.password;return this._appViewModel.session.signIn({name:t,login:r,password:a})}},{key:"isUserAuthenticated",get:function(){return this._appViewModel.session.isAuthenticated}},{key:"form",get:function(){return this.isRegisterNew?this._registerNewAccountForm:this._loginForm}}]),e}(),nn=Object(_e.a)(an.prototype,"isRegisterNew",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(_e.a)(an.prototype,"form",[o.computed],Object.getOwnPropertyDescriptor(an.prototype,"form"),an.prototype),Object(_e.a)(an.prototype,"toggleRegisterNewForm",[o.action],Object.getOwnPropertyDescriptor(an.prototype,"toggleRegisterNewForm"),an.prototype),an),Fn=function(){function e(t){Object(de.a)(this,e),this._appViewModel=t}return Object(be.a)(e,[{key:"logout",value:function(){return this._appViewModel.session.logout()}},{key:"isUserAuthenticated",get:function(){return this._appViewModel.session.isAuthenticated}}]),e}(),zn=(cn=function(){function e(t){Object(de.a)(this,e),this._appViewModel=t}return Object(be.a)(e,[{key:"authenticatedUser",get:function(){return this._appViewModel.session.authenticatedUser}},{key:"raceResultsWithBets",get:function(){var e=this._appViewModel.formulaOneOfficial.racesResults;return this._appViewModel.races.map(function(t,r){return new zt({race:t,racers:r<e.length?e[r].racersStandings:void 0})})}},{key:"userStandingsByRound",get:function(){return this.raceResultsWithBets.filter(function(e){return e.hasOfficialResults}).map(function(e){return e.userVotes}).map(function(e,t){return{title:"gp"+(t+1),userStandings:e.map(function(e){return new ar({userId:e.id,userName:e.name,totalPoints:e.userScore.value})})}})}},{key:"userStandings",get:function(){var e=Array.from(this.userStandingsByRound.reduce(function(e,t){return t.userStandings.forEach(function(t){e.set(t.userId,[].concat(Object(Zt.a)(e.get(t.userId)||[]),[t]))}),e},new Map([])).values()).map(function(e){var t=Ft()(e,function(e){return e.totalPoints});return t.slice(Math.max(t.length-7,0))}),t=new Map([]);return e.forEach(function(e){e.forEach(function(e){if(t.has(e.userId)){var r=e;r.totalPoints+=t.get(e.userId).totalPoints,t.set(e.userId,r)}else t.set(e.userId,e)})}),Array.from(t.values())}}]),e}(),Object(_e.a)(cn.prototype,"authenticatedUser",[o.computed],Object.getOwnPropertyDescriptor(cn.prototype,"authenticatedUser"),cn.prototype),Object(_e.a)(cn.prototype,"raceResultsWithBets",[o.computed],Object.getOwnPropertyDescriptor(cn.prototype,"raceResultsWithBets"),cn.prototype),Object(_e.a)(cn.prototype,"userStandingsByRound",[o.computed],Object.getOwnPropertyDescriptor(cn.prototype,"userStandingsByRound"),cn.prototype),Object(_e.a)(cn.prototype,"userStandings",[o.computed],Object.getOwnPropertyDescriptor(cn.prototype,"userStandings"),cn.prototype),cn),qn=r(389),Hn=r.n(qn),Gn=(sn=function(){function e(t){Object(de.a)(this,e),this._appViewModel=t}return Object(be.a)(e,[{key:"races",get:function(){return this._appViewModel.formulaOneOfficial.roundsInfo.map(function(e){return new ra({raceName:e.raceName,raceTime:e.roundSchedule.race,qualTime:e.roundSchedule.qualification,practice1Time:e.roundSchedule.practices[0],practice2Time:e.roundSchedule.practices[1],practice3Time:e.roundSchedule.practices[2],id:Hn()(e.raceName)})})}},{key:"nextRace",get:function(){var e=this._appViewModel.timeWatcher.currentTime,t=this.races.filter(function(t){return ze(t.raceTime,e)});return Object(Se.a)(t,1)[0]}},{key:"isRaceWeekend",get:function(){return!this._appViewModel.isBetsAllowed}}]),e}(),Object(_e.a)(sn.prototype,"races",[o.computed],Object.getOwnPropertyDescriptor(sn.prototype,"races"),sn.prototype),Object(_e.a)(sn.prototype,"nextRace",[o.computed],Object.getOwnPropertyDescriptor(sn.prototype,"nextRace"),sn.prototype),Object(_e.a)(sn.prototype,"isRaceWeekend",[o.computed],Object.getOwnPropertyDescriptor(sn.prototype,"isRaceWeekend"),sn.prototype),sn),Jn=function(){function e(t){Object(de.a)(this,e),this._appViewModel=t}return Object(be.a)(e,[{key:"userBets",get:function(){return this._appViewModel.authUserBets}}]),e}(),Yn=(on=function(){function e(t){var r=this;Object(de.a)(this,e),this.onBetsSubmit=function(e){return r._appViewModel.addNewBet(e)},this._appViewModel=t}return Object(be.a)(e,[{key:"racers",get:function(){return this._appViewModel.racers}},{key:"currentUser",get:function(){return this._appViewModel.session.authenticatedUser}},{key:"nextRaceTitle",get:function(){return this._appViewModel.nextRace?this._appViewModel.nextRace.prettyTitle:""}},{key:"userBet",get:function(){var e=this;if(!this._appViewModel.isUserAlreadyBet)return{};var t=this._appViewModel.nextRace.bets.find(function(t){return t.userInfo.id===e.currentUser.id});return t?t.betsMap:{}}},{key:"isBetsAllowed",get:function(){return this._appViewModel.isBetsAllowed}}]),e}(),Object(_e.a)(on.prototype,"currentUser",[o.computed],Object.getOwnPropertyDescriptor(on.prototype,"currentUser"),on.prototype),Object(_e.a)(on.prototype,"nextRaceTitle",[o.computed],Object.getOwnPropertyDescriptor(on.prototype,"nextRaceTitle"),on.prototype),Object(_e.a)(on.prototype,"userBet",[o.computed],Object.getOwnPropertyDescriptor(on.prototype,"userBet"),on.prototype),on);var Kn=function(){function e(t){Object(de.a)(this,e),this._appViewModel=t}return Object(be.a)(e,[{key:"nextRace",get:function(){return this._appViewModel.nextRace}},{key:"currentTimeUtcString",get:function(){return this._appViewModel.timeWatcher.currentTimeUtcString}}]),e}();function $n(e){var t,r={homePageStore:new Va(t=e),resultsPageStore:new zn(t),racerStandingsPageStore:new Mn(t),teamsStandingsPageStore:new Un(t),adminPageStore:new In(t),loginPageStore:new Ln(t),logoutPageStore:new Fn(t),calendarPageStore:new Gn(t),userBetsHistoryPageStore:new Jn(t),betPageStore:new Yn(t)},a=new Za(e),n=new Kn(e);return Object(Wt.a)({},r,{appStore:a,headerStore:n})}function Qn(e){return Xn.apply(this,arguments)}function Xn(){return(Xn=Object(mt.a)(ht.a.mark(function e(t){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La.a.get(t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ec(e,t){return La.a.put(e,t)}var tc=function(){function e(t){var r=t.userStoreApiUrl;Object(de.a)(this,e),this._apiUrl=r}return Object(be.a)(e,[{key:"fetchAll",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(this._apiUrl);case 2:return e.t0=ft.fromJs,e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=function(e){return e.id===t},r=e.sent.find(e.t0)){e.next=6;break}throw new Error("User cann't be found!");case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findById",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findBy(function(e){return e.id===t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"findBy",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:if(e.t0=t,r=e.sent.find(e.t0)){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r,a;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof ft){e.next=2;break}throw new Error("variable user must be instanceof class User");case 2:return e.next=4,this.fetchAll();case 4:return r=e.sent,(a=r.findIndex(function(e){return e.id===t.id}))>-1?r[a]=t:r.push(t),e.abrupt("return",ec(this._apiUrl,r));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.fetchAll();case 4:return r=e.sent,e.abrupt("return",ec(this._apiUrl,r.filter(function(e){return e.id!==t})));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),rc=function(){function e(t){var r=t.raceInfoStoreApiUrl;Object(de.a)(this,e),this._apiUrl=r}return Object(be.a)(e,[{key:"fetchAll",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(this._apiUrl);case 2:return e.t0=Ce.fromJs,e.abrupt("return",e.sent.map(e.t0));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addOrUpdateBet",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t,r){var a,n;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(this._apiUrl);case 2:return a=e.sent,n=a.map(function(e){if(e.id===r){var a=e.bets.findIndex(function(e){return e.userInfo.id===t.userInfo.id});a>-1?e.bets[a]=t:e.bets.push(t)}return e}),e.next=6,ec(this._apiUrl,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"addOrUpdateRaceResult",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t,r){var a,n;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn(this._apiUrl);case 2:return a=e.sent,(n=a.findIndex(function(e){return e.id===t}))>-1&&(a[n].officialData=Object(Wt.a)({},a[n].officialData,{results:r})),e.next=7,ec(this._apiUrl,a);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),ac=function(){function e(t){var r=t.localStorageUserKey,a=t.userService,n=t.cryptoService;Object(de.a)(this,e),this._localStorageUserKey=r,this._userService=a,this._cryptoService=n}return Object(be.a)(e,[{key:"authenticate",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t,r,a,n=arguments;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:null,r=null,t){e.next=8;break}if(r=window.localStorage.getItem(this._localStorageUserKey)){e.next=6;break}return e.abrupt("return",null);case 6:e.next=9;break;case 8:r=t.id;case 9:return e.next=11,this._userService.findById(r);case 11:if(!(a=e.sent)){e.next=15;break}return this._authenticate(a),e.abrupt("return",a);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r,a,n;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,a=t.password,e.next=3,this._userService.findBy(function(e){return e.login===r});case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u043d\u0435\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435.");case 6:if(!this._cryptoService.isPasswordValid(a,n.password)){e.next=10;break}if(!this._authenticate(n)){e.next=9;break}return e.abrupt("return",n);case 9:return e.abrupt("return",!1);case 10:return e.abrupt("return","\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c.");case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){window.localStorage.removeItem(this._localStorageUserKey)}},{key:"signIn",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r,a,n,c;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,a=t.name,n=t.password,c=new ft({login:r,name:a,password:this._cryptoService.encodePassword(n)}),e.next=4,this._userService.findBy(function(e){return e.login===c.login});case 4:if(!e.sent){e.next=7;break}return e.abrupt("return","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d.");case 7:return e.prev=7,e.next=10,this._userService.addOrUpdate(c);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return","Server Error. Cannot add or update user");case 15:if(!this._authenticate(c)){e.next=17;break}return e.abrupt("return",c);case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,this,[[7,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_authenticate",value:function(e){var t=e.id;return!!t&&(window.localStorage.setItem(this._localStorageUserKey,t),!0)}}]),e}(),nc=r(192),cc=r.n(nc);var ic={encodePassword:function(e){return cc.a.hashSync(e,8)},isPasswordValid:function(e,t){return cc.a.compareSync(e,t)}},sc="HAM",oc="VET",uc="BOT",lc="RAI",pc="RIC",hc="VER",mc="PER",fc="OCO",dc="HUL",bc="SAI",vc="STR",Oc="GRO",gc="MAG",yc="ALO",jc="VAN",wc="ERI",_c="GAS",Ec="HAR",kc="LEC",Sc="SIR",Nc=new Map([[sc,new Xe("Lewis","Hamilton",44,sc)],[oc,new Xe("Sebastian","Vettel",5,oc)],[uc,new Xe("Valtteri","Bottas",77,uc)],[lc,new Xe("Kimi","Raikkonen",7,lc)],[pc,new Xe("Daniel","Ricciardo",3,pc)],[hc,new Xe("Max","Verstapen",33,hc)],[mc,new Xe("Sergio","Perez",11,mc)],[fc,new Xe("Esteban","Ocon",31,fc)],[dc,new Xe("Nico","Hulkenberg",27,dc)],[bc,new Xe("Carlos","Sainz",55,bc)],[vc,new Xe("Lance","Stroll",18,vc)],[Oc,new Xe("Romain","Grosjean",8,Oc)],[gc,new Xe("Kevin","Magnussen",20,gc)],[yc,new Xe("Fernando","Alonso",14,yc)],[jc,new Xe("Stoffel","Vandoorne",2,jc)],[wc,new Xe("Marcus","Ericsson",9,wc)],[_c,new Xe("Pierre","Gasly",10,_c)],[Ec,new Xe("Brendon","Hartley",28,Ec)],[kc,new Xe("Charles","Leclerc",16,kc)],[Sc,new Xe("Sergey","Sirotkin",35,Sc)]]);var xc=function(){function e(){Object(de.a)(this,e)}return Object(be.a)(e,[{key:"fetchAll",value:function(){return Promise.resolve(Object(Zt.a)(Nc.values()))}},{key:"getById",value:function(e){return Promise.resolve(Nc.get(e))}}]),e}(),Tc=function e(t,r,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(de.a)(this,e),this.name=t,this.powerUnit=r,this.drivers=a,this.points=n},Rc=[new Tc("Mercedes","Mercedes",[Nc.get(sc),Nc.get(uc)]),new Tc("Ferrari","Ferrari",[Nc.get(oc),Nc.get(lc)]),new Tc("Red Bull","TAG Heuer",[Nc.get(hc),Nc.get(pc)]),new Tc("Force India","Mercedes",[Nc.get(mc),Nc.get(fc)]),new Tc("Williams","Mercedes",[Nc.get(vc),Nc.get(Sc)]),new Tc("Renault","Renault",[Nc.get(dc),Nc.get(bc)]),new Tc("Toro Rosso","Honda",[Nc.get(_c),Nc.get(Ec)]),new Tc("Haas","Ferrari",[Nc.get(Oc),Nc.get(gc)]),new Tc("McLaren","Renault",[Nc.get(yc),Nc.get(jc)]),new Tc("Sauber","Ferrari",[Nc.get(wc),Nc.get(kc)])];var Mc=function(){function e(){Object(de.a)(this,e)}return Object(be.a)(e,[{key:"fetchAll",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(Rc);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getById",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(Rc.find(t)));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Uc=function e(t){var r=t.season,a=t.raceName,n=t.raceUrl,c=t.circuit,i=t.roundSchedule;Object(de.a)(this,e),this.season=r,this.raceName=a,this.raceUrl=n,this.circuit=c,this.roundSchedule=i};function Ac(e,t){var r={season:e.season,raceName:e.raceName,raceUrl:e.url,circuit:{url:e.circuit.url,countryName:e.circuit.location.country,circuitName:e.circuit.circuitName}},a=t.find(function(t){return t.round===Number(e.round)});return a&&(r.roundSchedule={practices:[a.practice_1,a.practice_2,a.practice_3],qualification:a.qualification,race:a.race}),new Uc(r)}var Pc=function e(t){var r=t.season,a=t.round,n=t.racersStandings;Object(de.a)(this,e),this.season=r,this.round=Number(a),this.racersStandings=n};function Ic(e){var t=e.season,r=e.round,a=e.results;return new Pc({season:t,round:r,racersStandings:a.map(function(e){return t=e.driver,r=e.points,new Xe(t.givenName,t.familyName,t.permanentNumber,t.code,r,t.nationality,t.dateOfBirth);var t,r})})}var Bc,Cc,Dc,Zc=function(){function e(t){var r=t.formulaOneOfficialDataRepository;Object(de.a)(this,e),this._repository=r}return Object(be.a)(e,[{key:"fetchSeasonRoundsSchedule",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t,r;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._repository.getF1Calendar();case 3:return t=e.sent,e.next=6,this._repository.getRaceSchedule();case 6:return r=e.sent,e.abrupt("return",r.races.map(function(e){return Ac(e,t)}));case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchRacesResults",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._repository.getRacesResults();case 3:return t=e.sent,e.abrupt("return",t.races.map(function(e){return Ic(e)}));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchRacers",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._repository.getDrivers();case 3:return t=e.sent,e.abrupt("return",t.drivers.map(function(e){return Xe.create(Object(Wt.a)({},e,{firstName:e.givenName,lastName:e.familyName}))}));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),Vc=function e(t){var r=t.round,a=t.practice_1,n=t.practice_2,c=t.practice_3,i=t.qualification,s=t.race;Object(de.a)(this,e),this.round=r,this.practice_1=a,this.practice_2=n,this.practice_3=c,this.qualification=i,this.race=s},Wc=[new Vc({round:1,practice_1:"20180323T010000Z",practice_2:"20180323T050000Z",practice_3:"20180324T030000Z",qualification:"20180324T060000Z",race:"20180325T051000Z"}),new Vc({round:2,practice_1:"20180406T110000Z",practice_2:"20180406T150000Z",practice_3:"20180407T120000Z",qualification:"20180407T150000Z",race:"20180408T151000Z"}),new Vc({round:3,practice_1:"20180413T020000Z",practice_2:"20180413T060000Z",practice_3:"20180414T030000Z",qualification:"20180414T060000Z",race:"20180415T061000Z"}),new Vc({round:4,practice_1:"20180427T090000Z",practice_2:"20180427T130000Z",practice_3:"20180428T100000Z",qualification:"20180428T130000Z",race:"20180429T121000Z"}),new Vc({round:5,practice_1:"20180511T090000Z",practice_2:"20180511T130000Z",practice_3:"20180512T100000Z",qualification:"20180512T130000Z",race:"20180513T131000Z"}),new Vc({round:6,practice_1:"20180524T090000Z",practice_2:"20180524T130000Z",practice_3:"20180526T100000Z",qualification:"20180526T130000Z",race:"20180527T131000Z"}),new Vc({round:7,practice_1:"20180608T140000Z",practice_2:"20180608T180000Z",practice_3:"20180609T150000Z",qualification:"20180609T180000Z",race:"20180610T181000Z"}),new Vc({round:8,practice_1:"20180622T100000Z",practice_2:"20180622T140000Z",practice_3:"20180623T110000Z",qualification:"20180623T140000Z",race:"20180624T141000Z"}),new Vc({round:9,practice_1:"20180629T090000Z",practice_2:"20180629T130000Z",practice_3:"20180630T100000Z",qualification:"20180630T130000Z",race:"20180701T131000Z"}),new Vc({round:10,practice_1:"20180706T090000Z",practice_2:"20180706T130000Z",practice_3:"20180707T100000Z",qualification:"20180707T130000Z",race:"20180708T131000Z"}),new Vc({round:11,practice_1:"20180720T090000Z",practice_2:"20180720T130000Z",practice_3:"20180721T100000Z",qualification:"20180721T130000Z",race:"20180722T131000Z"}),new Vc({round:12,practice_1:"20180727T090000Z",practice_2:"20180727T130000Z",practice_3:"20180728T100000Z",qualification:"20180728T130000Z",race:"20180729T131000Z"}),new Vc({round:13,practice_1:"20180824T090000Z",practice_2:"20180824T130000Z",practice_3:"20180825T100000Z",qualification:"20180825T130000Z",race:"20180826T131000Z"}),new Vc({round:14,practice_1:"20180831T090000Z",practice_2:"20180831T130000Z",practice_3:"20180901T100000Z",qualification:"20180901T130000Z",race:"20180902T131000Z"}),new Vc({round:15,practice_1:"20180914T083000Z",practice_2:"20180914T123000Z",practice_3:"20180915T100000Z",qualification:"20180915T130000Z",race:"20180916T121000Z"}),new Vc({round:16,practice_1:"20180928T080000Z",practice_2:"20180928T120000Z",practice_3:"20180929T090000Z",qualification:"20180929T120000Z",race:"20180930T111000Z"}),new Vc({round:17,practice_1:"20181005T010000Z",practice_2:"20181005T050000Z",practice_3:"20181006T030000Z",qualification:"20181006T060000Z",race:"20181007T051000Z"}),new Vc({round:18,practice_1:"20181019T150000Z",practice_2:"20181019T190000Z",practice_3:"20181020T180000Z",qualification:"20181020T210000Z",race:"20181021T181000Z"}),new Vc({round:19,practice_1:"20181026T150000Z",practice_2:"20181026T190000Z",practice_3:"20181027T150000Z",qualification:"20181027T180000Z",race:"20181028T191000Z"}),new Vc({round:20,practice_1:"20181109T140000Z",practice_2:"20181109T180000Z",practice_3:"20181110T150000Z",qualification:"20181110T180000Z",race:"20181111T181000Z"}),new Vc({round:21,practice_1:"20181123T090000Z",practice_2:"20181123T130000Z",practice_3:"20181124T100000Z",qualification:"20181124T130000Z",race:"20181125T131000Z"})],Lc=function(){function e(){Object(de.a)(this,e)}return Object(be.a)(e,[{key:"getF1Calendar",value:function(){return Promise.resolve(Wc)}},{key:"getRaceSchedule",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t,r=arguments;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"2018",e.next=3,Rn.getRaceSchedule(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getRacesResults",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t,r=arguments;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"2018",e.next=3,Rn.getAllRacesResults(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t,r=arguments;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"2018",e.next=3,Rn.getDrivers(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();var Fc,zc,qc,Hc,Gc,Jc,Yc,Kc,$c,Qc,Xc,ei,ti,ri,ai,ni,ci=(Bc=function(){function e(t){Object(de.a)(this,e),Object(je.a)(this,"_currentTime",Cc,this),Object(je.a)(this,"_tick",Dc,this),this._tickInterval=t}return Object(be.a)(e,[{key:"start",value:function(){this._interval=setInterval(this._tick,1e3*this._tickInterval),this._tick()}},{key:"stop",value:function(){this._interval&&clearInterval(this._interval)}},{key:"currentTime",get:function(){return this._currentTime}},{key:"currentTimeUtcString",get:function(){return e=this._currentTime,f()(e).utc().format();var e}}]),e}(),Cc=Object(_e.a)(Bc.prototype,"_currentTime",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f()()}}),Dc=Object(_e.a)(Bc.prototype,"_tick",[o.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._currentTime=f()()}}}),Object(_e.a)(Bc.prototype,"currentTime",[o.computed],Object.getOwnPropertyDescriptor(Bc.prototype,"currentTime"),Bc.prototype),Object(_e.a)(Bc.prototype,"currentTimeUtcString",[o.computed],Object.getOwnPropertyDescriptor(Bc.prototype,"currentTimeUtcString"),Bc.prototype),Bc),ii=(Fc=function(){function e(){Object(de.a)(this,e),Object(je.a)(this,"pendingTasksCount",zc,this)}return Object(be.a)(e,[{key:"runWithProgress",value:function(e){this.pendingTasksCount++,e(),this.pendingTasksCount--}},{key:"runWithProgressAsync",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r,a=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingTasksCount++,e.prev=1,e.next=4,t();case 4:return r=e.sent,Object(o.runInAction)(function(){a.pendingTasksCount--}),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),Object(o.runInAction)(function(){a.pendingTasksCount--});case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"hasPendingTasks",get:function(){return this.pendingTasksCount>0}}]),e}(),zc=Object(_e.a)(Fc.prototype,"pendingTasksCount",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(_e.a)(Fc.prototype,"hasPendingTasks",[o.computed],Object.getOwnPropertyDescriptor(Fc.prototype,"hasPendingTasks"),Fc.prototype),Object(_e.a)(Fc.prototype,"runWithProgress",[o.action],Object.getOwnPropertyDescriptor(Fc.prototype,"runWithProgress"),Fc.prototype),Object(_e.a)(Fc.prototype,"runWithProgressAsync",[o.action],Object.getOwnPropertyDescriptor(Fc.prototype,"runWithProgressAsync"),Fc.prototype),Fc),si=(qc=function(){function e(t){var r=this,a=t.authenticationService,n=t.operationManager;Object(de.a)(this,e),Object(je.a)(this,"authenticatedUser",Hc,this),this._authService=a,this._operationManager=n,this._operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){var t;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.authenticate();case 2:return(t=e.sent)instanceof ft&&Object(o.runInAction)(function(){r.authenticatedUser=t}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})))}return Object(be.a)(e,[{key:"login",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r,a,n=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,a=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){var t;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._authService.login({login:r,password:a});case 2:if(!((t=e.sent)instanceof ft)){e.next=6;break}return Object(o.runInAction)(function(){n.authenticatedUser=t}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.isAuthenticated&&(this._authService.logout(),this.authenticatedUser=null)}},{key:"signIn",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r,a,n,c=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,a=t.name,n=t.password,e.abrupt("return",this._operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){var t;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c._authService.signIn({login:r,name:a,password:n});case 2:if(!((t=e.sent)instanceof ft)){e.next=6;break}return Object(o.runInAction)(function(){c.authenticatedUser=t}),e.abrupt("return",!0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isAuthenticated",get:function(){return null!==this.authenticatedUser}},{key:"isCurrentUserAdmin",get:function(){return this.isAuthenticated&&this.authenticatedUser.isAdmin}}]),e}(),Hc=Object(_e.a)(qc.prototype,"authenticatedUser",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(_e.a)(qc.prototype,"isAuthenticated",[o.computed],Object.getOwnPropertyDescriptor(qc.prototype,"isAuthenticated"),qc.prototype),Object(_e.a)(qc.prototype,"isCurrentUserAdmin",[o.computed],Object.getOwnPropertyDescriptor(qc.prototype,"isCurrentUserAdmin"),qc.prototype),Object(_e.a)(qc.prototype,"login",[o.action],Object.getOwnPropertyDescriptor(qc.prototype,"login"),qc.prototype),Object(_e.a)(qc.prototype,"logout",[o.action],Object.getOwnPropertyDescriptor(qc.prototype,"logout"),qc.prototype),Object(_e.a)(qc.prototype,"signIn",[o.action],Object.getOwnPropertyDescriptor(qc.prototype,"signIn"),qc.prototype),qc),oi=(Gc=function(){function e(t){var r=t.operationManager,a=t.racerService;Object(de.a)(this,e),Object(je.a)(this,"racers",Jc,this),this._operationManager=r,this._racerService=a,this._loadRacers()}return Object(be.a)(e,[{key:"_loadRacers",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){var r;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._racerService.fetchAll();case 3:r=e.sent,Object(o.runInAction)(function(){t.racers=r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Can't load 'racers' in 'RacerListModel'!!\n",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),Jc=Object(_e.a)(Gc.prototype,"racers",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(_e.a)(Gc.prototype,"_loadRacers",[o.action],Object.getOwnPropertyDescriptor(Gc.prototype,"_loadRacers"),Gc.prototype),Gc),ui=(Yc=function(){function e(t){var r=t.operationManager,a=t.raceInfoService,n=t.timeWatcher;Object(de.a)(this,e),Object(je.a)(this,"races",Kc,this),this._operationManager=r,this._timeWatcher=n,this._raceInfoService=a,this.fetchRaces()}return Object(be.a)(e,[{key:"fetchRaces",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){var r;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._raceInfoService.fetchAll();case 3:r=e.sent,Object(o.runInAction)(function(){t.races=r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Can't load 'races' in 'RacesStore'!!\n",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addNewBet",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r._raceInfoService.addOrUpdateBet(t,r.nextRace.id);case 3:return e.next=5,r.fetchRaces();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Can't update Bet in 'RacesStore'",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"nextRace",get:function(){var e=this._timeWatcher.currentTime,t=this.races.filter(function(t){return ze(t.raceStartTime,e)});return Object(Se.a)(t,1)[0]}}]),e}(),Kc=Object(_e.a)(Yc.prototype,"races",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(_e.a)(Yc.prototype,"nextRace",[o.computed],Object.getOwnPropertyDescriptor(Yc.prototype,"nextRace"),Yc.prototype),Object(_e.a)(Yc.prototype,"fetchRaces",[o.action],Object.getOwnPropertyDescriptor(Yc.prototype,"fetchRaces"),Yc.prototype),Object(_e.a)(Yc.prototype,"addNewBet",[o.action],Object.getOwnPropertyDescriptor(Yc.prototype,"addNewBet"),Yc.prototype),Yc),li=($c=function(){function e(t){var r=this,a=t.userService,n=t.sessionModel,c=t.operationManager;Object(de.a)(this,e),Object(je.a)(this,"users",Qc,this),this._userService=a,this._operationManager=c,this._session=n,this._operationManager.runWithProgressAsync(function(){return r.fetchUsers()})}return Object(be.a)(e,[{key:"fetchUsers",value:function(){var e=this;try{return this._operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function t(){var r;return ht.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._userService.fetchAll();case 2:r=t.sent,Object(o.runInAction)(Object(mt.a)(ht.a.mark(function t(){return ht.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.users=r;case 1:case"end":return t.stop()}},t,this)})));case 4:case"end":return t.stop()}},t,this)})))}catch(t){console.log("Can't load 'users' in UserModel!!\n",t)}}},{key:"deleteUser",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._userService.delete(t);case 2:return e.next=4,this.fetchUsers();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(mt.a)(ht.a.mark(function e(t){var r=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._userService.addOrUpdate(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"currentUser",get:function(){return this._session.authenticatedUser}}]),e}(),Qc=Object(_e.a)($c.prototype,"users",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(_e.a)($c.prototype,"currentUser",[o.computed],Object.getOwnPropertyDescriptor($c.prototype,"currentUser"),$c.prototype),Object(_e.a)($c.prototype,"fetchUsers",[o.action],Object.getOwnPropertyDescriptor($c.prototype,"fetchUsers"),$c.prototype),Object(_e.a)($c.prototype,"addOrUpdate",[o.action],Object.getOwnPropertyDescriptor($c.prototype,"addOrUpdate"),$c.prototype),$c),pi=(Xc=function(){function e(t){var r=t.formulaOneOfficialDataService,a=t.operationManager;Object(de.a)(this,e),Object(je.a)(this,"roundsInfo",ei,this),Object(je.a)(this,"racesResults",ti,this),Object(je.a)(this,"racers",ri,this),this._service=r,this._operationManager=a,this._fetchRacesSchedule(),this._fetchRacesResults(),this._fetchRacers()}return Object(be.a)(e,[{key:"_fetchRacesSchedule",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){var r;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._service.fetchSeasonRoundsSchedule();case 3:r=e.sent,Object(o.runInAction)(function(){t.roundsInfo=r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacesResults",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){var r;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._service.fetchRacesResults();case 3:r=e.sent,Object(o.runInAction)(function(){t.racesResults=r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchRacers",value:function(){var e=Object(mt.a)(ht.a.mark(function e(){var t=this;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._operationManager.runWithProgressAsync(Object(mt.a)(ht.a.mark(function e(){var r;return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._service.fetchRacers();case 3:r=e.sent,Object(o.runInAction)(function(){t.racers=r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),ei=Object(_e.a)(Xc.prototype,"roundsInfo",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ti=Object(_e.a)(Xc.prototype,"racesResults",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ri=Object(_e.a)(Xc.prototype,"racers",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xc),hi=(ai=function(){function e(t,r){var a=this;Object(de.a)(this,e);var n=t.userService,c=t.authenticationService,i=t.raceInfoService,s=t.racerService,u=t.formulaOneOfficialDataService;this._raceInfoService=i,this._isProductionMode=r.isProductionMode();var l=r.getTickInterval();this._timeWatcher=new ci(l);var p=new ii;this._operationManager=p,this._sessionModel=new si({authenticationService:c,operationManager:p}),this._racerListModel=new oi({racerService:s,operationManager:p}),this._racesModel=new ui({raceInfoService:i,operationManager:p,timeWatcher:this._timeWatcher}),this._usersModel=new li({operationManager:p,userService:n,sessionModel:this._sessionModel}),this._formulaOneOfficialModel=new pi({formulaOneOfficialDataService:u,operationManager:p}),Object(o.when)(function(){return a.nextRace&&ze(a._timeWatcher.currentTime,a.nextRace.raceStartTime)},Object(mt.a)(ht.a.mark(function e(){return ht.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a._racesModel.fetchRaces();case 2:case"end":return e.stop()}},e,this)})))}return Object(be.a)(e,[{key:"addNewBet",value:function(e){return this._racesModel.addNewBet(e)}},{key:"isUserAlreadyBet",get:function(){var e=this;return!!this._sessionModel.authenticatedUser&&(!!this.nextRace&&this.nextRace.bets.some(function(t){return t.userInfo.id===e._sessionModel.authenticatedUser.id}))}},{key:"races",get:function(){return this._racesModel.races}},{key:"racers",get:function(){return this._racerListModel.racers}},{key:"isProduction",get:function(){return this._isProductionMode}},{key:"isBetsAllowed",get:function(){var e=this.nextRace&&this.nextRace.raceStartTime,t=this.nextRace&&this.nextRace.qualifyingStartTime;return!(!t||!e)&&(t&&e&&!function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"minute";return e=Fe(e),t=Fe(t),r=Fe(r),e.isBetween(t,r,a)}(this.timeWatcher.currentTime,function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minute";return(e=Fe(e)).subtract(t,r)}(t,15),e))}},{key:"isUserAuthenticated",get:function(){return this._sessionModel.isAuthenticated}},{key:"isUserAdmin",get:function(){return this._sessionModel.isCurrentUserAdmin}},{key:"nextRace",get:function(){return this._racesModel.nextRace}},{key:"authUserBets",get:function(){var e=[];if(!this._sessionModel.authenticatedUser)return e;var t=this._sessionModel.authenticatedUser.id;return this.races.forEach(function(r){var a=r.bets,n=r.prettyTitle,c=r.id;if(a.some(function(e){return e.userInfo.id===t})){var i=a[a.findIndex(function(e){return e.userInfo.id===t})];e.push({raceId:c,title:n,bet:i.betsMap})}}),e}},{key:"session",get:function(){return this._sessionModel}},{key:"usersModel",get:function(){return this._usersModel}},{key:"timeWatcher",get:function(){return this._timeWatcher}},{key:"operationManager",get:function(){return this._operationManager}},{key:"formulaOneOfficial",get:function(){return this._formulaOneOfficialModel}}]),e}(),Object(_e.a)(ai.prototype,"isUserAlreadyBet",[o.computed],Object.getOwnPropertyDescriptor(ai.prototype,"isUserAlreadyBet"),ai.prototype),Object(_e.a)(ai.prototype,"races",[o.computed],Object.getOwnPropertyDescriptor(ai.prototype,"races"),ai.prototype),Object(_e.a)(ai.prototype,"racers",[o.computed],Object.getOwnPropertyDescriptor(ai.prototype,"racers"),ai.prototype),Object(_e.a)(ai.prototype,"isBetsAllowed",[o.computed],Object.getOwnPropertyDescriptor(ai.prototype,"isBetsAllowed"),ai.prototype),Object(_e.a)(ai.prototype,"authUserBets",[o.computed],Object.getOwnPropertyDescriptor(ai.prototype,"authUserBets"),ai.prototype),ai),mi=function(){function e(t){var r=t.configProvider;Object(de.a)(this,e),this._isProductionMode=r.isProductionMode(),this._services=function(e){var t=e.getUserStoreApiUrl(),r=e.getRaceStoreApiUrl(),a=e.getLocalStorageUserKey(),n=new Lc,c=new tc({userStoreApiUrl:t}),i=new rc({raceInfoStoreApiUrl:r});return{userService:c,authenticationService:new ac({localStorageUserKey:a,userService:c,cryptoService:ic}),raceInfoService:i,racerService:new xc,teamService:new Mc,formulaOneOfficialDataService:new Zc({formulaOneOfficialDataRepository:n})}}(r),this._appModel=new hi(this._services,r),this._stores=$n(this._appModel)}return Object(be.a)(e,[{key:"getStores",value:function(){return this._stores}}]),e}(),fi=Object(ye.a)(ni=function(e){function t(){return Object(de.a)(this,t),Object(ve.a)(this,Object(Oe.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(be.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.a.Component))||ni;Object(o.configure)({enforceActions:"strict"});var di=new mi({configProvider:h}).getStores();i.a.render(n.a.createElement(u.a,di,n.a.createElement(s.a,null,n.a.createElement(fi,null,n.a.createElement(Da,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");l?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):p(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):p(e)})}}()}},[[392,2,1]]]);